var _N=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var P7=_N((A7,Bh)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var wN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hT={exports:{}},qd={},dT={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Du=Symbol.for("react.element"),SN=Symbol.for("react.portal"),TN=Symbol.for("react.fragment"),EN=Symbol.for("react.strict_mode"),CN=Symbol.for("react.profiler"),kN=Symbol.for("react.provider"),bN=Symbol.for("react.context"),IN=Symbol.for("react.forward_ref"),PN=Symbol.for("react.suspense"),LN=Symbol.for("react.memo"),NN=Symbol.for("react.lazy"),r1=Symbol.iterator;function MN(t){return t===null||typeof t!="object"?null:(t=r1&&t[r1]||t["@@iterator"],typeof t=="function"?t:null)}var fT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pT=Object.assign,mT={};function ba(t,e,n){this.props=t,this.context=e,this.refs=mT,this.updater=n||fT}ba.prototype.isReactComponent={};ba.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ba.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function gT(){}gT.prototype=ba.prototype;function Jv(t,e,n){this.props=t,this.context=e,this.refs=mT,this.updater=n||fT}var ey=Jv.prototype=new gT;ey.constructor=Jv;pT(ey,ba.prototype);ey.isPureReactComponent=!0;var s1=Array.isArray,vT=Object.prototype.hasOwnProperty,ty={current:null},yT={key:!0,ref:!0,__self:!0,__source:!0};function _T(t,e,n){var i,r={},s=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)vT.call(e,i)&&!yT.hasOwnProperty(i)&&(r[i]=e[i]);var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];r.children=c}if(t&&t.defaultProps)for(i in u=t.defaultProps,u)r[i]===void 0&&(r[i]=u[i]);return{$$typeof:Du,type:t,key:s,ref:a,props:r,_owner:ty.current}}function ON(t,e){return{$$typeof:Du,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ny(t){return typeof t=="object"&&t!==null&&t.$$typeof===Du}function AN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var o1=/\/+/g;function Kp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?AN(""+t.key):e.toString(36)}function vh(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Du:case SN:a=!0}}if(a)return a=t,r=r(a),t=i===""?"."+Kp(a,0):i,s1(r)?(n="",t!=null&&(n=t.replace(o1,"$&/")+"/"),vh(r,e,n,"",function(d){return d})):r!=null&&(ny(r)&&(r=ON(r,n+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(o1,"$&/")+"/")+t)),e.push(r)),1;if(a=0,i=i===""?".":i+":",s1(t))for(var u=0;u<t.length;u++){s=t[u];var c=i+Kp(s,u);a+=vh(s,e,n,c,r)}else if(c=MN(t),typeof c=="function")for(t=c.call(t),u=0;!(s=t.next()).done;)s=s.value,c=i+Kp(s,u++),a+=vh(s,e,n,c,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Rc(t,e,n){if(t==null)return t;var i=[],r=0;return vh(t,i,"","",function(s){return e.call(n,s,r++)}),i}function RN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var an={current:null},yh={transition:null},DN={ReactCurrentDispatcher:an,ReactCurrentBatchConfig:yh,ReactCurrentOwner:ty};Ie.Children={map:Rc,forEach:function(t,e,n){Rc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Rc(t,function(){e++}),e},toArray:function(t){return Rc(t,function(e){return e})||[]},only:function(t){if(!ny(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=ba;Ie.Fragment=TN;Ie.Profiler=CN;Ie.PureComponent=Jv;Ie.StrictMode=EN;Ie.Suspense=PN;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DN;Ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=pT({},t.props),r=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=ty.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)vT.call(e,c)&&!yT.hasOwnProperty(c)&&(i[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];i.children=u}return{$$typeof:Du,type:t.type,key:r,ref:s,props:i,_owner:a}};Ie.createContext=function(t){return t={$$typeof:bN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kN,_context:t},t.Consumer=t};Ie.createElement=_T;Ie.createFactory=function(t){var e=_T.bind(null,t);return e.type=t,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:IN,render:t}};Ie.isValidElement=ny;Ie.lazy=function(t){return{$$typeof:NN,_payload:{_status:-1,_result:t},_init:RN}};Ie.memo=function(t,e){return{$$typeof:LN,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=yh.transition;yh.transition={};try{t()}finally{yh.transition=e}};Ie.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ie.useCallback=function(t,e){return an.current.useCallback(t,e)};Ie.useContext=function(t){return an.current.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t){return an.current.useDeferredValue(t)};Ie.useEffect=function(t,e){return an.current.useEffect(t,e)};Ie.useId=function(){return an.current.useId()};Ie.useImperativeHandle=function(t,e,n){return an.current.useImperativeHandle(t,e,n)};Ie.useInsertionEffect=function(t,e){return an.current.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return an.current.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return an.current.useMemo(t,e)};Ie.useReducer=function(t,e,n){return an.current.useReducer(t,e,n)};Ie.useRef=function(t){return an.current.useRef(t)};Ie.useState=function(t){return an.current.useState(t)};Ie.useSyncExternalStore=function(t,e,n){return an.current.useSyncExternalStore(t,e,n)};Ie.useTransition=function(){return an.current.useTransition()};Ie.version="18.2.0";dT.exports=Ie;var M=dT.exports;const le=xN(M);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $N=M,zN=Symbol.for("react.element"),FN=Symbol.for("react.fragment"),UN=Object.prototype.hasOwnProperty,jN=$N.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BN={key:!0,ref:!0,__self:!0,__source:!0};function wT(t,e,n){var i,r={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)UN.call(e,i)&&!BN.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:zN,type:t,key:s,ref:a,props:r,_owner:jN.current}}qd.Fragment=FN;qd.jsx=wT;qd.jsxs=wT;hT.exports=qd;var T=hT.exports,lg={},xT={exports:{}},Ln={},ST={exports:{}},TT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,Z){var V=D.length;D.push(Z);e:for(;0<V;){var se=V-1>>>1,Se=D[se];if(0<r(Se,Z))D[se]=Z,D[V]=Se,V=se;else break e}}function n(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var Z=D[0],V=D.pop();if(V!==Z){D[0]=V;e:for(var se=0,Se=D.length,Xe=Se>>>1;se<Xe;){var ke=2*(se+1)-1,Pe=D[ke],ge=ke+1,un=D[ge];if(0>r(Pe,V))ge<Se&&0>r(un,Pe)?(D[se]=un,D[ge]=V,se=ge):(D[se]=Pe,D[ke]=V,se=ke);else if(ge<Se&&0>r(un,V))D[se]=un,D[ge]=V,se=ge;else break e}}return Z}function r(D,Z){var V=D.sortIndex-Z.sortIndex;return V!==0?V:D.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],d=[],p=1,g=null,y=3,w=!1,E=!1,C=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(D){for(var Z=n(d);Z!==null;){if(Z.callback===null)i(d);else if(Z.startTime<=D)i(d),Z.sortIndex=Z.expirationTime,e(c,Z);else break;Z=n(d)}}function k(D){if(C=!1,S(D),!E)if(n(c)!==null)E=!0,ee(P);else{var Z=n(d);Z!==null&&_e(k,Z.startTime-D)}}function P(D,Z){E=!1,C&&(C=!1,v(N),N=-1),w=!0;var V=y;try{for(S(Z),g=n(c);g!==null&&(!(g.expirationTime>Z)||D&&!F());){var se=g.callback;if(typeof se=="function"){g.callback=null,y=g.priorityLevel;var Se=se(g.expirationTime<=Z);Z=t.unstable_now(),typeof Se=="function"?g.callback=Se:g===n(c)&&i(c),S(Z)}else i(c);g=n(c)}if(g!==null)var Xe=!0;else{var ke=n(d);ke!==null&&_e(k,ke.startTime-Z),Xe=!1}return Xe}finally{g=null,y=V,w=!1}}var O=!1,z=null,N=-1,j=5,Y=-1;function F(){return!(t.unstable_now()-Y<j)}function $(){if(z!==null){var D=t.unstable_now();Y=D;var Z=!0;try{Z=z(!0,D)}finally{Z?q():(O=!1,z=null)}}else O=!1}var q;if(typeof _=="function")q=function(){_($)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,Ce=ie.port2;ie.port1.onmessage=$,q=function(){Ce.postMessage(null)}}else q=function(){b($,0)};function ee(D){z=D,O||(O=!0,q())}function _e(D,Z){N=b(function(){D(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){E||w||(E=!0,ee(P))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(D){switch(y){case 1:case 2:case 3:var Z=3;break;default:Z=y}var V=y;y=Z;try{return D()}finally{y=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,Z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var V=y;y=D;try{return Z()}finally{y=V}},t.unstable_scheduleCallback=function(D,Z,V){var se=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?se+V:se):V=se,D){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=V+Se,D={id:p++,callback:Z,priorityLevel:D,startTime:V,expirationTime:Se,sortIndex:-1},V>se?(D.sortIndex=V,e(d,D),n(c)===null&&D===n(d)&&(C?(v(N),N=-1):C=!0,_e(k,V-se))):(D.sortIndex=Se,e(c,D),E||w||(E=!0,ee(P))),D},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(D){var Z=y;return function(){var V=y;y=Z;try{return D.apply(this,arguments)}finally{y=V}}}})(TT);ST.exports=TT;var VN=ST.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ET=M,In=VN;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var CT=new Set,Kl={};function ao(t,e){ca(t,e),ca(t+"Capture",e)}function ca(t,e){for(Kl[t]=e,t=0;t<e.length;t++)CT.add(e[t])}var ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ug=Object.prototype.hasOwnProperty,HN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,a1={},l1={};function WN(t){return ug.call(l1,t)?!0:ug.call(a1,t)?!1:HN.test(t)?l1[t]=!0:(a1[t]=!0,!1)}function GN(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function qN(t,e,n,i){if(e===null||typeof e>"u"||GN(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ln(t,e,n,i,r,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$t[t]=new ln(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$t[e]=new ln(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$t[t]=new ln(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$t[t]=new ln(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$t[t]=new ln(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$t[t]=new ln(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$t[t]=new ln(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$t[t]=new ln(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$t[t]=new ln(t,5,!1,t.toLowerCase(),null,!1,!1)});var iy=/[\-:]([a-z])/g;function ry(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(iy,ry);$t[e]=new ln(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(iy,ry);$t[e]=new ln(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(iy,ry);$t[e]=new ln(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$t[t]=new ln(t,1,!1,t.toLowerCase(),null,!1,!1)});$t.xlinkHref=new ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$t[t]=new ln(t,1,!1,t.toLowerCase(),null,!0,!0)});function sy(t,e,n,i){var r=$t.hasOwnProperty(e)?$t[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qN(e,n,r,i)&&(n=null),i||r===null?WN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var wr=ET.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Dc=Symbol.for("react.element"),Ao=Symbol.for("react.portal"),Ro=Symbol.for("react.fragment"),oy=Symbol.for("react.strict_mode"),cg=Symbol.for("react.profiler"),kT=Symbol.for("react.provider"),bT=Symbol.for("react.context"),ay=Symbol.for("react.forward_ref"),hg=Symbol.for("react.suspense"),dg=Symbol.for("react.suspense_list"),ly=Symbol.for("react.memo"),Ir=Symbol.for("react.lazy"),IT=Symbol.for("react.offscreen"),u1=Symbol.iterator;function rl(t){return t===null||typeof t!="object"?null:(t=u1&&t[u1]||t["@@iterator"],typeof t=="function"?t:null)}var rt=Object.assign,Qp;function yl(t){if(Qp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Qp=e&&e[1]||""}return`
`+Qp+t}var Xp=!1;function Jp(t,e){if(!t||Xp)return"";Xp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var i=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){i=d}t.call(e.prototype)}else{try{throw Error()}catch(d){i=d}t()}}catch(d){if(d&&i&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),s=i.stack.split(`
`),a=r.length-1,u=s.length-1;1<=a&&0<=u&&r[a]!==s[u];)u--;for(;1<=a&&0<=u;a--,u--)if(r[a]!==s[u]){if(a!==1||u!==1)do if(a--,u--,0>u||r[a]!==s[u]){var c=`
`+r[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=u);break}}}finally{Xp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?yl(t):""}function YN(t){switch(t.tag){case 5:return yl(t.type);case 16:return yl("Lazy");case 13:return yl("Suspense");case 19:return yl("SuspenseList");case 0:case 2:case 15:return t=Jp(t.type,!1),t;case 11:return t=Jp(t.type.render,!1),t;case 1:return t=Jp(t.type,!0),t;default:return""}}function fg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ro:return"Fragment";case Ao:return"Portal";case cg:return"Profiler";case oy:return"StrictMode";case hg:return"Suspense";case dg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case bT:return(t.displayName||"Context")+".Consumer";case kT:return(t._context.displayName||"Context")+".Provider";case ay:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ly:return e=t.displayName||null,e!==null?e:fg(t.type)||"Memo";case Ir:e=t._payload,t=t._init;try{return fg(t(e))}catch{}}return null}function ZN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fg(e);case 8:return e===oy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ss(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function PT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function KN(t){var e=PT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $c(t){t._valueTracker||(t._valueTracker=KN(t))}function LT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=PT(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Vh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function pg(t,e){var n=e.checked;return rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function c1(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=ss(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function NT(t,e){e=e.checked,e!=null&&sy(t,"checked",e,!1)}function mg(t,e){NT(t,e);var n=ss(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gg(t,e.type,n):e.hasOwnProperty("defaultValue")&&gg(t,e.type,ss(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function h1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function gg(t,e,n){(e!=="number"||Vh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _l=Array.isArray;function Yo(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+ss(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function vg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function d1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(_l(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ss(n)}}function MT(t,e){var n=ss(e.value),i=ss(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function f1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function OT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?OT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zc,AT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(zc=zc||document.createElement("div"),zc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ql(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ll={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QN=["Webkit","ms","Moz","O"];Object.keys(Ll).forEach(function(t){QN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ll[e]=Ll[t]})});function RT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ll.hasOwnProperty(t)&&Ll[t]?(""+e).trim():e+"px"}function DT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=RT(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var XN=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _g(t,e){if(e){if(XN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function wg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xg=null;function uy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sg=null,Zo=null,Ko=null;function p1(t){if(t=Fu(t)){if(typeof Sg!="function")throw Error(H(280));var e=t.stateNode;e&&(e=Xd(e),Sg(t.stateNode,t.type,e))}}function $T(t){Zo?Ko?Ko.push(t):Ko=[t]:Zo=t}function zT(){if(Zo){var t=Zo,e=Ko;if(Ko=Zo=null,p1(t),e)for(t=0;t<e.length;t++)p1(e[t])}}function FT(t,e){return t(e)}function UT(){}var em=!1;function jT(t,e,n){if(em)return t(e,n);em=!0;try{return FT(t,e,n)}finally{em=!1,(Zo!==null||Ko!==null)&&(UT(),zT())}}function Xl(t,e){var n=t.stateNode;if(n===null)return null;var i=Xd(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Tg=!1;if(ur)try{var sl={};Object.defineProperty(sl,"passive",{get:function(){Tg=!0}}),window.addEventListener("test",sl,sl),window.removeEventListener("test",sl,sl)}catch{Tg=!1}function JN(t,e,n,i,r,s,a,u,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(p){this.onError(p)}}var Nl=!1,Hh=null,Wh=!1,Eg=null,eM={onError:function(t){Nl=!0,Hh=t}};function tM(t,e,n,i,r,s,a,u,c){Nl=!1,Hh=null,JN.apply(eM,arguments)}function nM(t,e,n,i,r,s,a,u,c){if(tM.apply(this,arguments),Nl){if(Nl){var d=Hh;Nl=!1,Hh=null}else throw Error(H(198));Wh||(Wh=!0,Eg=d)}}function lo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function BT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function m1(t){if(lo(t)!==t)throw Error(H(188))}function iM(t){var e=t.alternate;if(!e){if(e=lo(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return m1(r),t;if(s===i)return m1(r),e;s=s.sibling}throw Error(H(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,u=r.child;u;){if(u===n){a=!0,n=r,i=s;break}if(u===i){a=!0,i=r,n=s;break}u=u.sibling}if(!a){for(u=s.child;u;){if(u===n){a=!0,n=s,i=r;break}if(u===i){a=!0,i=s,n=r;break}u=u.sibling}if(!a)throw Error(H(189))}}if(n.alternate!==i)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function VT(t){return t=iM(t),t!==null?HT(t):null}function HT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=HT(t);if(e!==null)return e;t=t.sibling}return null}var WT=In.unstable_scheduleCallback,g1=In.unstable_cancelCallback,rM=In.unstable_shouldYield,sM=In.unstable_requestPaint,dt=In.unstable_now,oM=In.unstable_getCurrentPriorityLevel,cy=In.unstable_ImmediatePriority,GT=In.unstable_UserBlockingPriority,Gh=In.unstable_NormalPriority,aM=In.unstable_LowPriority,qT=In.unstable_IdlePriority,Yd=null,bi=null;function lM(t){if(bi&&typeof bi.onCommitFiberRoot=="function")try{bi.onCommitFiberRoot(Yd,t,void 0,(t.current.flags&128)===128)}catch{}}var ri=Math.clz32?Math.clz32:hM,uM=Math.log,cM=Math.LN2;function hM(t){return t>>>=0,t===0?32:31-(uM(t)/cM|0)|0}var Fc=64,Uc=4194304;function wl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qh(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var u=a&~r;u!==0?i=wl(u):(s&=a,s!==0&&(i=wl(s)))}else a=n&~r,a!==0?i=wl(a):s!==0&&(i=wl(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-ri(e),r=1<<n,i|=t[n],e&=~r;return i}function dM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fM(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-ri(s),u=1<<a,c=r[a];c===-1?(!(u&n)||u&i)&&(r[a]=dM(u,e)):c<=e&&(t.expiredLanes|=u),s&=~u}}function Cg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function YT(){var t=Fc;return Fc<<=1,!(Fc&4194240)&&(Fc=64),t}function tm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function $u(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ri(e),t[e]=n}function pM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-ri(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function hy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-ri(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var Fe=0;function ZT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var KT,dy,QT,XT,JT,kg=!1,jc=[],Wr=null,Gr=null,qr=null,Jl=new Map,eu=new Map,Lr=[],mM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function v1(t,e){switch(t){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":Jl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":eu.delete(e.pointerId)}}function ol(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Fu(e),e!==null&&dy(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function gM(t,e,n,i,r){switch(e){case"focusin":return Wr=ol(Wr,t,e,n,i,r),!0;case"dragenter":return Gr=ol(Gr,t,e,n,i,r),!0;case"mouseover":return qr=ol(qr,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Jl.set(s,ol(Jl.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,eu.set(s,ol(eu.get(s)||null,t,e,n,i,r)),!0}return!1}function eE(t){var e=Ls(t.target);if(e!==null){var n=lo(e);if(n!==null){if(e=n.tag,e===13){if(e=BT(n),e!==null){t.blockedOn=e,JT(t.priority,function(){QT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _h(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);xg=i,n.target.dispatchEvent(i),xg=null}else return e=Fu(n),e!==null&&dy(e),t.blockedOn=n,!1;e.shift()}return!0}function y1(t,e,n){_h(t)&&n.delete(e)}function vM(){kg=!1,Wr!==null&&_h(Wr)&&(Wr=null),Gr!==null&&_h(Gr)&&(Gr=null),qr!==null&&_h(qr)&&(qr=null),Jl.forEach(y1),eu.forEach(y1)}function al(t,e){t.blockedOn===e&&(t.blockedOn=null,kg||(kg=!0,In.unstable_scheduleCallback(In.unstable_NormalPriority,vM)))}function tu(t){function e(r){return al(r,t)}if(0<jc.length){al(jc[0],t);for(var n=1;n<jc.length;n++){var i=jc[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Wr!==null&&al(Wr,t),Gr!==null&&al(Gr,t),qr!==null&&al(qr,t),Jl.forEach(e),eu.forEach(e),n=0;n<Lr.length;n++)i=Lr[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Lr.length&&(n=Lr[0],n.blockedOn===null);)eE(n),n.blockedOn===null&&Lr.shift()}var Qo=wr.ReactCurrentBatchConfig,Yh=!0;function yM(t,e,n,i){var r=Fe,s=Qo.transition;Qo.transition=null;try{Fe=1,fy(t,e,n,i)}finally{Fe=r,Qo.transition=s}}function _M(t,e,n,i){var r=Fe,s=Qo.transition;Qo.transition=null;try{Fe=4,fy(t,e,n,i)}finally{Fe=r,Qo.transition=s}}function fy(t,e,n,i){if(Yh){var r=bg(t,e,n,i);if(r===null)hm(t,e,i,Zh,n),v1(t,i);else if(gM(r,t,e,n,i))i.stopPropagation();else if(v1(t,i),e&4&&-1<mM.indexOf(t)){for(;r!==null;){var s=Fu(r);if(s!==null&&KT(s),s=bg(t,e,n,i),s===null&&hm(t,e,i,Zh,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else hm(t,e,i,null,n)}}var Zh=null;function bg(t,e,n,i){if(Zh=null,t=uy(i),t=Ls(t),t!==null)if(e=lo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=BT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Zh=t,null}function tE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oM()){case cy:return 1;case GT:return 4;case Gh:case aM:return 16;case qT:return 536870912;default:return 16}default:return 16}}var Dr=null,py=null,wh=null;function nE(){if(wh)return wh;var t,e=py,n=e.length,i,r="value"in Dr?Dr.value:Dr.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===r[s-i];i++);return wh=r.slice(t,1<i?1-i:void 0)}function xh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bc(){return!0}function _1(){return!1}function Nn(t){function e(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Bc:_1,this.isPropagationStopped=_1,this}return rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bc)},persist:function(){},isPersistent:Bc}),e}var Ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},my=Nn(Ia),zu=rt({},Ia,{view:0,detail:0}),wM=Nn(zu),nm,im,ll,Zd=rt({},zu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ll&&(ll&&t.type==="mousemove"?(nm=t.screenX-ll.screenX,im=t.screenY-ll.screenY):im=nm=0,ll=t),nm)},movementY:function(t){return"movementY"in t?t.movementY:im}}),w1=Nn(Zd),xM=rt({},Zd,{dataTransfer:0}),SM=Nn(xM),TM=rt({},zu,{relatedTarget:0}),rm=Nn(TM),EM=rt({},Ia,{animationName:0,elapsedTime:0,pseudoElement:0}),CM=Nn(EM),kM=rt({},Ia,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bM=Nn(kM),IM=rt({},Ia,{data:0}),x1=Nn(IM),PM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function MM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=NM[t])?!!e[t]:!1}function gy(){return MM}var OM=rt({},zu,{key:function(t){if(t.key){var e=PM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gy,charCode:function(t){return t.type==="keypress"?xh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),AM=Nn(OM),RM=rt({},Zd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S1=Nn(RM),DM=rt({},zu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gy}),$M=Nn(DM),zM=rt({},Ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),FM=Nn(zM),UM=rt({},Zd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jM=Nn(UM),BM=[9,13,27,32],vy=ur&&"CompositionEvent"in window,Ml=null;ur&&"documentMode"in document&&(Ml=document.documentMode);var VM=ur&&"TextEvent"in window&&!Ml,iE=ur&&(!vy||Ml&&8<Ml&&11>=Ml),T1=String.fromCharCode(32),E1=!1;function rE(t,e){switch(t){case"keyup":return BM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Do=!1;function HM(t,e){switch(t){case"compositionend":return sE(e);case"keypress":return e.which!==32?null:(E1=!0,T1);case"textInput":return t=e.data,t===T1&&E1?null:t;default:return null}}function WM(t,e){if(Do)return t==="compositionend"||!vy&&rE(t,e)?(t=nE(),wh=py=Dr=null,Do=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return iE&&e.locale!=="ko"?null:e.data;default:return null}}var GM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function C1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!GM[t.type]:e==="textarea"}function oE(t,e,n,i){$T(i),e=Kh(e,"onChange"),0<e.length&&(n=new my("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Ol=null,nu=null;function qM(t){vE(t,0)}function Kd(t){var e=Fo(t);if(LT(e))return t}function YM(t,e){if(t==="change")return e}var aE=!1;if(ur){var sm;if(ur){var om="oninput"in document;if(!om){var k1=document.createElement("div");k1.setAttribute("oninput","return;"),om=typeof k1.oninput=="function"}sm=om}else sm=!1;aE=sm&&(!document.documentMode||9<document.documentMode)}function b1(){Ol&&(Ol.detachEvent("onpropertychange",lE),nu=Ol=null)}function lE(t){if(t.propertyName==="value"&&Kd(nu)){var e=[];oE(e,nu,t,uy(t)),jT(qM,e)}}function ZM(t,e,n){t==="focusin"?(b1(),Ol=e,nu=n,Ol.attachEvent("onpropertychange",lE)):t==="focusout"&&b1()}function KM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Kd(nu)}function QM(t,e){if(t==="click")return Kd(e)}function XM(t,e){if(t==="input"||t==="change")return Kd(e)}function JM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ai=typeof Object.is=="function"?Object.is:JM;function iu(t,e){if(ai(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!ug.call(e,r)||!ai(t[r],e[r]))return!1}return!0}function I1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function P1(t,e){var n=I1(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=I1(n)}}function uE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?uE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cE(){for(var t=window,e=Vh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Vh(t.document)}return e}function yy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eO(t){var e=cE(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&uE(n.ownerDocument.documentElement,n)){if(i!==null&&yy(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=P1(n,s);var a=P1(n,i);r&&a&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tO=ur&&"documentMode"in document&&11>=document.documentMode,$o=null,Ig=null,Al=null,Pg=!1;function L1(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pg||$o==null||$o!==Vh(i)||(i=$o,"selectionStart"in i&&yy(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Al&&iu(Al,i)||(Al=i,i=Kh(Ig,"onSelect"),0<i.length&&(e=new my("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=$o)))}function Vc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zo={animationend:Vc("Animation","AnimationEnd"),animationiteration:Vc("Animation","AnimationIteration"),animationstart:Vc("Animation","AnimationStart"),transitionend:Vc("Transition","TransitionEnd")},am={},hE={};ur&&(hE=document.createElement("div").style,"AnimationEvent"in window||(delete zo.animationend.animation,delete zo.animationiteration.animation,delete zo.animationstart.animation),"TransitionEvent"in window||delete zo.transitionend.transition);function Qd(t){if(am[t])return am[t];if(!zo[t])return t;var e=zo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in hE)return am[t]=e[n];return t}var dE=Qd("animationend"),fE=Qd("animationiteration"),pE=Qd("animationstart"),mE=Qd("transitionend"),gE=new Map,N1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hs(t,e){gE.set(t,e),ao(e,[t])}for(var lm=0;lm<N1.length;lm++){var um=N1[lm],nO=um.toLowerCase(),iO=um[0].toUpperCase()+um.slice(1);hs(nO,"on"+iO)}hs(dE,"onAnimationEnd");hs(fE,"onAnimationIteration");hs(pE,"onAnimationStart");hs("dblclick","onDoubleClick");hs("focusin","onFocus");hs("focusout","onBlur");hs(mE,"onTransitionEnd");ca("onMouseEnter",["mouseout","mouseover"]);ca("onMouseLeave",["mouseout","mouseover"]);ca("onPointerEnter",["pointerout","pointerover"]);ca("onPointerLeave",["pointerout","pointerover"]);ao("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ao("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ao("onBeforeInput",["compositionend","keypress","textInput","paste"]);ao("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ao("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ao("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rO=new Set("cancel close invalid load scroll toggle".split(" ").concat(xl));function M1(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,nM(i,e,void 0,t),t.currentTarget=null}function vE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var u=i[a],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==s&&r.isPropagationStopped())break e;M1(r,u,d),s=c}else for(a=0;a<i.length;a++){if(u=i[a],c=u.instance,d=u.currentTarget,u=u.listener,c!==s&&r.isPropagationStopped())break e;M1(r,u,d),s=c}}}if(Wh)throw t=Eg,Wh=!1,Eg=null,t}function He(t,e){var n=e[Ag];n===void 0&&(n=e[Ag]=new Set);var i=t+"__bubble";n.has(i)||(yE(e,t,2,!1),n.add(i))}function cm(t,e,n){var i=0;e&&(i|=4),yE(n,t,i,e)}var Hc="_reactListening"+Math.random().toString(36).slice(2);function ru(t){if(!t[Hc]){t[Hc]=!0,CT.forEach(function(n){n!=="selectionchange"&&(rO.has(n)||cm(n,!1,t),cm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Hc]||(e[Hc]=!0,cm("selectionchange",!1,e))}}function yE(t,e,n,i){switch(tE(e)){case 1:var r=yM;break;case 4:r=_M;break;default:r=fy}n=r.bind(null,e,n,t),r=void 0,!Tg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function hm(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var u=i.stateNode.containerInfo;if(u===r||u.nodeType===8&&u.parentNode===r)break;if(a===4)for(a=i.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;a=a.return}for(;u!==null;){if(a=Ls(u),a===null)return;if(c=a.tag,c===5||c===6){i=s=a;continue e}u=u.parentNode}}i=i.return}jT(function(){var d=s,p=uy(n),g=[];e:{var y=gE.get(t);if(y!==void 0){var w=my,E=t;switch(t){case"keypress":if(xh(n)===0)break e;case"keydown":case"keyup":w=AM;break;case"focusin":E="focus",w=rm;break;case"focusout":E="blur",w=rm;break;case"beforeblur":case"afterblur":w=rm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=w1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=SM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=$M;break;case dE:case fE:case pE:w=CM;break;case mE:w=FM;break;case"scroll":w=wM;break;case"wheel":w=jM;break;case"copy":case"cut":case"paste":w=bM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=S1}var C=(e&4)!==0,b=!C&&t==="scroll",v=C?y!==null?y+"Capture":null:y;C=[];for(var _=d,S;_!==null;){S=_;var k=S.stateNode;if(S.tag===5&&k!==null&&(S=k,v!==null&&(k=Xl(_,v),k!=null&&C.push(su(_,k,S)))),b)break;_=_.return}0<C.length&&(y=new w(y,E,null,n,p),g.push({event:y,listeners:C}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",y&&n!==xg&&(E=n.relatedTarget||n.fromElement)&&(Ls(E)||E[cr]))break e;if((w||y)&&(y=p.window===p?p:(y=p.ownerDocument)?y.defaultView||y.parentWindow:window,w?(E=n.relatedTarget||n.toElement,w=d,E=E?Ls(E):null,E!==null&&(b=lo(E),E!==b||E.tag!==5&&E.tag!==6)&&(E=null)):(w=null,E=d),w!==E)){if(C=w1,k="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(C=S1,k="onPointerLeave",v="onPointerEnter",_="pointer"),b=w==null?y:Fo(w),S=E==null?y:Fo(E),y=new C(k,_+"leave",w,n,p),y.target=b,y.relatedTarget=S,k=null,Ls(p)===d&&(C=new C(v,_+"enter",E,n,p),C.target=S,C.relatedTarget=b,k=C),b=k,w&&E)t:{for(C=w,v=E,_=0,S=C;S;S=ko(S))_++;for(S=0,k=v;k;k=ko(k))S++;for(;0<_-S;)C=ko(C),_--;for(;0<S-_;)v=ko(v),S--;for(;_--;){if(C===v||v!==null&&C===v.alternate)break t;C=ko(C),v=ko(v)}C=null}else C=null;w!==null&&O1(g,y,w,C,!1),E!==null&&b!==null&&O1(g,b,E,C,!0)}}e:{if(y=d?Fo(d):window,w=y.nodeName&&y.nodeName.toLowerCase(),w==="select"||w==="input"&&y.type==="file")var P=YM;else if(C1(y))if(aE)P=XM;else{P=KM;var O=ZM}else(w=y.nodeName)&&w.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(P=QM);if(P&&(P=P(t,d))){oE(g,P,n,p);break e}O&&O(t,y,d),t==="focusout"&&(O=y._wrapperState)&&O.controlled&&y.type==="number"&&gg(y,"number",y.value)}switch(O=d?Fo(d):window,t){case"focusin":(C1(O)||O.contentEditable==="true")&&($o=O,Ig=d,Al=null);break;case"focusout":Al=Ig=$o=null;break;case"mousedown":Pg=!0;break;case"contextmenu":case"mouseup":case"dragend":Pg=!1,L1(g,n,p);break;case"selectionchange":if(tO)break;case"keydown":case"keyup":L1(g,n,p)}var z;if(vy)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Do?rE(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(iE&&n.locale!=="ko"&&(Do||N!=="onCompositionStart"?N==="onCompositionEnd"&&Do&&(z=nE()):(Dr=p,py="value"in Dr?Dr.value:Dr.textContent,Do=!0)),O=Kh(d,N),0<O.length&&(N=new x1(N,t,null,n,p),g.push({event:N,listeners:O}),z?N.data=z:(z=sE(n),z!==null&&(N.data=z)))),(z=VM?HM(t,n):WM(t,n))&&(d=Kh(d,"onBeforeInput"),0<d.length&&(p=new x1("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:d}),p.data=z))}vE(g,e)})}function su(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Kh(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Xl(t,n),s!=null&&i.unshift(su(t,s,r)),s=Xl(t,e),s!=null&&i.push(su(t,s,r))),t=t.return}return i}function ko(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function O1(t,e,n,i,r){for(var s=e._reactName,a=[];n!==null&&n!==i;){var u=n,c=u.alternate,d=u.stateNode;if(c!==null&&c===i)break;u.tag===5&&d!==null&&(u=d,r?(c=Xl(n,s),c!=null&&a.unshift(su(n,c,u))):r||(c=Xl(n,s),c!=null&&a.push(su(n,c,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var sO=/\r\n?/g,oO=/\u0000|\uFFFD/g;function A1(t){return(typeof t=="string"?t:""+t).replace(sO,`
`).replace(oO,"")}function Wc(t,e,n){if(e=A1(e),A1(t)!==e&&n)throw Error(H(425))}function Qh(){}var Lg=null,Ng=null;function Mg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Og=typeof setTimeout=="function"?setTimeout:void 0,aO=typeof clearTimeout=="function"?clearTimeout:void 0,R1=typeof Promise=="function"?Promise:void 0,lO=typeof queueMicrotask=="function"?queueMicrotask:typeof R1<"u"?function(t){return R1.resolve(null).then(t).catch(uO)}:Og;function uO(t){setTimeout(function(){throw t})}function dm(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),tu(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);tu(e)}function Yr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function D1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Pa=Math.random().toString(36).slice(2),wi="__reactFiber$"+Pa,ou="__reactProps$"+Pa,cr="__reactContainer$"+Pa,Ag="__reactEvents$"+Pa,cO="__reactListeners$"+Pa,hO="__reactHandles$"+Pa;function Ls(t){var e=t[wi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[cr]||n[wi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=D1(t);t!==null;){if(n=t[wi])return n;t=D1(t)}return e}t=n,n=t.parentNode}return null}function Fu(t){return t=t[wi]||t[cr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Xd(t){return t[ou]||null}var Rg=[],Uo=-1;function ds(t){return{current:t}}function qe(t){0>Uo||(t.current=Rg[Uo],Rg[Uo]=null,Uo--)}function Ve(t,e){Uo++,Rg[Uo]=t.current,t.current=e}var os={},Zt=ds(os),vn=ds(!1),Hs=os;function ha(t,e){var n=t.type.contextTypes;if(!n)return os;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function yn(t){return t=t.childContextTypes,t!=null}function Xh(){qe(vn),qe(Zt)}function $1(t,e,n){if(Zt.current!==os)throw Error(H(168));Ve(Zt,e),Ve(vn,n)}function _E(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(H(108,ZN(t)||"Unknown",r));return rt({},n,i)}function Jh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||os,Hs=Zt.current,Ve(Zt,t),Ve(vn,vn.current),!0}function z1(t,e,n){var i=t.stateNode;if(!i)throw Error(H(169));n?(t=_E(t,e,Hs),i.__reactInternalMemoizedMergedChildContext=t,qe(vn),qe(Zt),Ve(Zt,t)):qe(vn),Ve(vn,n)}var Ki=null,Jd=!1,fm=!1;function wE(t){Ki===null?Ki=[t]:Ki.push(t)}function dO(t){Jd=!0,wE(t)}function fs(){if(!fm&&Ki!==null){fm=!0;var t=0,e=Fe;try{var n=Ki;for(Fe=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Ki=null,Jd=!1}catch(r){throw Ki!==null&&(Ki=Ki.slice(t+1)),WT(cy,fs),r}finally{Fe=e,fm=!1}}return null}var jo=[],Bo=0,ed=null,td=0,Fn=[],Un=0,Ws=null,Xi=1,Ji="";function ks(t,e){jo[Bo++]=td,jo[Bo++]=ed,ed=t,td=e}function xE(t,e,n){Fn[Un++]=Xi,Fn[Un++]=Ji,Fn[Un++]=Ws,Ws=t;var i=Xi;t=Ji;var r=32-ri(i)-1;i&=~(1<<r),n+=1;var s=32-ri(e)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Xi=1<<32-ri(e)+r|n<<r|i,Ji=s+t}else Xi=1<<s|n<<r|i,Ji=t}function _y(t){t.return!==null&&(ks(t,1),xE(t,1,0))}function wy(t){for(;t===ed;)ed=jo[--Bo],jo[Bo]=null,td=jo[--Bo],jo[Bo]=null;for(;t===Ws;)Ws=Fn[--Un],Fn[Un]=null,Ji=Fn[--Un],Fn[Un]=null,Xi=Fn[--Un],Fn[Un]=null}var bn=null,En=null,et=!1,ni=null;function SE(t,e){var n=Vn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function F1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,bn=t,En=Yr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,bn=t,En=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ws!==null?{id:Xi,overflow:Ji}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Vn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,bn=t,En=null,!0):!1;default:return!1}}function Dg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $g(t){if(et){var e=En;if(e){var n=e;if(!F1(t,e)){if(Dg(t))throw Error(H(418));e=Yr(n.nextSibling);var i=bn;e&&F1(t,e)?SE(i,n):(t.flags=t.flags&-4097|2,et=!1,bn=t)}}else{if(Dg(t))throw Error(H(418));t.flags=t.flags&-4097|2,et=!1,bn=t}}}function U1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bn=t}function Gc(t){if(t!==bn)return!1;if(!et)return U1(t),et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Mg(t.type,t.memoizedProps)),e&&(e=En)){if(Dg(t))throw TE(),Error(H(418));for(;e;)SE(t,e),e=Yr(e.nextSibling)}if(U1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){En=Yr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}En=null}}else En=bn?Yr(t.stateNode.nextSibling):null;return!0}function TE(){for(var t=En;t;)t=Yr(t.nextSibling)}function da(){En=bn=null,et=!1}function xy(t){ni===null?ni=[t]:ni.push(t)}var fO=wr.ReactCurrentBatchConfig;function ei(t,e){if(t&&t.defaultProps){e=rt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var nd=ds(null),id=null,Vo=null,Sy=null;function Ty(){Sy=Vo=id=null}function Ey(t){var e=nd.current;qe(nd),t._currentValue=e}function zg(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Xo(t,e){id=t,Sy=Vo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mn=!0),t.firstContext=null)}function Gn(t){var e=t._currentValue;if(Sy!==t)if(t={context:t,memoizedValue:e,next:null},Vo===null){if(id===null)throw Error(H(308));Vo=t,id.dependencies={lanes:0,firstContext:t}}else Vo=Vo.next=t;return e}var Ns=null;function Cy(t){Ns===null?Ns=[t]:Ns.push(t)}function EE(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,Cy(e)):(n.next=r.next,r.next=n),e.interleaved=n,hr(t,i)}function hr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Pr=!1;function ky(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function sr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zr(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Oe&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,hr(t,n)}return r=i.interleaved,r===null?(e.next=e,Cy(i)):(e.next=r.next,r.next=e),i.interleaved=e,hr(t,n)}function Sh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,hy(t,n)}}function j1(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function rd(t,e,n,i){var r=t.updateQueue;Pr=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,u=r.shared.pending;if(u!==null){r.shared.pending=null;var c=u,d=c.next;c.next=null,a===null?s=d:a.next=d,a=c;var p=t.alternate;p!==null&&(p=p.updateQueue,u=p.lastBaseUpdate,u!==a&&(u===null?p.firstBaseUpdate=d:u.next=d,p.lastBaseUpdate=c))}if(s!==null){var g=r.baseState;a=0,p=d=c=null,u=s;do{var y=u.lane,w=u.eventTime;if((i&y)===y){p!==null&&(p=p.next={eventTime:w,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var E=t,C=u;switch(y=e,w=n,C.tag){case 1:if(E=C.payload,typeof E=="function"){g=E.call(w,g,y);break e}g=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=C.payload,y=typeof E=="function"?E.call(w,g,y):E,y==null)break e;g=rt({},g,y);break e;case 2:Pr=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,y=r.effects,y===null?r.effects=[u]:y.push(u))}else w={eventTime:w,lane:y,tag:u.tag,payload:u.payload,callback:u.callback,next:null},p===null?(d=p=w,c=g):p=p.next=w,a|=y;if(u=u.next,u===null){if(u=r.shared.pending,u===null)break;y=u,u=y.next,y.next=null,r.lastBaseUpdate=y,r.shared.pending=null}}while(1);if(p===null&&(c=g),r.baseState=c,r.firstBaseUpdate=d,r.lastBaseUpdate=p,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);qs|=a,t.lanes=a,t.memoizedState=g}}function B1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(H(191,r));r.call(i)}}}var kE=new ET.Component().refs;function Fg(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:rt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ef={isMounted:function(t){return(t=t._reactInternals)?lo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=sn(),r=Qr(t),s=sr(i,r);s.payload=e,n!=null&&(s.callback=n),e=Zr(t,s,r),e!==null&&(si(e,t,r,i),Sh(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=sn(),r=Qr(t),s=sr(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Zr(t,s,r),e!==null&&(si(e,t,r,i),Sh(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=sn(),i=Qr(t),r=sr(n,i);r.tag=2,e!=null&&(r.callback=e),e=Zr(t,r,i),e!==null&&(si(e,t,i,n),Sh(e,t,i))}};function V1(t,e,n,i,r,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!iu(n,i)||!iu(r,s):!0}function bE(t,e,n){var i=!1,r=os,s=e.contextType;return typeof s=="object"&&s!==null?s=Gn(s):(r=yn(e)?Hs:Zt.current,i=e.contextTypes,s=(i=i!=null)?ha(t,r):os),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ef,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function H1(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&ef.enqueueReplaceState(e,e.state,null)}function Ug(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=kE,ky(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Gn(s):(s=yn(e)?Hs:Zt.current,r.context=ha(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Fg(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&ef.enqueueReplaceState(r,r.state,null),rd(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function ul(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var i=n.stateNode}if(!i)throw Error(H(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var u=r.refs;u===kE&&(u=r.refs={}),a===null?delete u[s]:u[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function qc(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function W1(t){var e=t._init;return e(t._payload)}function IE(t){function e(v,_){if(t){var S=v.deletions;S===null?(v.deletions=[_],v.flags|=16):S.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function i(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function r(v,_){return v=Xr(v,_),v.index=0,v.sibling=null,v}function s(v,_,S){return v.index=S,t?(S=v.alternate,S!==null?(S=S.index,S<_?(v.flags|=2,_):S):(v.flags|=2,_)):(v.flags|=1048576,_)}function a(v){return t&&v.alternate===null&&(v.flags|=2),v}function u(v,_,S,k){return _===null||_.tag!==6?(_=wm(S,v.mode,k),_.return=v,_):(_=r(_,S),_.return=v,_)}function c(v,_,S,k){var P=S.type;return P===Ro?p(v,_,S.props.children,k,S.key):_!==null&&(_.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ir&&W1(P)===_.type)?(k=r(_,S.props),k.ref=ul(v,_,S),k.return=v,k):(k=Ih(S.type,S.key,S.props,null,v.mode,k),k.ref=ul(v,_,S),k.return=v,k)}function d(v,_,S,k){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=xm(S,v.mode,k),_.return=v,_):(_=r(_,S.children||[]),_.return=v,_)}function p(v,_,S,k,P){return _===null||_.tag!==7?(_=Fs(S,v.mode,k,P),_.return=v,_):(_=r(_,S),_.return=v,_)}function g(v,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=wm(""+_,v.mode,S),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Dc:return S=Ih(_.type,_.key,_.props,null,v.mode,S),S.ref=ul(v,null,_),S.return=v,S;case Ao:return _=xm(_,v.mode,S),_.return=v,_;case Ir:var k=_._init;return g(v,k(_._payload),S)}if(_l(_)||rl(_))return _=Fs(_,v.mode,S,null),_.return=v,_;qc(v,_)}return null}function y(v,_,S,k){var P=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return P!==null?null:u(v,_,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Dc:return S.key===P?c(v,_,S,k):null;case Ao:return S.key===P?d(v,_,S,k):null;case Ir:return P=S._init,y(v,_,P(S._payload),k)}if(_l(S)||rl(S))return P!==null?null:p(v,_,S,k,null);qc(v,S)}return null}function w(v,_,S,k,P){if(typeof k=="string"&&k!==""||typeof k=="number")return v=v.get(S)||null,u(_,v,""+k,P);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Dc:return v=v.get(k.key===null?S:k.key)||null,c(_,v,k,P);case Ao:return v=v.get(k.key===null?S:k.key)||null,d(_,v,k,P);case Ir:var O=k._init;return w(v,_,S,O(k._payload),P)}if(_l(k)||rl(k))return v=v.get(S)||null,p(_,v,k,P,null);qc(_,k)}return null}function E(v,_,S,k){for(var P=null,O=null,z=_,N=_=0,j=null;z!==null&&N<S.length;N++){z.index>N?(j=z,z=null):j=z.sibling;var Y=y(v,z,S[N],k);if(Y===null){z===null&&(z=j);break}t&&z&&Y.alternate===null&&e(v,z),_=s(Y,_,N),O===null?P=Y:O.sibling=Y,O=Y,z=j}if(N===S.length)return n(v,z),et&&ks(v,N),P;if(z===null){for(;N<S.length;N++)z=g(v,S[N],k),z!==null&&(_=s(z,_,N),O===null?P=z:O.sibling=z,O=z);return et&&ks(v,N),P}for(z=i(v,z);N<S.length;N++)j=w(z,v,N,S[N],k),j!==null&&(t&&j.alternate!==null&&z.delete(j.key===null?N:j.key),_=s(j,_,N),O===null?P=j:O.sibling=j,O=j);return t&&z.forEach(function(F){return e(v,F)}),et&&ks(v,N),P}function C(v,_,S,k){var P=rl(S);if(typeof P!="function")throw Error(H(150));if(S=P.call(S),S==null)throw Error(H(151));for(var O=P=null,z=_,N=_=0,j=null,Y=S.next();z!==null&&!Y.done;N++,Y=S.next()){z.index>N?(j=z,z=null):j=z.sibling;var F=y(v,z,Y.value,k);if(F===null){z===null&&(z=j);break}t&&z&&F.alternate===null&&e(v,z),_=s(F,_,N),O===null?P=F:O.sibling=F,O=F,z=j}if(Y.done)return n(v,z),et&&ks(v,N),P;if(z===null){for(;!Y.done;N++,Y=S.next())Y=g(v,Y.value,k),Y!==null&&(_=s(Y,_,N),O===null?P=Y:O.sibling=Y,O=Y);return et&&ks(v,N),P}for(z=i(v,z);!Y.done;N++,Y=S.next())Y=w(z,v,N,Y.value,k),Y!==null&&(t&&Y.alternate!==null&&z.delete(Y.key===null?N:Y.key),_=s(Y,_,N),O===null?P=Y:O.sibling=Y,O=Y);return t&&z.forEach(function($){return e(v,$)}),et&&ks(v,N),P}function b(v,_,S,k){if(typeof S=="object"&&S!==null&&S.type===Ro&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Dc:e:{for(var P=S.key,O=_;O!==null;){if(O.key===P){if(P=S.type,P===Ro){if(O.tag===7){n(v,O.sibling),_=r(O,S.props.children),_.return=v,v=_;break e}}else if(O.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ir&&W1(P)===O.type){n(v,O.sibling),_=r(O,S.props),_.ref=ul(v,O,S),_.return=v,v=_;break e}n(v,O);break}else e(v,O);O=O.sibling}S.type===Ro?(_=Fs(S.props.children,v.mode,k,S.key),_.return=v,v=_):(k=Ih(S.type,S.key,S.props,null,v.mode,k),k.ref=ul(v,_,S),k.return=v,v=k)}return a(v);case Ao:e:{for(O=S.key;_!==null;){if(_.key===O)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(v,_.sibling),_=r(_,S.children||[]),_.return=v,v=_;break e}else{n(v,_);break}else e(v,_);_=_.sibling}_=xm(S,v.mode,k),_.return=v,v=_}return a(v);case Ir:return O=S._init,b(v,_,O(S._payload),k)}if(_l(S))return E(v,_,S,k);if(rl(S))return C(v,_,S,k);qc(v,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(n(v,_.sibling),_=r(_,S),_.return=v,v=_):(n(v,_),_=wm(S,v.mode,k),_.return=v,v=_),a(v)):n(v,_)}return b}var fa=IE(!0),PE=IE(!1),Uu={},Ii=ds(Uu),au=ds(Uu),lu=ds(Uu);function Ms(t){if(t===Uu)throw Error(H(174));return t}function by(t,e){switch(Ve(lu,e),Ve(au,t),Ve(Ii,Uu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:yg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=yg(e,t)}qe(Ii),Ve(Ii,e)}function pa(){qe(Ii),qe(au),qe(lu)}function LE(t){Ms(lu.current);var e=Ms(Ii.current),n=yg(e,t.type);e!==n&&(Ve(au,t),Ve(Ii,n))}function Iy(t){au.current===t&&(qe(Ii),qe(au))}var nt=ds(0);function sd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pm=[];function Py(){for(var t=0;t<pm.length;t++)pm[t]._workInProgressVersionPrimary=null;pm.length=0}var Th=wr.ReactCurrentDispatcher,mm=wr.ReactCurrentBatchConfig,Gs=0,it=null,wt=null,kt=null,od=!1,Rl=!1,uu=0,pO=0;function zt(){throw Error(H(321))}function Ly(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ai(t[n],e[n]))return!1;return!0}function Ny(t,e,n,i,r,s){if(Gs=s,it=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Th.current=t===null||t.memoizedState===null?yO:_O,t=n(i,r),Rl){s=0;do{if(Rl=!1,uu=0,25<=s)throw Error(H(301));s+=1,kt=wt=null,e.updateQueue=null,Th.current=wO,t=n(i,r)}while(Rl)}if(Th.current=ad,e=wt!==null&&wt.next!==null,Gs=0,kt=wt=it=null,od=!1,e)throw Error(H(300));return t}function My(){var t=uu!==0;return uu=0,t}function _i(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?it.memoizedState=kt=t:kt=kt.next=t,kt}function qn(){if(wt===null){var t=it.alternate;t=t!==null?t.memoizedState:null}else t=wt.next;var e=kt===null?it.memoizedState:kt.next;if(e!==null)kt=e,wt=t;else{if(t===null)throw Error(H(310));wt=t,t={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},kt===null?it.memoizedState=kt=t:kt=kt.next=t}return kt}function cu(t,e){return typeof e=="function"?e(t):e}function gm(t){var e=qn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var i=wt,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var u=a=null,c=null,d=s;do{var p=d.lane;if((Gs&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:t(i,d.action);else{var g={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=g,a=i):c=c.next=g,it.lanes|=p,qs|=p}d=d.next}while(d!==null&&d!==s);c===null?a=i:c.next=u,ai(i,e.memoizedState)||(mn=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=c,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,it.lanes|=s,qs|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function vm(t){var e=qn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=t(s,a.action),a=a.next;while(a!==r);ai(s,e.memoizedState)||(mn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function NE(){}function ME(t,e){var n=it,i=qn(),r=e(),s=!ai(i.memoizedState,r);if(s&&(i.memoizedState=r,mn=!0),i=i.queue,Oy(RE.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||kt!==null&&kt.memoizedState.tag&1){if(n.flags|=2048,hu(9,AE.bind(null,n,i,r,e),void 0,null),bt===null)throw Error(H(349));Gs&30||OE(n,e,r)}return r}function OE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=it.updateQueue,e===null?(e={lastEffect:null,stores:null},it.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function AE(t,e,n,i){e.value=n,e.getSnapshot=i,DE(e)&&$E(t)}function RE(t,e,n){return n(function(){DE(e)&&$E(t)})}function DE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ai(t,n)}catch{return!0}}function $E(t){var e=hr(t,1);e!==null&&si(e,t,1,-1)}function G1(t){var e=_i();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cu,lastRenderedState:t},e.queue=t,t=t.dispatch=vO.bind(null,it,t),[e.memoizedState,t]}function hu(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=it.updateQueue,e===null?(e={lastEffect:null,stores:null},it.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function zE(){return qn().memoizedState}function Eh(t,e,n,i){var r=_i();it.flags|=t,r.memoizedState=hu(1|e,n,void 0,i===void 0?null:i)}function tf(t,e,n,i){var r=qn();i=i===void 0?null:i;var s=void 0;if(wt!==null){var a=wt.memoizedState;if(s=a.destroy,i!==null&&Ly(i,a.deps)){r.memoizedState=hu(e,n,s,i);return}}it.flags|=t,r.memoizedState=hu(1|e,n,s,i)}function q1(t,e){return Eh(8390656,8,t,e)}function Oy(t,e){return tf(2048,8,t,e)}function FE(t,e){return tf(4,2,t,e)}function UE(t,e){return tf(4,4,t,e)}function jE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function BE(t,e,n){return n=n!=null?n.concat([t]):null,tf(4,4,jE.bind(null,e,t),n)}function Ay(){}function VE(t,e){var n=qn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Ly(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function HE(t,e){var n=qn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Ly(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function WE(t,e,n){return Gs&21?(ai(n,e)||(n=YT(),it.lanes|=n,qs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mn=!0),t.memoizedState=n)}function mO(t,e){var n=Fe;Fe=n!==0&&4>n?n:4,t(!0);var i=mm.transition;mm.transition={};try{t(!1),e()}finally{Fe=n,mm.transition=i}}function GE(){return qn().memoizedState}function gO(t,e,n){var i=Qr(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},qE(t))YE(e,n);else if(n=EE(t,e,n,i),n!==null){var r=sn();si(n,t,i,r),ZE(n,e,i)}}function vO(t,e,n){var i=Qr(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(qE(t))YE(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,u=s(a,n);if(r.hasEagerState=!0,r.eagerState=u,ai(u,a)){var c=e.interleaved;c===null?(r.next=r,Cy(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}n=EE(t,e,r,i),n!==null&&(r=sn(),si(n,t,i,r),ZE(n,e,i))}}function qE(t){var e=t.alternate;return t===it||e!==null&&e===it}function YE(t,e){Rl=od=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ZE(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,hy(t,n)}}var ad={readContext:Gn,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},yO={readContext:Gn,useCallback:function(t,e){return _i().memoizedState=[t,e===void 0?null:e],t},useContext:Gn,useEffect:q1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Eh(4194308,4,jE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Eh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Eh(4,2,t,e)},useMemo:function(t,e){var n=_i();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=_i();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=gO.bind(null,it,t),[i.memoizedState,t]},useRef:function(t){var e=_i();return t={current:t},e.memoizedState=t},useState:G1,useDebugValue:Ay,useDeferredValue:function(t){return _i().memoizedState=t},useTransition:function(){var t=G1(!1),e=t[0];return t=mO.bind(null,t[1]),_i().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=it,r=_i();if(et){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),bt===null)throw Error(H(349));Gs&30||OE(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,q1(RE.bind(null,i,s,t),[t]),i.flags|=2048,hu(9,AE.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=_i(),e=bt.identifierPrefix;if(et){var n=Ji,i=Xi;n=(i&~(1<<32-ri(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=uu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_O={readContext:Gn,useCallback:VE,useContext:Gn,useEffect:Oy,useImperativeHandle:BE,useInsertionEffect:FE,useLayoutEffect:UE,useMemo:HE,useReducer:gm,useRef:zE,useState:function(){return gm(cu)},useDebugValue:Ay,useDeferredValue:function(t){var e=qn();return WE(e,wt.memoizedState,t)},useTransition:function(){var t=gm(cu)[0],e=qn().memoizedState;return[t,e]},useMutableSource:NE,useSyncExternalStore:ME,useId:GE,unstable_isNewReconciler:!1},wO={readContext:Gn,useCallback:VE,useContext:Gn,useEffect:Oy,useImperativeHandle:BE,useInsertionEffect:FE,useLayoutEffect:UE,useMemo:HE,useReducer:vm,useRef:zE,useState:function(){return vm(cu)},useDebugValue:Ay,useDeferredValue:function(t){var e=qn();return wt===null?e.memoizedState=t:WE(e,wt.memoizedState,t)},useTransition:function(){var t=vm(cu)[0],e=qn().memoizedState;return[t,e]},useMutableSource:NE,useSyncExternalStore:ME,useId:GE,unstable_isNewReconciler:!1};function ma(t,e){try{var n="",i=e;do n+=YN(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function ym(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function jg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var xO=typeof WeakMap=="function"?WeakMap:Map;function KE(t,e,n){n=sr(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){ud||(ud=!0,Qg=i),jg(t,e)},n}function QE(t,e,n){n=sr(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){jg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){jg(t,e),typeof i!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Y1(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new xO;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=RO.bind(null,t,e,n),e.then(t,t))}function Z1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function K1(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=sr(-1,1),e.tag=2,Zr(n,e,1))),n.lanes|=1),t)}var SO=wr.ReactCurrentOwner,mn=!1;function nn(t,e,n,i){e.child=t===null?PE(e,null,n,i):fa(e,t.child,n,i)}function Q1(t,e,n,i,r){n=n.render;var s=e.ref;return Xo(e,r),i=Ny(t,e,n,i,s,r),n=My(),t!==null&&!mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,dr(t,e,r)):(et&&n&&_y(e),e.flags|=1,nn(t,e,i,r),e.child)}function X1(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!By(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,XE(t,e,s,i,r)):(t=Ih(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:iu,n(a,i)&&t.ref===e.ref)return dr(t,e,r)}return e.flags|=1,t=Xr(s,i),t.ref=e.ref,t.return=e,e.child=t}function XE(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(iu(s,i)&&t.ref===e.ref)if(mn=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(mn=!0);else return e.lanes=t.lanes,dr(t,e,r)}return Bg(t,e,n,i,r)}function JE(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(Wo,xn),xn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ve(Wo,xn),xn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,Ve(Wo,xn),xn|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,Ve(Wo,xn),xn|=i;return nn(t,e,r,n),e.child}function eC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Bg(t,e,n,i,r){var s=yn(n)?Hs:Zt.current;return s=ha(e,s),Xo(e,r),n=Ny(t,e,n,i,s,r),i=My(),t!==null&&!mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,dr(t,e,r)):(et&&i&&_y(e),e.flags|=1,nn(t,e,n,r),e.child)}function J1(t,e,n,i,r){if(yn(n)){var s=!0;Jh(e)}else s=!1;if(Xo(e,r),e.stateNode===null)Ch(t,e),bE(e,n,i),Ug(e,n,i,r),i=!0;else if(t===null){var a=e.stateNode,u=e.memoizedProps;a.props=u;var c=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=Gn(d):(d=yn(n)?Hs:Zt.current,d=ha(e,d));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==i||c!==d)&&H1(e,a,i,d),Pr=!1;var y=e.memoizedState;a.state=y,rd(e,i,a,r),c=e.memoizedState,u!==i||y!==c||vn.current||Pr?(typeof p=="function"&&(Fg(e,n,p,i),c=e.memoizedState),(u=Pr||V1(e,n,u,i,y,c,d))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),a.props=i,a.state=c,a.context=d,i=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,CE(t,e),u=e.memoizedProps,d=e.type===e.elementType?u:ei(e.type,u),a.props=d,g=e.pendingProps,y=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Gn(c):(c=yn(n)?Hs:Zt.current,c=ha(e,c));var w=n.getDerivedStateFromProps;(p=typeof w=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==g||y!==c)&&H1(e,a,i,c),Pr=!1,y=e.memoizedState,a.state=y,rd(e,i,a,r);var E=e.memoizedState;u!==g||y!==E||vn.current||Pr?(typeof w=="function"&&(Fg(e,n,w,i),E=e.memoizedState),(d=Pr||V1(e,n,d,i,y,E,c)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,E,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,E,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=E),a.props=i,a.state=E,a.context=c,i=d):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),i=!1)}return Vg(t,e,n,i,s,r)}function Vg(t,e,n,i,r,s){eC(t,e);var a=(e.flags&128)!==0;if(!i&&!a)return r&&z1(e,n,!1),dr(t,e,s);i=e.stateNode,SO.current=e;var u=a&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&a?(e.child=fa(e,t.child,null,s),e.child=fa(e,null,u,s)):nn(t,e,u,s),e.memoizedState=i.state,r&&z1(e,n,!0),e.child}function tC(t){var e=t.stateNode;e.pendingContext?$1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$1(t,e.context,!1),by(t,e.containerInfo)}function ex(t,e,n,i,r){return da(),xy(r),e.flags|=256,nn(t,e,n,i),e.child}var Hg={dehydrated:null,treeContext:null,retryLane:0};function Wg(t){return{baseLanes:t,cachePool:null,transitions:null}}function nC(t,e,n){var i=e.pendingProps,r=nt.current,s=!1,a=(e.flags&128)!==0,u;if((u=a)||(u=t!==null&&t.memoizedState===null?!1:(r&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Ve(nt,r&1),t===null)return $g(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,t=i.fallback,s?(i=e.mode,s=e.child,a={mode:"hidden",children:a},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=sf(a,i,0,null),t=Fs(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Wg(n),e.memoizedState=Hg,t):Ry(e,a));if(r=t.memoizedState,r!==null&&(u=r.dehydrated,u!==null))return TO(t,e,a,i,u,r,n);if(s){s=i.fallback,a=e.mode,r=t.child,u=r.sibling;var c={mode:"hidden",children:i.children};return!(a&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=c,e.deletions=null):(i=Xr(r,c),i.subtreeFlags=r.subtreeFlags&14680064),u!==null?s=Xr(u,s):(s=Fs(s,a,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,a=t.child.memoizedState,a=a===null?Wg(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=Hg,i}return s=t.child,t=s.sibling,i=Xr(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Ry(t,e){return e=sf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Yc(t,e,n,i){return i!==null&&xy(i),fa(e,t.child,null,n),t=Ry(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function TO(t,e,n,i,r,s,a){if(n)return e.flags&256?(e.flags&=-257,i=ym(Error(H(422))),Yc(t,e,a,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=sf({mode:"visible",children:i.children},r,0,null),s=Fs(s,r,a,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&fa(e,t.child,null,a),e.child.memoizedState=Wg(a),e.memoizedState=Hg,s);if(!(e.mode&1))return Yc(t,e,a,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var u=i.dgst;return i=u,s=Error(H(419)),i=ym(s,i,void 0),Yc(t,e,a,i)}if(u=(a&t.childLanes)!==0,mn||u){if(i=bt,i!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|a)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,hr(t,r),si(i,t,r,-1))}return jy(),i=ym(Error(H(421))),Yc(t,e,a,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=DO.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,En=Yr(r.nextSibling),bn=e,et=!0,ni=null,t!==null&&(Fn[Un++]=Xi,Fn[Un++]=Ji,Fn[Un++]=Ws,Xi=t.id,Ji=t.overflow,Ws=e),e=Ry(e,i.children),e.flags|=4096,e)}function tx(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),zg(t.return,e,n)}function _m(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function iC(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(nn(t,e,i.children,n),i=nt.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tx(t,n,e);else if(t.tag===19)tx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Ve(nt,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&sd(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),_m(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&sd(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}_m(e,!0,n,null,s);break;case"together":_m(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ch(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function dr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=Xr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function EO(t,e,n){switch(e.tag){case 3:tC(e),da();break;case 5:LE(e);break;case 1:yn(e.type)&&Jh(e);break;case 4:by(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Ve(nd,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Ve(nt,nt.current&1),e.flags|=128,null):n&e.child.childLanes?nC(t,e,n):(Ve(nt,nt.current&1),t=dr(t,e,n),t!==null?t.sibling:null);Ve(nt,nt.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return iC(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ve(nt,nt.current),i)break;return null;case 22:case 23:return e.lanes=0,JE(t,e,n)}return dr(t,e,n)}var rC,Gg,sC,oC;rC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gg=function(){};sC=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Ms(Ii.current);var s=null;switch(n){case"input":r=pg(t,r),i=pg(t,i),s=[];break;case"select":r=rt({},r,{value:void 0}),i=rt({},i,{value:void 0}),s=[];break;case"textarea":r=vg(t,r),i=vg(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Qh)}_g(n,i);var a;n=null;for(d in r)if(!i.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var u=r[d];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Kl.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in i){var c=i[d];if(u=r!=null?r[d]:void 0,i.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Kl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&He("scroll",t),s||u===c||(s=[])):(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};oC=function(t,e,n,i){n!==i&&(e.flags|=4)};function cl(t,e){if(!et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function CO(t,e,n){var i=e.pendingProps;switch(wy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(e),null;case 1:return yn(e.type)&&Xh(),Ft(e),null;case 3:return i=e.stateNode,pa(),qe(vn),qe(Zt),Py(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Gc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ni!==null&&(ev(ni),ni=null))),Gg(t,e),Ft(e),null;case 5:Iy(e);var r=Ms(lu.current);if(n=e.type,t!==null&&e.stateNode!=null)sC(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(H(166));return Ft(e),null}if(t=Ms(Ii.current),Gc(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[wi]=e,i[ou]=s,t=(e.mode&1)!==0,n){case"dialog":He("cancel",i),He("close",i);break;case"iframe":case"object":case"embed":He("load",i);break;case"video":case"audio":for(r=0;r<xl.length;r++)He(xl[r],i);break;case"source":He("error",i);break;case"img":case"image":case"link":He("error",i),He("load",i);break;case"details":He("toggle",i);break;case"input":c1(i,s),He("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},He("invalid",i);break;case"textarea":d1(i,s),He("invalid",i)}_g(n,s),r=null;for(var a in s)if(s.hasOwnProperty(a)){var u=s[a];a==="children"?typeof u=="string"?i.textContent!==u&&(s.suppressHydrationWarning!==!0&&Wc(i.textContent,u,t),r=["children",u]):typeof u=="number"&&i.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&Wc(i.textContent,u,t),r=["children",""+u]):Kl.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&He("scroll",i)}switch(n){case"input":$c(i),h1(i,s,!0);break;case"textarea":$c(i),f1(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Qh)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=OT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=a.createElement(n,{is:i.is}):(t=a.createElement(n),n==="select"&&(a=t,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):t=a.createElementNS(t,n),t[wi]=e,t[ou]=i,rC(t,e,!1,!1),e.stateNode=t;e:{switch(a=wg(n,i),n){case"dialog":He("cancel",t),He("close",t),r=i;break;case"iframe":case"object":case"embed":He("load",t),r=i;break;case"video":case"audio":for(r=0;r<xl.length;r++)He(xl[r],t);r=i;break;case"source":He("error",t),r=i;break;case"img":case"image":case"link":He("error",t),He("load",t),r=i;break;case"details":He("toggle",t),r=i;break;case"input":c1(t,i),r=pg(t,i),He("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=rt({},i,{value:void 0}),He("invalid",t);break;case"textarea":d1(t,i),r=vg(t,i),He("invalid",t);break;default:r=i}_g(n,r),u=r;for(s in u)if(u.hasOwnProperty(s)){var c=u[s];s==="style"?DT(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&AT(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ql(t,c):typeof c=="number"&&Ql(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Kl.hasOwnProperty(s)?c!=null&&s==="onScroll"&&He("scroll",t):c!=null&&sy(t,s,c,a))}switch(n){case"input":$c(t),h1(t,i,!1);break;case"textarea":$c(t),f1(t);break;case"option":i.value!=null&&t.setAttribute("value",""+ss(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?Yo(t,!!i.multiple,s,!1):i.defaultValue!=null&&Yo(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Qh)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ft(e),null;case 6:if(t&&e.stateNode!=null)oC(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(H(166));if(n=Ms(lu.current),Ms(Ii.current),Gc(e)){if(i=e.stateNode,n=e.memoizedProps,i[wi]=e,(s=i.nodeValue!==n)&&(t=bn,t!==null))switch(t.tag){case 3:Wc(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wc(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[wi]=e,e.stateNode=i}return Ft(e),null;case 13:if(qe(nt),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(et&&En!==null&&e.mode&1&&!(e.flags&128))TE(),da(),e.flags|=98560,s=!1;else if(s=Gc(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[wi]=e}else da(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ft(e),s=!1}else ni!==null&&(ev(ni),ni=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||nt.current&1?xt===0&&(xt=3):jy())),e.updateQueue!==null&&(e.flags|=4),Ft(e),null);case 4:return pa(),Gg(t,e),t===null&&ru(e.stateNode.containerInfo),Ft(e),null;case 10:return Ey(e.type._context),Ft(e),null;case 17:return yn(e.type)&&Xh(),Ft(e),null;case 19:if(qe(nt),s=e.memoizedState,s===null)return Ft(e),null;if(i=(e.flags&128)!==0,a=s.rendering,a===null)if(i)cl(s,!1);else{if(xt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=sd(t),a!==null){for(e.flags|=128,cl(s,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ve(nt,nt.current&1|2),e.child}t=t.sibling}s.tail!==null&&dt()>ga&&(e.flags|=128,i=!0,cl(s,!1),e.lanes=4194304)}else{if(!i)if(t=sd(a),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),cl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!et)return Ft(e),null}else 2*dt()-s.renderingStartTime>ga&&n!==1073741824&&(e.flags|=128,i=!0,cl(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=dt(),e.sibling=null,n=nt.current,Ve(nt,i?n&1|2:n&1),e):(Ft(e),null);case 22:case 23:return Uy(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?xn&1073741824&&(Ft(e),e.subtreeFlags&6&&(e.flags|=8192)):Ft(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function kO(t,e){switch(wy(e),e.tag){case 1:return yn(e.type)&&Xh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return pa(),qe(vn),qe(Zt),Py(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Iy(e),null;case 13:if(qe(nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));da()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qe(nt),null;case 4:return pa(),null;case 10:return Ey(e.type._context),null;case 22:case 23:return Uy(),null;case 24:return null;default:return null}}var Zc=!1,Bt=!1,bO=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Ho(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){at(t,e,i)}else n.current=null}function qg(t,e,n){try{n()}catch(i){at(t,e,i)}}var nx=!1;function IO(t,e){if(Lg=Yh,t=cE(),yy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,u=-1,c=-1,d=0,p=0,g=t,y=null;t:for(;;){for(var w;g!==n||r!==0&&g.nodeType!==3||(u=a+r),g!==s||i!==0&&g.nodeType!==3||(c=a+i),g.nodeType===3&&(a+=g.nodeValue.length),(w=g.firstChild)!==null;)y=g,g=w;for(;;){if(g===t)break t;if(y===n&&++d===r&&(u=a),y===s&&++p===i&&(c=a),(w=g.nextSibling)!==null)break;g=y,y=g.parentNode}g=w}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ng={focusedElem:t,selectionRange:n},Yh=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var C=E.memoizedProps,b=E.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?C:ei(e.type,C),b);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(k){at(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return E=nx,nx=!1,E}function Dl(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&qg(e,n,s)}r=r.next}while(r!==i)}}function nf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Yg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function aC(t){var e=t.alternate;e!==null&&(t.alternate=null,aC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wi],delete e[ou],delete e[Ag],delete e[cO],delete e[hO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lC(t){return t.tag===5||t.tag===3||t.tag===4}function ix(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zg(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qh));else if(i!==4&&(t=t.child,t!==null))for(Zg(t,e,n),t=t.sibling;t!==null;)Zg(t,e,n),t=t.sibling}function Kg(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Kg(t,e,n),t=t.sibling;t!==null;)Kg(t,e,n),t=t.sibling}var Mt=null,ti=!1;function kr(t,e,n){for(n=n.child;n!==null;)uC(t,e,n),n=n.sibling}function uC(t,e,n){if(bi&&typeof bi.onCommitFiberUnmount=="function")try{bi.onCommitFiberUnmount(Yd,n)}catch{}switch(n.tag){case 5:Bt||Ho(n,e);case 6:var i=Mt,r=ti;Mt=null,kr(t,e,n),Mt=i,ti=r,Mt!==null&&(ti?(t=Mt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Mt.removeChild(n.stateNode));break;case 18:Mt!==null&&(ti?(t=Mt,n=n.stateNode,t.nodeType===8?dm(t.parentNode,n):t.nodeType===1&&dm(t,n),tu(t)):dm(Mt,n.stateNode));break;case 4:i=Mt,r=ti,Mt=n.stateNode.containerInfo,ti=!0,kr(t,e,n),Mt=i,ti=r;break;case 0:case 11:case 14:case 15:if(!Bt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&qg(n,e,a),r=r.next}while(r!==i)}kr(t,e,n);break;case 1:if(!Bt&&(Ho(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(u){at(n,e,u)}kr(t,e,n);break;case 21:kr(t,e,n);break;case 22:n.mode&1?(Bt=(i=Bt)||n.memoizedState!==null,kr(t,e,n),Bt=i):kr(t,e,n);break;default:kr(t,e,n)}}function rx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new bO),e.forEach(function(i){var r=$O.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function Jn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,a=e,u=a;e:for(;u!==null;){switch(u.tag){case 5:Mt=u.stateNode,ti=!1;break e;case 3:Mt=u.stateNode.containerInfo,ti=!0;break e;case 4:Mt=u.stateNode.containerInfo,ti=!0;break e}u=u.return}if(Mt===null)throw Error(H(160));uC(s,a,r),Mt=null,ti=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(d){at(r,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)cC(e,t),e=e.sibling}function cC(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jn(e,t),yi(t),i&4){try{Dl(3,t,t.return),nf(3,t)}catch(C){at(t,t.return,C)}try{Dl(5,t,t.return)}catch(C){at(t,t.return,C)}}break;case 1:Jn(e,t),yi(t),i&512&&n!==null&&Ho(n,n.return);break;case 5:if(Jn(e,t),yi(t),i&512&&n!==null&&Ho(n,n.return),t.flags&32){var r=t.stateNode;try{Ql(r,"")}catch(C){at(t,t.return,C)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&NT(r,s),wg(u,a);var d=wg(u,s);for(a=0;a<c.length;a+=2){var p=c[a],g=c[a+1];p==="style"?DT(r,g):p==="dangerouslySetInnerHTML"?AT(r,g):p==="children"?Ql(r,g):sy(r,p,g,d)}switch(u){case"input":mg(r,s);break;case"textarea":MT(r,s);break;case"select":var y=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?Yo(r,!!s.multiple,w,!1):y!==!!s.multiple&&(s.defaultValue!=null?Yo(r,!!s.multiple,s.defaultValue,!0):Yo(r,!!s.multiple,s.multiple?[]:"",!1))}r[ou]=s}catch(C){at(t,t.return,C)}}break;case 6:if(Jn(e,t),yi(t),i&4){if(t.stateNode===null)throw Error(H(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(C){at(t,t.return,C)}}break;case 3:if(Jn(e,t),yi(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{tu(e.containerInfo)}catch(C){at(t,t.return,C)}break;case 4:Jn(e,t),yi(t);break;case 13:Jn(e,t),yi(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(zy=dt())),i&4&&rx(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(Bt=(d=Bt)||p,Jn(e,t),Bt=d):Jn(e,t),yi(t),i&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!p&&t.mode&1)for(ne=t,p=t.child;p!==null;){for(g=ne=p;ne!==null;){switch(y=ne,w=y.child,y.tag){case 0:case 11:case 14:case 15:Dl(4,y,y.return);break;case 1:Ho(y,y.return);var E=y.stateNode;if(typeof E.componentWillUnmount=="function"){i=y,n=y.return;try{e=i,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(C){at(i,n,C)}}break;case 5:Ho(y,y.return);break;case 22:if(y.memoizedState!==null){ox(g);continue}}w!==null?(w.return=y,ne=w):ox(g)}p=p.sibling}e:for(p=null,g=t;;){if(g.tag===5){if(p===null){p=g;try{r=g.stateNode,d?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=g.stateNode,c=g.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=RT("display",a))}catch(C){at(t,t.return,C)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=d?"":g.memoizedProps}catch(C){at(t,t.return,C)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Jn(e,t),yi(t),i&4&&rx(t);break;case 21:break;default:Jn(e,t),yi(t)}}function yi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(lC(n)){var i=n;break e}n=n.return}throw Error(H(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Ql(r,""),i.flags&=-33);var s=ix(t);Kg(t,s,r);break;case 3:case 4:var a=i.stateNode.containerInfo,u=ix(t);Zg(t,u,a);break;default:throw Error(H(161))}}catch(c){at(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function PO(t,e,n){ne=t,hC(t)}function hC(t,e,n){for(var i=(t.mode&1)!==0;ne!==null;){var r=ne,s=r.child;if(r.tag===22&&i){var a=r.memoizedState!==null||Zc;if(!a){var u=r.alternate,c=u!==null&&u.memoizedState!==null||Bt;u=Zc;var d=Bt;if(Zc=a,(Bt=c)&&!d)for(ne=r;ne!==null;)a=ne,c=a.child,a.tag===22&&a.memoizedState!==null?ax(r):c!==null?(c.return=a,ne=c):ax(r);for(;s!==null;)ne=s,hC(s),s=s.sibling;ne=r,Zc=u,Bt=d}sx(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,ne=s):sx(t)}}function sx(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bt||nf(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Bt)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:ei(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&B1(e,s,i);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}B1(e,a,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&tu(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Bt||e.flags&512&&Yg(e)}catch(y){at(e,e.return,y)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function ox(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function ax(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{nf(4,e)}catch(c){at(e,n,c)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(c){at(e,r,c)}}var s=e.return;try{Yg(e)}catch(c){at(e,s,c)}break;case 5:var a=e.return;try{Yg(e)}catch(c){at(e,a,c)}}}catch(c){at(e,e.return,c)}if(e===t){ne=null;break}var u=e.sibling;if(u!==null){u.return=e.return,ne=u;break}ne=e.return}}var LO=Math.ceil,ld=wr.ReactCurrentDispatcher,Dy=wr.ReactCurrentOwner,Hn=wr.ReactCurrentBatchConfig,Oe=0,bt=null,yt=null,Rt=0,xn=0,Wo=ds(0),xt=0,du=null,qs=0,rf=0,$y=0,$l=null,fn=null,zy=0,ga=1/0,Yi=null,ud=!1,Qg=null,Kr=null,Kc=!1,$r=null,cd=0,zl=0,Xg=null,kh=-1,bh=0;function sn(){return Oe&6?dt():kh!==-1?kh:kh=dt()}function Qr(t){return t.mode&1?Oe&2&&Rt!==0?Rt&-Rt:fO.transition!==null?(bh===0&&(bh=YT()),bh):(t=Fe,t!==0||(t=window.event,t=t===void 0?16:tE(t.type)),t):1}function si(t,e,n,i){if(50<zl)throw zl=0,Xg=null,Error(H(185));$u(t,n,i),(!(Oe&2)||t!==bt)&&(t===bt&&(!(Oe&2)&&(rf|=n),xt===4&&Nr(t,Rt)),_n(t,i),n===1&&Oe===0&&!(e.mode&1)&&(ga=dt()+500,Jd&&fs()))}function _n(t,e){var n=t.callbackNode;fM(t,e);var i=qh(t,t===bt?Rt:0);if(i===0)n!==null&&g1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&g1(n),e===1)t.tag===0?dO(lx.bind(null,t)):wE(lx.bind(null,t)),lO(function(){!(Oe&6)&&fs()}),n=null;else{switch(ZT(i)){case 1:n=cy;break;case 4:n=GT;break;case 16:n=Gh;break;case 536870912:n=qT;break;default:n=Gh}n=_C(n,dC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function dC(t,e){if(kh=-1,bh=0,Oe&6)throw Error(H(327));var n=t.callbackNode;if(Jo()&&t.callbackNode!==n)return null;var i=qh(t,t===bt?Rt:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=hd(t,i);else{e=i;var r=Oe;Oe|=2;var s=pC();(bt!==t||Rt!==e)&&(Yi=null,ga=dt()+500,zs(t,e));do try{OO();break}catch(u){fC(t,u)}while(1);Ty(),ld.current=s,Oe=r,yt!==null?e=0:(bt=null,Rt=0,e=xt)}if(e!==0){if(e===2&&(r=Cg(t),r!==0&&(i=r,e=Jg(t,r))),e===1)throw n=du,zs(t,0),Nr(t,i),_n(t,dt()),n;if(e===6)Nr(t,i);else{if(r=t.current.alternate,!(i&30)&&!NO(r)&&(e=hd(t,i),e===2&&(s=Cg(t),s!==0&&(i=s,e=Jg(t,s))),e===1))throw n=du,zs(t,0),Nr(t,i),_n(t,dt()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(H(345));case 2:bs(t,fn,Yi);break;case 3:if(Nr(t,i),(i&130023424)===i&&(e=zy+500-dt(),10<e)){if(qh(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){sn(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Og(bs.bind(null,t,fn,Yi),e);break}bs(t,fn,Yi);break;case 4:if(Nr(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var a=31-ri(i);s=1<<a,a=e[a],a>r&&(r=a),i&=~s}if(i=r,i=dt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*LO(i/1960))-i,10<i){t.timeoutHandle=Og(bs.bind(null,t,fn,Yi),i);break}bs(t,fn,Yi);break;case 5:bs(t,fn,Yi);break;default:throw Error(H(329))}}}return _n(t,dt()),t.callbackNode===n?dC.bind(null,t):null}function Jg(t,e){var n=$l;return t.current.memoizedState.isDehydrated&&(zs(t,e).flags|=256),t=hd(t,e),t!==2&&(e=fn,fn=n,e!==null&&ev(e)),t}function ev(t){fn===null?fn=t:fn.push.apply(fn,t)}function NO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!ai(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Nr(t,e){for(e&=~$y,e&=~rf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ri(e),i=1<<n;t[n]=-1,e&=~i}}function lx(t){if(Oe&6)throw Error(H(327));Jo();var e=qh(t,0);if(!(e&1))return _n(t,dt()),null;var n=hd(t,e);if(t.tag!==0&&n===2){var i=Cg(t);i!==0&&(e=i,n=Jg(t,i))}if(n===1)throw n=du,zs(t,0),Nr(t,e),_n(t,dt()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,bs(t,fn,Yi),_n(t,dt()),null}function Fy(t,e){var n=Oe;Oe|=1;try{return t(e)}finally{Oe=n,Oe===0&&(ga=dt()+500,Jd&&fs())}}function Ys(t){$r!==null&&$r.tag===0&&!(Oe&6)&&Jo();var e=Oe;Oe|=1;var n=Hn.transition,i=Fe;try{if(Hn.transition=null,Fe=1,t)return t()}finally{Fe=i,Hn.transition=n,Oe=e,!(Oe&6)&&fs()}}function Uy(){xn=Wo.current,qe(Wo)}function zs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,aO(n)),yt!==null)for(n=yt.return;n!==null;){var i=n;switch(wy(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Xh();break;case 3:pa(),qe(vn),qe(Zt),Py();break;case 5:Iy(i);break;case 4:pa();break;case 13:qe(nt);break;case 19:qe(nt);break;case 10:Ey(i.type._context);break;case 22:case 23:Uy()}n=n.return}if(bt=t,yt=t=Xr(t.current,null),Rt=xn=e,xt=0,du=null,$y=rf=qs=0,fn=$l=null,Ns!==null){for(e=0;e<Ns.length;e++)if(n=Ns[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var a=s.next;s.next=r,i.next=a}n.pending=i}Ns=null}return t}function fC(t,e){do{var n=yt;try{if(Ty(),Th.current=ad,od){for(var i=it.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}od=!1}if(Gs=0,kt=wt=it=null,Rl=!1,uu=0,Dy.current=null,n===null||n.return===null){xt=1,du=e,yt=null;break}e:{var s=t,a=n.return,u=n,c=e;if(e=Rt,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=u,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var y=p.alternate;y?(p.updateQueue=y.updateQueue,p.memoizedState=y.memoizedState,p.lanes=y.lanes):(p.updateQueue=null,p.memoizedState=null)}var w=Z1(a);if(w!==null){w.flags&=-257,K1(w,a,u,s,e),w.mode&1&&Y1(s,d,e),e=w,c=d;var E=e.updateQueue;if(E===null){var C=new Set;C.add(c),e.updateQueue=C}else E.add(c);break e}else{if(!(e&1)){Y1(s,d,e),jy();break e}c=Error(H(426))}}else if(et&&u.mode&1){var b=Z1(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),K1(b,a,u,s,e),xy(ma(c,u));break e}}s=c=ma(c,u),xt!==4&&(xt=2),$l===null?$l=[s]:$l.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=KE(s,c,e);j1(s,v);break e;case 1:u=c;var _=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Kr===null||!Kr.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=QE(s,u,e);j1(s,k);break e}}s=s.return}while(s!==null)}gC(n)}catch(P){e=P,yt===n&&n!==null&&(yt=n=n.return);continue}break}while(1)}function pC(){var t=ld.current;return ld.current=ad,t===null?ad:t}function jy(){(xt===0||xt===3||xt===2)&&(xt=4),bt===null||!(qs&268435455)&&!(rf&268435455)||Nr(bt,Rt)}function hd(t,e){var n=Oe;Oe|=2;var i=pC();(bt!==t||Rt!==e)&&(Yi=null,zs(t,e));do try{MO();break}catch(r){fC(t,r)}while(1);if(Ty(),Oe=n,ld.current=i,yt!==null)throw Error(H(261));return bt=null,Rt=0,xt}function MO(){for(;yt!==null;)mC(yt)}function OO(){for(;yt!==null&&!rM();)mC(yt)}function mC(t){var e=yC(t.alternate,t,xn);t.memoizedProps=t.pendingProps,e===null?gC(t):yt=e,Dy.current=null}function gC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=kO(n,e),n!==null){n.flags&=32767,yt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xt=6,yt=null;return}}else if(n=CO(n,e,xn),n!==null){yt=n;return}if(e=e.sibling,e!==null){yt=e;return}yt=e=t}while(e!==null);xt===0&&(xt=5)}function bs(t,e,n){var i=Fe,r=Hn.transition;try{Hn.transition=null,Fe=1,AO(t,e,n,i)}finally{Hn.transition=r,Fe=i}return null}function AO(t,e,n,i){do Jo();while($r!==null);if(Oe&6)throw Error(H(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(pM(t,s),t===bt&&(yt=bt=null,Rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Kc||(Kc=!0,_C(Gh,function(){return Jo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Hn.transition,Hn.transition=null;var a=Fe;Fe=1;var u=Oe;Oe|=4,Dy.current=null,IO(t,n),cC(n,t),eO(Ng),Yh=!!Lg,Ng=Lg=null,t.current=n,PO(n),sM(),Oe=u,Fe=a,Hn.transition=s}else t.current=n;if(Kc&&(Kc=!1,$r=t,cd=r),s=t.pendingLanes,s===0&&(Kr=null),lM(n.stateNode),_n(t,dt()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(ud)throw ud=!1,t=Qg,Qg=null,t;return cd&1&&t.tag!==0&&Jo(),s=t.pendingLanes,s&1?t===Xg?zl++:(zl=0,Xg=t):zl=0,fs(),null}function Jo(){if($r!==null){var t=ZT(cd),e=Hn.transition,n=Fe;try{if(Hn.transition=null,Fe=16>t?16:t,$r===null)var i=!1;else{if(t=$r,$r=null,cd=0,Oe&6)throw Error(H(331));var r=Oe;for(Oe|=4,ne=t.current;ne!==null;){var s=ne,a=s.child;if(ne.flags&16){var u=s.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(ne=d;ne!==null;){var p=ne;switch(p.tag){case 0:case 11:case 15:Dl(8,p,s)}var g=p.child;if(g!==null)g.return=p,ne=g;else for(;ne!==null;){p=ne;var y=p.sibling,w=p.return;if(aC(p),p===d){ne=null;break}if(y!==null){y.return=w,ne=y;break}ne=w}}}var E=s.alternate;if(E!==null){var C=E.child;if(C!==null){E.child=null;do{var b=C.sibling;C.sibling=null,C=b}while(C!==null)}}ne=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ne=a;else e:for(;ne!==null;){if(s=ne,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Dl(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,ne=v;break e}ne=s.return}}var _=t.current;for(ne=_;ne!==null;){a=ne;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,ne=S;else e:for(a=_;ne!==null;){if(u=ne,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:nf(9,u)}}catch(P){at(u,u.return,P)}if(u===a){ne=null;break e}var k=u.sibling;if(k!==null){k.return=u.return,ne=k;break e}ne=u.return}}if(Oe=r,fs(),bi&&typeof bi.onPostCommitFiberRoot=="function")try{bi.onPostCommitFiberRoot(Yd,t)}catch{}i=!0}return i}finally{Fe=n,Hn.transition=e}}return!1}function ux(t,e,n){e=ma(n,e),e=KE(t,e,1),t=Zr(t,e,1),e=sn(),t!==null&&($u(t,1,e),_n(t,e))}function at(t,e,n){if(t.tag===3)ux(t,t,n);else for(;e!==null;){if(e.tag===3){ux(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Kr===null||!Kr.has(i))){t=ma(n,t),t=QE(e,t,1),e=Zr(e,t,1),t=sn(),e!==null&&($u(e,1,t),_n(e,t));break}}e=e.return}}function RO(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=sn(),t.pingedLanes|=t.suspendedLanes&n,bt===t&&(Rt&n)===n&&(xt===4||xt===3&&(Rt&130023424)===Rt&&500>dt()-zy?zs(t,0):$y|=n),_n(t,e)}function vC(t,e){e===0&&(t.mode&1?(e=Uc,Uc<<=1,!(Uc&130023424)&&(Uc=4194304)):e=1);var n=sn();t=hr(t,e),t!==null&&($u(t,e,n),_n(t,n))}function DO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),vC(t,n)}function $O(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(H(314))}i!==null&&i.delete(e),vC(t,n)}var yC;yC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||vn.current)mn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return mn=!1,EO(t,e,n);mn=!!(t.flags&131072)}else mn=!1,et&&e.flags&1048576&&xE(e,td,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Ch(t,e),t=e.pendingProps;var r=ha(e,Zt.current);Xo(e,n),r=Ny(null,e,i,t,r,n);var s=My();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yn(i)?(s=!0,Jh(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,ky(e),r.updater=ef,e.stateNode=r,r._reactInternals=e,Ug(e,i,t,n),e=Vg(null,e,i,!0,s,n)):(e.tag=0,et&&s&&_y(e),nn(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Ch(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=FO(i),t=ei(i,t),r){case 0:e=Bg(null,e,i,t,n);break e;case 1:e=J1(null,e,i,t,n);break e;case 11:e=Q1(null,e,i,t,n);break e;case 14:e=X1(null,e,i,ei(i.type,t),n);break e}throw Error(H(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ei(i,r),Bg(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ei(i,r),J1(t,e,i,r,n);case 3:e:{if(tC(e),t===null)throw Error(H(387));i=e.pendingProps,s=e.memoizedState,r=s.element,CE(t,e),rd(e,i,null,n);var a=e.memoizedState;if(i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=ma(Error(H(423)),e),e=ex(t,e,i,n,r);break e}else if(i!==r){r=ma(Error(H(424)),e),e=ex(t,e,i,n,r);break e}else for(En=Yr(e.stateNode.containerInfo.firstChild),bn=e,et=!0,ni=null,n=PE(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(da(),i===r){e=dr(t,e,n);break e}nn(t,e,i,n)}e=e.child}return e;case 5:return LE(e),t===null&&$g(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,a=r.children,Mg(i,r)?a=null:s!==null&&Mg(i,s)&&(e.flags|=32),eC(t,e),nn(t,e,a,n),e.child;case 6:return t===null&&$g(e),null;case 13:return nC(t,e,n);case 4:return by(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=fa(e,null,i,n):nn(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ei(i,r),Q1(t,e,i,r,n);case 7:return nn(t,e,e.pendingProps,n),e.child;case 8:return nn(t,e,e.pendingProps.children,n),e.child;case 12:return nn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,a=r.value,Ve(nd,i._currentValue),i._currentValue=a,s!==null)if(ai(s.value,a)){if(s.children===r.children&&!vn.current){e=dr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){a=s.child;for(var c=u.firstContext;c!==null;){if(c.context===i){if(s.tag===1){c=sr(-1,n&-n),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),zg(s.return,n,e),u.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(H(341));a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),zg(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}nn(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Xo(e,n),r=Gn(r),i=i(r),e.flags|=1,nn(t,e,i,n),e.child;case 14:return i=e.type,r=ei(i,e.pendingProps),r=ei(i.type,r),X1(t,e,i,r,n);case 15:return XE(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ei(i,r),Ch(t,e),e.tag=1,yn(i)?(t=!0,Jh(e)):t=!1,Xo(e,n),bE(e,i,r),Ug(e,i,r,n),Vg(null,e,i,!0,t,n);case 19:return iC(t,e,n);case 22:return JE(t,e,n)}throw Error(H(156,e.tag))};function _C(t,e){return WT(t,e)}function zO(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,e,n,i){return new zO(t,e,n,i)}function By(t){return t=t.prototype,!(!t||!t.isReactComponent)}function FO(t){if(typeof t=="function")return By(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ay)return 11;if(t===ly)return 14}return 2}function Xr(t,e){var n=t.alternate;return n===null?(n=Vn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ih(t,e,n,i,r,s){var a=2;if(i=t,typeof t=="function")By(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ro:return Fs(n.children,r,s,e);case oy:a=8,r|=8;break;case cg:return t=Vn(12,n,e,r|2),t.elementType=cg,t.lanes=s,t;case hg:return t=Vn(13,n,e,r),t.elementType=hg,t.lanes=s,t;case dg:return t=Vn(19,n,e,r),t.elementType=dg,t.lanes=s,t;case IT:return sf(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kT:a=10;break e;case bT:a=9;break e;case ay:a=11;break e;case ly:a=14;break e;case Ir:a=16,i=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=Vn(a,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function Fs(t,e,n,i){return t=Vn(7,t,i,e),t.lanes=n,t}function sf(t,e,n,i){return t=Vn(22,t,i,e),t.elementType=IT,t.lanes=n,t.stateNode={isHidden:!1},t}function wm(t,e,n){return t=Vn(6,t,null,e),t.lanes=n,t}function xm(t,e,n){return e=Vn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function UO(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tm(0),this.expirationTimes=tm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tm(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Vy(t,e,n,i,r,s,a,u,c){return t=new UO(t,e,n,u,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Vn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ky(s),t}function jO(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ao,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function wC(t){if(!t)return os;t=t._reactInternals;e:{if(lo(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(yn(n))return _E(t,n,e)}return e}function xC(t,e,n,i,r,s,a,u,c){return t=Vy(n,i,!0,t,r,s,a,u,c),t.context=wC(null),n=t.current,i=sn(),r=Qr(n),s=sr(i,r),s.callback=e??null,Zr(n,s,r),t.current.lanes=r,$u(t,r,i),_n(t,i),t}function of(t,e,n,i){var r=e.current,s=sn(),a=Qr(r);return n=wC(n),e.context===null?e.context=n:e.pendingContext=n,e=sr(s,a),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Zr(r,e,a),t!==null&&(si(t,r,a,s),Sh(t,r,a)),a}function dd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function cx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Hy(t,e){cx(t,e),(t=t.alternate)&&cx(t,e)}function BO(){return null}var SC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wy(t){this._internalRoot=t}af.prototype.render=Wy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));of(t,e,null,null)};af.prototype.unmount=Wy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ys(function(){of(null,t,null,null)}),e[cr]=null}};function af(t){this._internalRoot=t}af.prototype.unstable_scheduleHydration=function(t){if(t){var e=XT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Lr.length&&e!==0&&e<Lr[n].priority;n++);Lr.splice(n,0,t),n===0&&eE(t)}};function Gy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function hx(){}function VO(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var d=dd(a);s.call(d)}}var a=xC(e,i,t,0,null,!1,!1,"",hx);return t._reactRootContainer=a,t[cr]=a.current,ru(t.nodeType===8?t.parentNode:t),Ys(),a}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var u=i;i=function(){var d=dd(c);u.call(d)}}var c=Vy(t,0,!1,null,null,!1,!1,"",hx);return t._reactRootContainer=c,t[cr]=c.current,ru(t.nodeType===8?t.parentNode:t),Ys(function(){of(e,c,n,i)}),c}function uf(t,e,n,i,r){var s=n._reactRootContainer;if(s){var a=s;if(typeof r=="function"){var u=r;r=function(){var c=dd(a);u.call(c)}}of(e,a,t,r)}else a=VO(n,e,t,r,i);return dd(a)}KT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wl(e.pendingLanes);n!==0&&(hy(e,n|1),_n(e,dt()),!(Oe&6)&&(ga=dt()+500,fs()))}break;case 13:Ys(function(){var i=hr(t,1);if(i!==null){var r=sn();si(i,t,1,r)}}),Hy(t,1)}};dy=function(t){if(t.tag===13){var e=hr(t,134217728);if(e!==null){var n=sn();si(e,t,134217728,n)}Hy(t,134217728)}};QT=function(t){if(t.tag===13){var e=Qr(t),n=hr(t,e);if(n!==null){var i=sn();si(n,t,e,i)}Hy(t,e)}};XT=function(){return Fe};JT=function(t,e){var n=Fe;try{return Fe=t,e()}finally{Fe=n}};Sg=function(t,e,n){switch(e){case"input":if(mg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Xd(i);if(!r)throw Error(H(90));LT(i),mg(i,r)}}}break;case"textarea":MT(t,n);break;case"select":e=n.value,e!=null&&Yo(t,!!n.multiple,e,!1)}};FT=Fy;UT=Ys;var HO={usingClientEntryPoint:!1,Events:[Fu,Fo,Xd,$T,zT,Fy]},hl={findFiberByHostInstance:Ls,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},WO={bundleType:hl.bundleType,version:hl.version,rendererPackageName:hl.rendererPackageName,rendererConfig:hl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=VT(t),t===null?null:t.stateNode},findFiberByHostInstance:hl.findFiberByHostInstance||BO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{Yd=Qc.inject(WO),bi=Qc}catch{}}Ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HO;Ln.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gy(e))throw Error(H(200));return jO(t,e,null,n)};Ln.createRoot=function(t,e){if(!Gy(t))throw Error(H(299));var n=!1,i="",r=SC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Vy(t,1,!1,null,null,n,!1,i,r),t[cr]=e.current,ru(t.nodeType===8?t.parentNode:t),new Wy(e)};Ln.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=VT(e),t=t===null?null:t.stateNode,t};Ln.flushSync=function(t){return Ys(t)};Ln.hydrate=function(t,e,n){if(!lf(e))throw Error(H(200));return uf(null,t,e,!0,n)};Ln.hydrateRoot=function(t,e,n){if(!Gy(t))throw Error(H(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",a=SC;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=xC(e,null,t,1,n??null,r,!1,s,a),t[cr]=e.current,ru(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new af(e)};Ln.render=function(t,e,n){if(!lf(e))throw Error(H(200));return uf(null,t,e,!1,n)};Ln.unmountComponentAtNode=function(t){if(!lf(t))throw Error(H(40));return t._reactRootContainer?(Ys(function(){uf(null,null,t,!1,function(){t._reactRootContainer=null,t[cr]=null})}),!0):!1};Ln.unstable_batchedUpdates=Fy;Ln.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!lf(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return uf(t,e,n,!1,i)};Ln.version="18.2.0-next-9e3b772b8-20220608";function TC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(TC)}catch(t){console.error(t)}}TC(),xT.exports=Ln;var EC=xT.exports,dx=EC;lg.createRoot=dx.createRoot,lg.hydrateRoot=dx.hydrateRoot;/**
 * @remix-run/router v1.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fu(){return fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},fu.apply(this,arguments)}var zr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(zr||(zr={}));const fx="popstate";function GO(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:a,hash:u}=i.location;return tv("",{pathname:s,search:a,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:fd(r)}return YO(e,n,null,t)}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qy(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qO(){return Math.random().toString(36).substr(2,8)}function px(t,e){return{usr:t.state,key:t.key,idx:e}}function tv(t,e,n,i){return n===void 0&&(n=null),fu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?La(e):e,{state:n,key:e&&e.key||i||qO()})}function fd(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function La(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function YO(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,u=zr.Pop,c=null,d=p();d==null&&(d=0,a.replaceState(fu({},a.state,{idx:d}),""));function p(){return(a.state||{idx:null}).idx}function g(){u=zr.Pop;let b=p(),v=b==null?null:b-d;d=b,c&&c({action:u,location:C.location,delta:v})}function y(b,v){u=zr.Push;let _=tv(C.location,b,v);n&&n(_,b),d=p()+1;let S=px(_,d),k=C.createHref(_);try{a.pushState(S,"",k)}catch{r.location.assign(k)}s&&c&&c({action:u,location:C.location,delta:1})}function w(b,v){u=zr.Replace;let _=tv(C.location,b,v);n&&n(_,b),d=p();let S=px(_,d),k=C.createHref(_);a.replaceState(S,"",k),s&&c&&c({action:u,location:C.location,delta:0})}function E(b){let v=r.location.origin!=="null"?r.location.origin:r.location.href,_=typeof b=="string"?b:fd(b);return ft(v,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,v)}let C={get action(){return u},get location(){return t(r,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(fx,g),c=b,()=>{r.removeEventListener(fx,g),c=null}},createHref(b){return e(r,b)},createURL:E,encodeLocation(b){let v=E(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:y,replace:w,go(b){return a.go(b)}};return C}var mx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(mx||(mx={}));function ZO(t,e,n){n===void 0&&(n="/");let i=typeof e=="string"?La(e):e,r=Yy(i.pathname||"/",n);if(r==null)return null;let s=CC(t);KO(s);let a=null;for(let u=0;a==null&&u<s.length;++u)a=sA(s[u],lA(r));return a}function CC(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,a,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(ft(c.relativePath.startsWith(i),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(i.length));let d=Jr([i,c.relativePath]),p=n.concat(c);s.children&&s.children.length>0&&(ft(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),CC(s.children,e,p,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:iA(d,s.index),routesMeta:p})};return t.forEach((s,a)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))r(s,a);else for(let c of kC(s.path))r(s,a,c)}),e}function kC(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=kC(i.join("/")),u=[];return u.push(...a.map(c=>c===""?s:[s,c].join("/"))),r&&u.push(...a),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function KO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:rA(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const QO=/^:\w+$/,XO=3,JO=2,eA=1,tA=10,nA=-2,gx=t=>t==="*";function iA(t,e){let n=t.split("/"),i=n.length;return n.some(gx)&&(i+=nA),e&&(i+=JO),n.filter(r=>!gx(r)).reduce((r,s)=>r+(QO.test(s)?XO:s===""?eA:tA),i)}function rA(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function sA(t,e){let{routesMeta:n}=t,i={},r="/",s=[];for(let a=0;a<n.length;++a){let u=n[a],c=a===n.length-1,d=r==="/"?e:e.slice(r.length)||"/",p=oA({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d);if(!p)return null;Object.assign(i,p.params);let g=u.route;s.push({params:i,pathname:Jr([r,p.pathname]),pathnameBase:dA(Jr([r,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(r=Jr([r,p.pathnameBase]))}return s}function oA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=aA(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((d,p,g)=>{if(p==="*"){let y=u[g]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}return d[p]=uA(u[g]||"",p),d},{}),pathname:s,pathnameBase:a,pattern:t}}function aA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),qy(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(a,u)=>(i.push(u),"/([^\\/]+)"));return t.endsWith("*")?(i.push("*"),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function lA(t){try{return decodeURI(t)}catch(e){return qy(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function uA(t,e){try{return decodeURIComponent(t)}catch(n){return qy(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Yy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function cA(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?La(t):t;return{pathname:n?n.startsWith("/")?n:hA(n,e):e,search:fA(i),hash:pA(r)}}function hA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Sm(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zy(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ky(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=La(t):(r=fu({},t),ft(!r.pathname||!r.pathname.includes("?"),Sm("?","pathname","search",r)),ft(!r.pathname||!r.pathname.includes("#"),Sm("#","pathname","hash",r)),ft(!r.search||!r.search.includes("#"),Sm("#","search","hash",r)));let s=t===""||r.pathname==="",a=s?"/":r.pathname,u;if(i||a==null)u=n;else{let g=e.length-1;if(a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),g-=1;r.pathname=y.join("/")}u=g>=0?e[g]:"/"}let c=cA(r,u),d=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}const Jr=t=>t.join("/").replace(/\/\/+/g,"/"),dA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function mA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const bC=["post","put","patch","delete"];new Set(bC);const gA=["get",...bC];new Set(gA);/**
 * React Router v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pd(){return pd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},pd.apply(this,arguments)}const Qy=M.createContext(null),vA=M.createContext(null),Na=M.createContext(null),cf=M.createContext(null),Di=M.createContext({outlet:null,matches:[],isDataRoute:!1}),IC=M.createContext(null);function yA(t,e){let{relative:n}=e===void 0?{}:e;Ma()||ft(!1);let{basename:i,navigator:r}=M.useContext(Na),{hash:s,pathname:a,search:u}=NC(t,{relative:n}),c=a;return i!=="/"&&(c=a==="/"?i:Jr([i,a])),r.createHref({pathname:c,search:u,hash:s})}function Ma(){return M.useContext(cf)!=null}function Oa(){return Ma()||ft(!1),M.useContext(cf).location}function PC(t){M.useContext(Na).static||M.useLayoutEffect(t)}function $i(){let{isDataRoute:t}=M.useContext(Di);return t?OA():_A()}function _A(){Ma()||ft(!1);let t=M.useContext(Qy),{basename:e,navigator:n}=M.useContext(Na),{matches:i}=M.useContext(Di),{pathname:r}=Oa(),s=JSON.stringify(Zy(i).map(c=>c.pathnameBase)),a=M.useRef(!1);return PC(()=>{a.current=!0}),M.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let p=Ky(c,JSON.parse(s),r,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Jr([e,p.pathname])),(d.replace?n.replace:n.push)(p,d.state,d)},[e,n,s,r,t])}const wA=M.createContext(null);function xA(t){let e=M.useContext(Di).outlet;return e&&M.createElement(wA.Provider,{value:t},e)}function LC(){let{matches:t}=M.useContext(Di),e=t[t.length-1];return e?e.params:{}}function NC(t,e){let{relative:n}=e===void 0?{}:e,{matches:i}=M.useContext(Di),{pathname:r}=Oa(),s=JSON.stringify(Zy(i).map(a=>a.pathnameBase));return M.useMemo(()=>Ky(t,JSON.parse(s),r,n==="path"),[t,s,r,n])}function SA(t,e){return TA(t,e)}function TA(t,e,n){Ma()||ft(!1);let{navigator:i}=M.useContext(Na),{matches:r}=M.useContext(Di),s=r[r.length-1],a=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let c=Oa(),d;if(e){var p;let C=typeof e=="string"?La(e):e;u==="/"||(p=C.pathname)!=null&&p.startsWith(u)||ft(!1),d=C}else d=c;let g=d.pathname||"/",y=u==="/"?g:g.slice(u.length)||"/",w=ZO(t,{pathname:y}),E=IA(w&&w.map(C=>Object.assign({},C,{params:Object.assign({},a,C.params),pathname:Jr([u,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?u:Jr([u,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),r,n);return e&&E?M.createElement(cf.Provider,{value:{location:pd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:zr.Pop}},E):E}function EA(){let t=MA(),e=mA(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:r},n):null,s)}const CA=M.createElement(EA,null);class kA extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?M.createElement(Di.Provider,{value:this.props.routeContext},M.createElement(IC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bA(t){let{routeContext:e,match:n,children:i}=t,r=M.useContext(Qy);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(Di.Provider,{value:e},i)}function IA(t,e,n){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var r;if((r=n)!=null&&r.errors)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=s.findIndex(c=>c.route.id&&(a==null?void 0:a[c.route.id]));u>=0||ft(!1),s=s.slice(0,Math.min(s.length,u+1))}return s.reduceRight((u,c,d)=>{let p=c.route.id?a==null?void 0:a[c.route.id]:null,g=null;n&&(g=c.route.errorElement||CA);let y=e.concat(s.slice(0,d+1)),w=()=>{let E;return p?E=g:c.route.Component?E=M.createElement(c.route.Component,null):c.route.element?E=c.route.element:E=u,M.createElement(bA,{match:c,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:E})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?M.createElement(kA,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var nv;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(nv||(nv={}));var pu;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(pu||(pu={}));function PA(t){let e=M.useContext(Qy);return e||ft(!1),e}function LA(t){let e=M.useContext(vA);return e||ft(!1),e}function NA(t){let e=M.useContext(Di);return e||ft(!1),e}function MC(t){let e=NA(),n=e.matches[e.matches.length-1];return n.route.id||ft(!1),n.route.id}function MA(){var t;let e=M.useContext(IC),n=LA(pu.UseRouteError),i=MC(pu.UseRouteError);return e||((t=n.errors)==null?void 0:t[i])}function OA(){let{router:t}=PA(nv.UseNavigateStable),e=MC(pu.UseNavigateStable),n=M.useRef(!1);return PC(()=>{n.current=!0}),M.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,pd({fromRouteId:e},s)))},[t,e])}function AA(t){let{to:e,replace:n,state:i,relative:r}=t;Ma()||ft(!1);let{matches:s}=M.useContext(Di),{pathname:a}=Oa(),u=$i(),c=Ky(e,Zy(s).map(p=>p.pathnameBase),a,r==="path"),d=JSON.stringify(c);return M.useEffect(()=>u(JSON.parse(d),{replace:n,state:i,relative:r}),[u,d,r,n,i]),null}function RA(t){return xA(t.context)}function wn(t){ft(!1)}function DA(t){let{basename:e="/",children:n=null,location:i,navigationType:r=zr.Pop,navigator:s,static:a=!1}=t;Ma()&&ft(!1);let u=e.replace(/^\/*/,"/"),c=M.useMemo(()=>({basename:u,navigator:s,static:a}),[u,s,a]);typeof i=="string"&&(i=La(i));let{pathname:d="/",search:p="",hash:g="",state:y=null,key:w="default"}=i,E=M.useMemo(()=>{let C=Yy(d,u);return C==null?null:{location:{pathname:C,search:p,hash:g,state:y,key:w},navigationType:r}},[u,d,p,g,y,w,r]);return E==null?null:M.createElement(Na.Provider,{value:c},M.createElement(cf.Provider,{children:n,value:E}))}function $A(t){let{children:e,location:n}=t;return SA(iv(e),n)}var vx;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(vx||(vx={}));new Promise(()=>{});function iv(t,e){e===void 0&&(e=[]);let n=[];return M.Children.forEach(t,(i,r)=>{if(!M.isValidElement(i))return;let s=[...e,r];if(i.type===M.Fragment){n.push.apply(n,iv(i.props.children,s));return}i.type!==wn&&ft(!1),!i.props.index||!i.props.children||ft(!1);let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=iv(i.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rv(){return rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},rv.apply(this,arguments)}function zA(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function FA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function UA(t,e){return t.button===0&&(!e||e==="_self")&&!FA(t)}const jA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function BA(t){let{basename:e,children:n,window:i}=t,r=M.useRef();r.current==null&&(r.current=GO({window:i,v5Compat:!0}));let s=r.current,[a,u]=M.useState({action:s.action,location:s.location});return M.useLayoutEffect(()=>s.listen(u),[s]),M.createElement(DA,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s})}const VA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zs=M.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:a,state:u,target:c,to:d,preventScrollReset:p}=e,g=zA(e,jA),{basename:y}=M.useContext(Na),w,E=!1;if(typeof d=="string"&&HA.test(d)&&(w=d,VA))try{let _=new URL(window.location.href),S=d.startsWith("//")?new URL(_.protocol+d):new URL(d),k=Yy(S.pathname,y);S.origin===_.origin&&k!=null?d=k+S.search+S.hash:E=!0}catch{}let C=yA(d,{relative:r}),b=WA(d,{replace:a,state:u,target:c,preventScrollReset:p,relative:r});function v(_){i&&i(_),_.defaultPrevented||b(_)}return M.createElement("a",rv({},g,{href:w||C,onClick:E||s?i:v,ref:n,target:c}))});var yx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(yx||(yx={}));var _x;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(_x||(_x={}));function WA(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:a}=e===void 0?{}:e,u=$i(),c=Oa(),d=NC(t,{relative:a});return M.useCallback(p=>{if(UA(p,n)){p.preventDefault();let g=i!==void 0?i:fd(c)===fd(d);u(t,{replace:g,state:r,preventScrollReset:s,relative:a})}},[c,u,d,i,r,n,t,s,a])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},GA=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],a=t[n++],u=t[n++],c=((r&7)<<18|(s&63)<<12|(a&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],a=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return e.join("")},AC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],a=r+1<t.length,u=a?t[r+1]:0,c=r+2<t.length,d=c?t[r+2]:0,p=s>>2,g=(s&3)<<4|u>>4;let y=(u&15)<<2|d>>6,w=d&63;c||(w=64,a||(y=64)),i.push(n[p],n[g],n[y],n[w])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(OC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],u=r<t.length?n[t.charAt(r)]:0;++r;const d=r<t.length?n[t.charAt(r)]:64;++r;const g=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||u==null||d==null||g==null)throw new qA;const y=s<<2|u>>4;if(i.push(y),d!==64){const w=u<<4&240|d>>2;if(i.push(w),g!==64){const E=d<<6&192|g;i.push(E)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YA=function(t){const e=OC(t);return AC.encodeByteArray(e,!0)},md=function(t){return YA(t).replace(/\./g,"")},RC=function(t){try{return AC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=()=>ZA().__FIREBASE_DEFAULTS__,QA=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},XA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&RC(t[1]);return e&&JSON.parse(e)},hf=()=>{try{return KA()||QA()||XA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},DC=t=>{var e,n;return(n=(e=hf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},$C=t=>{const e=DC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},zC=()=>{var t;return(t=hf())===null||t===void 0?void 0:t.config},FC=t=>{var e;return(e=hf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),u="";return[md(JSON.stringify(n)),md(JSON.stringify(a)),u].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function tR(){var t;const e=(t=hf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rR(){const t=Kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sR(){try{return typeof indexedDB=="object"}catch{return!1}}function oR(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="FirebaseError";class zi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=aR,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ju.prototype.create)}}class ju{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],a=s?lR(s,i):"Error",u=`${this.serviceName}: ${a} (${r}).`;return new zi(r,u,i)}}function lR(t,e){return t.replace(uR,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const uR=/\{\$([^}]+)}/g;function cR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gd(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],a=e[r];if(wx(s)&&wx(a)){if(!gd(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function wx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Sl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Tl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function hR(t,e){const n=new dR(t,e);return n.subscribe.bind(n)}class dR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");fR(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Tm),r.error===void 0&&(r.error=Tm),r.complete===void 0&&(r.complete=Tm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Tm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t){return t&&t._delegate?t._delegate:t}class as{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new JA;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gR(e))try{this.getOrInitializeService({instanceIdentifier:Is})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Is){return this.instances.has(e)}getOptions(e=Is){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);i===u&&a.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:mR(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Is){return this.component?this.component.multipleInstances?e:Is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mR(t){return t===Is?void 0:t}function gR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Re||(Re={}));const yR={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},_R=Re.INFO,wR={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},xR=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=wR[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xy{constructor(e){this.name=e,this._logLevel=_R,this._logHandler=xR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const SR=(t,e)=>e.some(n=>t instanceof n);let xx,Sx;function TR(){return xx||(xx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ER(){return Sx||(Sx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jC=new WeakMap,sv=new WeakMap,BC=new WeakMap,Em=new WeakMap,Jy=new WeakMap;function CR(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(es(t.result)),r()},a=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&jC.set(n,t)}).catch(()=>{}),Jy.set(e,t),e}function kR(t){if(sv.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});sv.set(t,e)}let ov={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||BC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return es(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bR(t){ov=t(ov)}function IR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Cm(this),e,...n);return BC.set(i,e.sort?e.sort():[e]),es(i)}:ER().includes(t)?function(...e){return t.apply(Cm(this),e),es(jC.get(this))}:function(...e){return es(t.apply(Cm(this),e))}}function PR(t){return typeof t=="function"?IR(t):(t instanceof IDBTransaction&&kR(t),SR(t,TR())?new Proxy(t,ov):t)}function es(t){if(t instanceof IDBRequest)return CR(t);if(Em.has(t))return Em.get(t);const e=PR(t);return e!==t&&(Em.set(t,e),Jy.set(e,t)),e}const Cm=t=>Jy.get(t);function LR(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(t,e),u=es(a);return i&&a.addEventListener("upgradeneeded",c=>{i(es(a.result),c.oldVersion,c.newVersion,es(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const NR=["get","getKey","getAll","getAllKeys","count"],MR=["put","add","delete","clear"],km=new Map;function Tx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(km.get(e))return km.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=MR.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||NR.includes(n)))return;const s=async function(a,...u){const c=this.transaction(a,r?"readwrite":"readonly");let d=c.store;return i&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),r&&c.done]))[0]};return km.set(e,s),s}bR(t=>({...t,get:(e,n,i)=>Tx(e,n)||t.get(e,n,i),has:(e,n)=>!!Tx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AR(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function AR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const av="@firebase/app",Ex="0.9.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new Xy("@firebase/app"),RR="@firebase/app-compat",DR="@firebase/analytics-compat",$R="@firebase/analytics",zR="@firebase/app-check-compat",FR="@firebase/app-check",UR="@firebase/auth",jR="@firebase/auth-compat",BR="@firebase/database",VR="@firebase/database-compat",HR="@firebase/functions",WR="@firebase/functions-compat",GR="@firebase/installations",qR="@firebase/installations-compat",YR="@firebase/messaging",ZR="@firebase/messaging-compat",KR="@firebase/performance",QR="@firebase/performance-compat",XR="@firebase/remote-config",JR="@firebase/remote-config-compat",eD="@firebase/storage",tD="@firebase/storage-compat",nD="@firebase/firestore",iD="@firebase/firestore-compat",rD="firebase",sD="9.22.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="[DEFAULT]",oD={[av]:"fire-core",[RR]:"fire-core-compat",[$R]:"fire-analytics",[DR]:"fire-analytics-compat",[FR]:"fire-app-check",[zR]:"fire-app-check-compat",[UR]:"fire-auth",[jR]:"fire-auth-compat",[BR]:"fire-rtdb",[VR]:"fire-rtdb-compat",[HR]:"fire-fn",[WR]:"fire-fn-compat",[GR]:"fire-iid",[qR]:"fire-iid-compat",[YR]:"fire-fcm",[ZR]:"fire-fcm-compat",[KR]:"fire-perf",[QR]:"fire-perf-compat",[XR]:"fire-rc",[JR]:"fire-rc-compat",[eD]:"fire-gcs",[tD]:"fire-gcs-compat",[nD]:"fire-fst",[iD]:"fire-fst-compat","fire-js":"fire-js",[rD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd=new Map,uv=new Map;function aD(t,e){try{t.container.addComponent(e)}catch(n){Ks.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qs(t){const e=t.name;if(uv.has(e))return Ks.debug(`There were multiple attempts to register component ${e}.`),!1;uv.set(e,t);for(const n of vd.values())aD(n,t);return!0}function df(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ts=new ju("app","Firebase",lD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new as("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=sD;function VC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:lv,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw ts.create("bad-app-name",{appName:String(r)});if(n||(n=zC()),!n)throw ts.create("no-options");const s=vd.get(r);if(s){if(gd(n,s.options)&&gd(i,s.config))return s;throw ts.create("duplicate-app",{appName:r})}const a=new vR(r);for(const c of uv.values())a.addComponent(c);const u=new uD(n,i,a);return vd.set(r,u),u}function e_(t=lv){const e=vd.get(t);if(!e&&t===lv&&zC())return VC();if(!e)throw ts.create("no-app",{appName:t});return e}function Pi(t,e,n){var i;let r=(i=oD[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const u=[`Unable to register library "${r}" with version "${e}":`];s&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ks.warn(u.join(" "));return}Qs(new as(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD="firebase-heartbeat-database",hD=1,mu="firebase-heartbeat-store";let bm=null;function HC(){return bm||(bm=LR(cD,hD,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(mu)}}}).catch(t=>{throw ts.create("idb-open",{originalErrorMessage:t.message})})),bm}async function dD(t){try{return await(await HC()).transaction(mu).objectStore(mu).get(WC(t))}catch(e){if(e instanceof zi)Ks.warn(e.message);else{const n=ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ks.warn(n.message)}}}async function Cx(t,e){try{const i=(await HC()).transaction(mu,"readwrite");await i.objectStore(mu).put(e,WC(t)),await i.done}catch(n){if(n instanceof zi)Ks.warn(n.message);else{const i=ts.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ks.warn(i.message)}}}function WC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=1024,pD=30*24*60*60*1e3;class mD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vD(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=kx();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const s=new Date(r.date).valueOf();return Date.now()-s<=pD}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=kx(),{heartbeatsToSend:n,unsentEntries:i}=gD(this._heartbeatsCache.heartbeats),r=md(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function kx(){return new Date().toISOString().substring(0,10)}function gD(t,e=fD){const n=[];let i=t.slice();for(const r of t){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),bx(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),bx(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class vD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sR()?oR().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await dD(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Cx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Cx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function bx(t){return md(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t){Qs(new as("platform-logger",e=>new OR(e),"PRIVATE")),Qs(new as("heartbeat",e=>new mD(e),"PRIVATE")),Pi(av,Ex,t),Pi(av,Ex,"esm2017"),Pi("fire-js","")}yD("");var _D=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},K,t_=t_||{},pe=_D||self;function ff(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Vu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function wD(t){return Object.prototype.hasOwnProperty.call(t,Im)&&t[Im]||(t[Im]=++xD)}var Im="closure_uid_"+(1e9*Math.random()>>>0),xD=0;function SD(t,e,n){return t.call.apply(t.bind,arguments)}function TD(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function Wt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Wt=SD:Wt=TD,Wt.apply(null,arguments)}function Xc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function Pt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,s){for(var a=Array(arguments.length-2),u=2;u<arguments.length;u++)a[u-2]=arguments[u];return e.prototype[r].apply(i,a)}}function ps(){this.s=this.s,this.o=this.o}var ED=0;ps.prototype.s=!1;ps.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),ED!=0)&&wD(this)};ps.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const GC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function n_(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function Ix(t,e){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(ff(i)){const r=t.length||0,s=i.length||0;t.length=r+s;for(let a=0;a<s;a++)t[r+a]=i[a]}else t.push(i)}}function Gt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Gt.prototype.h=function(){this.defaultPrevented=!0};var CD=function(){if(!pe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{pe.addEventListener("test",()=>{},e),pe.removeEventListener("test",()=>{},e)}catch{}return t}();function gu(t){return/^[\s\xa0]*$/.test(t)}function pf(){var t=pe.navigator;return t&&(t=t.userAgent)?t:""}function xi(t){return pf().indexOf(t)!=-1}function i_(t){return i_[" "](t),t}i_[" "]=function(){};function kD(t,e){var n=y4;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var bD=xi("Opera"),va=xi("Trident")||xi("MSIE"),qC=xi("Edge"),cv=qC||va,YC=xi("Gecko")&&!(pf().toLowerCase().indexOf("webkit")!=-1&&!xi("Edge"))&&!(xi("Trident")||xi("MSIE"))&&!xi("Edge"),ID=pf().toLowerCase().indexOf("webkit")!=-1&&!xi("Edge");function ZC(){var t=pe.document;return t?t.documentMode:void 0}var hv;e:{var Pm="",Lm=function(){var t=pf();if(YC)return/rv:([^\);]+)(\)|;)/.exec(t);if(qC)return/Edge\/([\d\.]+)/.exec(t);if(va)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(ID)return/WebKit\/(\S+)/.exec(t);if(bD)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Lm&&(Pm=Lm?Lm[1]:""),va){var Nm=ZC();if(Nm!=null&&Nm>parseFloat(Pm)){hv=String(Nm);break e}}hv=Pm}var dv;if(pe.document&&va){var Px=ZC();dv=Px||parseInt(hv,10)||void 0}else dv=void 0;var PD=dv;function vu(t,e){if(Gt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(YC){e:{try{i_(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:LD[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&vu.$.h.call(this)}}Pt(vu,Gt);var LD={2:"touch",3:"pen",4:"mouse"};vu.prototype.h=function(){vu.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Hu="closure_listenable_"+(1e6*Math.random()|0),ND=0;function MD(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++ND,this.fa=this.ia=!1}function mf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function r_(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function OD(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function KC(t){const e={};for(const n in t)e[n]=t[n];return e}const Lx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function QC(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let s=0;s<Lx.length;s++)n=Lx[s],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function gf(t){this.src=t,this.g={},this.h=0}gf.prototype.add=function(t,e,n,i,r){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var a=pv(t,e,i,r);return-1<a?(e=t[a],n||(e.ia=!1)):(e=new MD(e,this.src,s,!!i,r),e.ia=n,t.push(e)),e};function fv(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=GC(i,e),s;(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(mf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function pv(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==i)return r}return-1}var s_="closure_lm_"+(1e6*Math.random()|0),Mm={};function XC(t,e,n,i,r){if(i&&i.once)return ek(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)XC(t,e[s],n,i,r);return null}return n=l_(n),t&&t[Hu]?t.O(e,n,Vu(i)?!!i.capture:!!i,r):JC(t,e,n,!1,i,r)}function JC(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var a=Vu(r)?!!r.capture:!!r,u=a_(t);if(u||(t[s_]=u=new gf(t)),n=u.add(e,n,i,a,s),n.proxy)return n;if(i=AD(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)CD||(r=a),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(nk(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function AD(){function t(n){return e.call(t.src,t.listener,n)}const e=RD;return t}function ek(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)ek(t,e[s],n,i,r);return null}return n=l_(n),t&&t[Hu]?t.P(e,n,Vu(i)?!!i.capture:!!i,r):JC(t,e,n,!0,i,r)}function tk(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)tk(t,e[s],n,i,r);else i=Vu(i)?!!i.capture:!!i,n=l_(n),t&&t[Hu]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=pv(s,n,i,r),-1<n&&(mf(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=a_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=pv(e,n,i,r)),(n=-1<t?e[t]:null)&&o_(n))}function o_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Hu])fv(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(nk(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=a_(e))?(fv(n,t),n.h==0&&(n.src=null,e[s_]=null)):mf(t)}}}function nk(t){return t in Mm?Mm[t]:Mm[t]="on"+t}function RD(t,e){if(t.fa)t=!0;else{e=new vu(e,this);var n=t.listener,i=t.la||t.src;t.ia&&o_(t),t=n.call(i,e)}return t}function a_(t){return t=t[s_],t instanceof gf?t:null}var Om="__closure_events_fn_"+(1e9*Math.random()>>>0);function l_(t){return typeof t=="function"?t:(t[Om]||(t[Om]=function(e){return t.handleEvent(e)}),t[Om])}function It(){ps.call(this),this.i=new gf(this),this.S=this,this.J=null}Pt(It,ps);It.prototype[Hu]=!0;It.prototype.removeEventListener=function(t,e,n,i){tk(this,t,e,n,i)};function Dt(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new Gt(e,t);else if(e instanceof Gt)e.target=e.target||t;else{var r=e;e=new Gt(i,t),QC(e,r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var a=e.g=n[s];r=Jc(a,i,!0,e)&&r}if(a=e.g=t,r=Jc(a,i,!0,e)&&r,r=Jc(a,i,!1,e)&&r,n)for(s=0;s<n.length;s++)a=e.g=n[s],r=Jc(a,i,!1,e)&&r}It.prototype.N=function(){if(It.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)mf(n[i]);delete t.g[e],t.h--}}this.J=null};It.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};It.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function Jc(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.fa&&a.capture==n){var u=a.listener,c=a.la||a.src;a.ia&&fv(t.i,a),r=u.call(c,i)!==!1&&r}}return r&&!i.defaultPrevented}var u_=pe.JSON.stringify;class DD{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function $D(){var t=c_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class zD{constructor(){this.h=this.g=null}add(e,n){const i=ik.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}}var ik=new DD(()=>new FD,t=>t.reset());class FD{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function UD(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function jD(t){pe.setTimeout(()=>{throw t},0)}let yu,_u=!1,c_=new zD,rk=()=>{const t=pe.Promise.resolve(void 0);yu=()=>{t.then(BD)}};var BD=()=>{for(var t;t=$D();){try{t.h.call(t.g)}catch(n){jD(n)}var e=ik;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}_u=!1};function vf(t,e){It.call(this),this.h=t||1,this.g=e||pe,this.j=Wt(this.qb,this),this.l=Date.now()}Pt(vf,It);K=vf.prototype;K.ga=!1;K.T=null;K.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Dt(this,"tick"),this.ga&&(h_(this),this.start()))}};K.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function h_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}K.N=function(){vf.$.N.call(this),h_(this),delete this.g};function d_(t,e,n){if(typeof t=="function")n&&(t=Wt(t,n));else if(t&&typeof t.handleEvent=="function")t=Wt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:pe.setTimeout(t,e||0)}function sk(t){t.g=d_(()=>{t.g=null,t.i&&(t.i=!1,sk(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class VD extends ps{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:sk(this)}N(){super.N(),this.g&&(pe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wu(t){ps.call(this),this.h=t,this.g={}}Pt(wu,ps);var Nx=[];function ok(t,e,n,i){Array.isArray(n)||(n&&(Nx[0]=n.toString()),n=Nx);for(var r=0;r<n.length;r++){var s=XC(e,n[r],i||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function ak(t){r_(t.g,function(e,n){this.g.hasOwnProperty(n)&&o_(e)},t),t.g={}}wu.prototype.N=function(){wu.$.N.call(this),ak(this)};wu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function yf(){this.g=!0}yf.prototype.Ea=function(){this.g=!1};function HD(t,e,n,i,r,s){t.info(function(){if(t.g)if(s)for(var a="",u=s.split("&"),c=0;c<u.length;c++){var d=u[c].split("=");if(1<d.length){var p=d[0];d=d[1];var g=p.split("_");a=2<=g.length&&g[1]=="type"?a+(p+"="+d+"&"):a+(p+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+a})}function WD(t,e,n,i,r,s,a){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+s+" "+a})}function Go(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+qD(t,n)+(i?" "+i:"")})}function GD(t,e){t.info(function(){return"TIMEOUT: "+e})}yf.prototype.info=function(){};function qD(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<r.length;a++)r[a]=""}}}}return u_(n)}catch{return e}}var co={},Mx=null;function _f(){return Mx=Mx||new It}co.Ta="serverreachability";function lk(t){Gt.call(this,co.Ta,t)}Pt(lk,Gt);function xu(t){const e=_f();Dt(e,new lk(e))}co.STAT_EVENT="statevent";function uk(t,e){Gt.call(this,co.STAT_EVENT,t),this.stat=e}Pt(uk,Gt);function rn(t){const e=_f();Dt(e,new uk(e,t))}co.Ua="timingevent";function ck(t,e){Gt.call(this,co.Ua,t),this.size=e}Pt(ck,Gt);function Wu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return pe.setTimeout(function(){t()},e)}var wf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},hk={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function f_(){}f_.prototype.h=null;function Ox(t){return t.h||(t.h=t.i())}function dk(){}var Gu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function p_(){Gt.call(this,"d")}Pt(p_,Gt);function m_(){Gt.call(this,"c")}Pt(m_,Gt);var mv;function xf(){}Pt(xf,f_);xf.prototype.g=function(){return new XMLHttpRequest};xf.prototype.i=function(){return{}};mv=new xf;function qu(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new wu(this),this.P=YD,t=cv?125:void 0,this.V=new vf(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new fk}function fk(){this.i=null,this.g="",this.h=!1}var YD=45e3,gv={},yd={};K=qu.prototype;K.setTimeout=function(t){this.P=t};function vv(t,e,n){t.L=1,t.v=Tf(fr(e)),t.s=n,t.S=!0,pk(t,null)}function pk(t,e){t.G=Date.now(),Yu(t),t.A=fr(t.v);var n=t.A,i=t.W;Array.isArray(i)||(i=[String(i)]),Sk(n.i,"t",i),t.C=0,n=t.l.J,t.h=new fk,t.g=Vk(t.l,n?e:null,!t.s),0<t.O&&(t.M=new VD(Wt(t.Pa,t,t.g),t.O)),ok(t.U,t.g,"readystatechange",t.nb),e=t.I?KC(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),xu(),HD(t.j,t.u,t.A,t.m,t.W,t.s)}K.nb=function(t){t=t.target;const e=this.M;e&&Ti(t)==3?e.l():this.Pa(t)};K.Pa=function(t){try{if(t==this.g)e:{const p=Ti(this.g);var e=this.g.Ia();const g=this.g.da();if(!(3>p)&&(p!=3||cv||this.g&&(this.h.h||this.g.ja()||$x(this.g)))){this.J||p!=4||e==7||(e==8||0>=g?xu(3):xu(2)),Sf(this);var n=this.g.da();this.ca=n;t:if(mk(this)){var i=$x(this.g);t="";var r=i.length,s=Ti(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Os(this),Fl(this);var a="";break t}this.h.i=new pe.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=n==200,WD(this.j,this.u,this.A,this.m,this.W,p,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gu(u)){var d=u;break t}}d=null}if(n=d)Go(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yv(this,n);else{this.i=!1,this.o=3,rn(12),Os(this),Fl(this);break e}}this.S?(gk(this,p,a),cv&&this.i&&p==3&&(ok(this.U,this.V,"tick",this.mb),this.V.start())):(Go(this.j,this.m,a,null),yv(this,a)),p==4&&Os(this),this.i&&!this.J&&(p==4?Fk(this.l,this):(this.i=!1,Yu(this)))}else m4(this.g),n==400&&0<a.indexOf("Unknown SID")?(this.o=3,rn(12)):(this.o=0,rn(13)),Os(this),Fl(this)}}}catch{}finally{}};function mk(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function gk(t,e,n){let i=!0,r;for(;!t.J&&t.C<n.length;)if(r=ZD(t,n),r==yd){e==4&&(t.o=4,rn(14),i=!1),Go(t.j,t.m,null,"[Incomplete Response]");break}else if(r==gv){t.o=4,rn(15),Go(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else Go(t.j,t.m,r,null),yv(t,r);mk(t)&&r!=yd&&r!=gv&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,rn(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),x_(e),e.M=!0,rn(11))):(Go(t.j,t.m,n,"[Invalid Chunked Response]"),Os(t),Fl(t))}K.mb=function(){if(this.g){var t=Ti(this.g),e=this.g.ja();this.C<e.length&&(Sf(this),gk(this,t,e),this.i&&t!=4&&Yu(this))}};function ZD(t,e){var n=t.C,i=e.indexOf(`
`,n);return i==-1?yd:(n=Number(e.substring(n,i)),isNaN(n)?gv:(i+=1,i+n>e.length?yd:(e=e.slice(i,i+n),t.C=i+n,e)))}K.cancel=function(){this.J=!0,Os(this)};function Yu(t){t.Y=Date.now()+t.P,vk(t,t.P)}function vk(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Wu(Wt(t.lb,t),e)}function Sf(t){t.B&&(pe.clearTimeout(t.B),t.B=null)}K.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(GD(this.j,this.A),this.L!=2&&(xu(),rn(17)),Os(this),this.o=2,Fl(this)):vk(this,this.Y-t)};function Fl(t){t.l.H==0||t.J||Fk(t.l,t)}function Os(t){Sf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,h_(t.V),ak(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function yv(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||_v(n.i,t))){if(!t.K&&_v(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)xd(n),kf(n);else break e;w_(n),rn(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=Wu(Wt(n.ib,n),6e3));if(1>=Ck(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else As(n,11)}else if((t.K||n.g==t)&&xd(n),!gu(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let d=r[e];if(n.V=d[0],d=d[1],n.H==2)if(d[0]=="c"){n.K=d[1],n.pa=d[2];const p=d[3];p!=null&&(n.ra=p,n.l.info("VER="+n.ra));const g=d[4];g!=null&&(n.Ga=g,n.l.info("SVER="+n.Ga));const y=d[5];y!=null&&typeof y=="number"&&0<y&&(i=1.5*y,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const w=t.g;if(w){const E=w.g?w.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(E){var s=i.i;s.g||E.indexOf("spdy")==-1&&E.indexOf("quic")==-1&&E.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(g_(s,s.h),s.h=null))}if(i.F){const C=w.g?w.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(i.Da=C,We(i.I,i.F,C))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var a=t;if(i.wa=Bk(i,i.J?i.pa:null,i.Y),a.K){kk(i.i,a);var u=a,c=i.L;c&&u.setTimeout(c),u.B&&(Sf(u),Yu(u)),i.g=a}else $k(i);0<n.j.length&&bf(n)}else d[0]!="stop"&&d[0]!="close"||As(n,7);else n.H==3&&(d[0]=="stop"||d[0]=="close"?d[0]=="stop"?As(n,7):__(n):d[0]!="noop"&&n.h&&n.h.Aa(d),n.A=0)}}xu(4)}catch{}}function KD(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(ff(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function QD(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ff(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}function yk(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ff(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=QD(t),i=KD(t),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}var _k=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function XD(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Us(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Us){this.h=t.h,_d(this,t.j),this.s=t.s,this.g=t.g,wd(this,t.m),this.l=t.l;var e=t.i,n=new Su;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Ax(this,n),this.o=t.o}else t&&(e=String(t).match(_k))?(this.h=!1,_d(this,e[1]||"",!0),this.s=El(e[2]||""),this.g=El(e[3]||"",!0),wd(this,e[4]),this.l=El(e[5]||"",!0),Ax(this,e[6]||"",!0),this.o=El(e[7]||"")):(this.h=!1,this.i=new Su(null,this.h))}Us.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Cl(e,Rx,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Cl(e,Rx,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Cl(n,n.charAt(0)=="/"?t4:e4,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Cl(n,i4)),t.join("")};function fr(t){return new Us(t)}function _d(t,e,n){t.j=n?El(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function wd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ax(t,e,n){e instanceof Su?(t.i=e,r4(t.i,t.h)):(n||(e=Cl(e,n4)),t.i=new Su(e,t.h))}function We(t,e,n){t.i.set(e,n)}function Tf(t){return We(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function El(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Cl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,JD),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function JD(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Rx=/[#\/\?@]/g,e4=/[#\?:]/g,t4=/[#\?]/g,n4=/[#\?@]/g,i4=/#/g;function Su(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ms(t){t.g||(t.g=new Map,t.h=0,t.i&&XD(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}K=Su.prototype;K.add=function(t,e){ms(this),this.i=null,t=Aa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function wk(t,e){ms(t),e=Aa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function xk(t,e){return ms(t),e=Aa(t,e),t.g.has(e)}K.forEach=function(t,e){ms(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};K.ta=function(){ms(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const r=t[i];for(let s=0;s<r.length;s++)n.push(e[i])}return n};K.Z=function(t){ms(this);let e=[];if(typeof t=="string")xk(this,t)&&(e=e.concat(this.g.get(Aa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};K.set=function(t,e){return ms(this),this.i=null,t=Aa(this,t),xk(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};K.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function Sk(t,e,n){wk(t,e),0<n.length&&(t.i=null,t.g.set(Aa(t,e),n_(n)),t.h+=n.length)}K.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const s=encodeURIComponent(String(i)),a=this.Z(i);for(i=0;i<a.length;i++){var r=s;a[i]!==""&&(r+="="+encodeURIComponent(String(a[i]))),t.push(r)}}return this.i=t.join("&")};function Aa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function r4(t,e){e&&!t.j&&(ms(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(wk(this,i),Sk(this,r,n))},t)),t.j=e}var s4=class{constructor(t,e){this.g=t,this.map=e}};function Tk(t){this.l=t||o4,pe.PerformanceNavigationTiming?(t=pe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(pe.g&&pe.g.Ka&&pe.g.Ka()&&pe.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var o4=10;function Ek(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Ck(t){return t.h?1:t.g?t.g.size:0}function _v(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function g_(t,e){t.g?t.g.add(e):t.h=e}function kk(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Tk.prototype.cancel=function(){if(this.i=bk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function bk(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return n_(t.i)}var a4=class{stringify(t){return pe.JSON.stringify(t,void 0)}parse(t){return pe.JSON.parse(t,void 0)}};function l4(){this.g=new a4}function u4(t,e,n){const i=n||"";try{yk(t,function(r,s){let a=r;Vu(r)&&(a=u_(r)),e.push(i+s+"="+encodeURIComponent(a))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function c4(t,e){const n=new yf;if(pe.Image){const i=new Image;i.onload=Xc(eh,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Xc(eh,n,i,"TestLoadImage: error",!1,e),i.onabort=Xc(eh,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Xc(eh,n,i,"TestLoadImage: timeout",!1,e),pe.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function eh(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Zu(t){this.l=t.fc||null,this.j=t.ob||!1}Pt(Zu,f_);Zu.prototype.g=function(){return new Ef(this.l,this.j)};Zu.prototype.i=function(t){return function(){return t}}({});function Ef(t,e){It.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=v_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Pt(Ef,It);var v_=0;K=Ef.prototype;K.open=function(t,e){if(this.readyState!=v_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Tu(this)};K.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||pe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};K.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ku(this)),this.readyState=v_};K.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Tu(this)),this.g&&(this.readyState=3,Tu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof pe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ik(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Ik(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}K.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ku(this):Tu(this),this.readyState==3&&Ik(this)}};K.Za=function(t){this.g&&(this.response=this.responseText=t,Ku(this))};K.Ya=function(t){this.g&&(this.response=t,Ku(this))};K.ka=function(){this.g&&Ku(this)};function Ku(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Tu(t)}K.setRequestHeader=function(t,e){this.v.append(t,e)};K.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};K.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Tu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ef.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var h4=pe.JSON.parse;function ut(t){It.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Pk,this.L=this.M=!1}Pt(ut,It);var Pk="",d4=/^https?$/i,f4=["POST","PUT"];K=ut.prototype;K.Oa=function(t){this.M=t};K.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():mv.g(),this.C=this.u?Ox(this.u):Ox(mv),this.g.onreadystatechange=Wt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){Dx(this,s);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const s of i.keys())n.set(s,i.get(s));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),r=pe.FormData&&t instanceof pe.FormData,!(0<=GC(f4,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Mk(this),0<this.B&&((this.L=p4(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wt(this.ua,this)):this.A=d_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Dx(this,s)}};function p4(t){return va&&typeof t.timeout=="number"&&t.ontimeout!==void 0}K.ua=function(){typeof t_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dt(this,"timeout"),this.abort(8))};function Dx(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Lk(t),Cf(t)}function Lk(t){t.F||(t.F=!0,Dt(t,"complete"),Dt(t,"error"))}K.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Dt(this,"complete"),Dt(this,"abort"),Cf(this))};K.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Cf(this,!0)),ut.$.N.call(this)};K.La=function(){this.s||(this.G||this.v||this.l?Nk(this):this.kb())};K.kb=function(){Nk(this)};function Nk(t){if(t.h&&typeof t_<"u"&&(!t.C[1]||Ti(t)!=4||t.da()!=2)){if(t.v&&Ti(t)==4)d_(t.La,0,t);else if(Dt(t,"readystatechange"),Ti(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=a===0){var r=String(t.I).match(_k)[1]||null;!r&&pe.self&&pe.self.location&&(r=pe.self.location.protocol.slice(0,-1)),i=!d4.test(r?r.toLowerCase():"")}n=i}if(n)Dt(t,"complete"),Dt(t,"success");else{t.m=6;try{var s=2<Ti(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Lk(t)}}finally{Cf(t)}}}}function Cf(t,e){if(t.g){Mk(t);const n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Dt(t,"ready");try{n.onreadystatechange=i}catch{}}}function Mk(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(pe.clearTimeout(t.A),t.A=null)}K.isActive=function(){return!!this.g};function Ti(t){return t.g?t.g.readyState:0}K.da=function(){try{return 2<Ti(this)?this.g.status:-1}catch{return-1}};K.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};K.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),h4(e)}};function $x(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Pk:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function m4(t){const e={};t=(t.g&&2<=Ti(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(gu(t[i]))continue;var n=UD(t[i]);const r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[r]||[];e[r]=s,s.push(n)}OD(e,function(i){return i.join(", ")})}K.Ia=function(){return this.m};K.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Ok(t){let e="";return r_(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function y_(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=Ok(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):We(t,e,n))}function dl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ak(t){this.Ga=0,this.j=[],this.l=new yf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=dl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=dl("baseRetryDelayMs",5e3,t),this.hb=dl("retryDelaySeedMs",1e4,t),this.eb=dl("forwardChannelMaxRetries",2,t),this.xa=dl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Tk(t&&t.concurrentRequestLimit),this.Ja=new l4,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}K=Ak.prototype;K.ra=8;K.H=1;function __(t){if(Rk(t),t.H==3){var e=t.W++,n=fr(t.I);if(We(n,"SID",t.K),We(n,"RID",e),We(n,"TYPE","terminate"),Qu(t,n),e=new qu(t,t.l,e),e.L=2,e.v=Tf(fr(n)),n=!1,pe.navigator&&pe.navigator.sendBeacon)try{n=pe.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&pe.Image&&(new Image().src=e.v,n=!0),n||(e.g=Vk(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Yu(e)}jk(t)}function kf(t){t.g&&(x_(t),t.g.cancel(),t.g=null)}function Rk(t){kf(t),t.u&&(pe.clearTimeout(t.u),t.u=null),xd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&pe.clearTimeout(t.m),t.m=null)}function bf(t){if(!Ek(t.i)&&!t.m){t.m=!0;var e=t.Na;yu||rk(),_u||(yu(),_u=!0),c_.add(e,t),t.C=0}}function g4(t,e){return Ck(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Wu(Wt(t.Na,t,e),Uk(t,t.C)),t.C++,!0)}K.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const r=new qu(this,this.l,t);let s=this.s;if(this.U&&(s?(s=KC(s),QC(s,this.U)):s=this.U),this.o!==null||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Dk(this,r,e),n=fr(this.I),We(n,"RID",t),We(n,"CVER",22),this.F&&We(n,"X-HTTP-Session-Id",this.F),Qu(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Ok(s)))+"&"+e:this.o&&y_(n,this.o,s)),g_(this.i,r),this.bb&&We(n,"TYPE","init"),this.P?(We(n,"$req",e),We(n,"SID","null"),r.aa=!0,vv(r,n,null)):vv(r,n,e),this.H=2}}else this.H==3&&(t?zx(this,t):this.j.length==0||Ek(this.i)||zx(this))};function zx(t,e){var n;e?n=e.m:n=t.W++;const i=fr(t.I);We(i,"SID",t.K),We(i,"RID",n),We(i,"AID",t.V),Qu(t,i),t.o&&t.s&&y_(i,t.o,t.s),n=new qu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Dk(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),g_(t.i,n),vv(n,i,e)}function Qu(t,e){t.na&&r_(t.na,function(n,i){We(e,i,n)}),t.h&&yk({},function(n,i){We(e,i,n)})}function Dk(t,e,n){n=Math.min(t.j.length,n);var i=t.h?Wt(t.h.Va,t.h,t):null;e:{var r=t.j;let s=-1;for(;;){const a=["count="+n];s==-1?0<n?(s=r[0].g,a.push("ofs="+s)):s=0:a.push("ofs="+s);let u=!0;for(let c=0;c<n;c++){let d=r[c].g;const p=r[c].map;if(d-=s,0>d)s=Math.max(0,r[c].g-100),u=!1;else try{u4(p,a,"req"+d+"_")}catch{i&&i(p)}}if(u){i=a.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function $k(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;yu||rk(),_u||(yu(),_u=!0),c_.add(e,t),t.A=0}}function w_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Wu(Wt(t.Ma,t),Uk(t,t.A)),t.A++,!0)}K.Ma=function(){if(this.u=null,zk(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Wu(Wt(this.jb,this),t)}};K.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,rn(10),kf(this),zk(this))};function x_(t){t.B!=null&&(pe.clearTimeout(t.B),t.B=null)}function zk(t){t.g=new qu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=fr(t.wa);We(e,"RID","rpc"),We(e,"SID",t.K),We(e,"AID",t.V),We(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&We(e,"TO",t.qa),We(e,"TYPE","xmlhttp"),Qu(t,e),t.o&&t.s&&y_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Tf(fr(e)),n.s=null,n.S=!0,pk(n,t)}K.ib=function(){this.v!=null&&(this.v=null,kf(this),w_(this),rn(19))};function xd(t){t.v!=null&&(pe.clearTimeout(t.v),t.v=null)}function Fk(t,e){var n=null;if(t.g==e){xd(t),x_(t),t.g=null;var i=2}else if(_v(t.i,e))n=e.F,kk(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var r=t.C;i=_f(),Dt(i,new ck(i,n)),bf(t)}else $k(t);else if(r=e.o,r==3||r==0&&0<e.ca||!(i==1&&g4(t,e)||i==2&&w_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:As(t,5);break;case 4:As(t,10);break;case 3:As(t,6);break;default:As(t,2)}}}function Uk(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function As(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=Wt(t.pb,t);n||(n=new Us("//www.google.com/images/cleardot.gif"),pe.location&&pe.location.protocol=="http"||_d(n,"https"),Tf(n)),c4(n.toString(),i)}else rn(2);t.H=0,t.h&&t.h.za(e),jk(t),Rk(t)}K.pb=function(t){t?(this.l.info("Successfully pinged google.com"),rn(2)):(this.l.info("Failed to ping google.com"),rn(1))};function jk(t){if(t.H=0,t.ma=[],t.h){const e=bk(t.i);(e.length!=0||t.j.length!=0)&&(Ix(t.ma,e),Ix(t.ma,t.j),t.i.i.length=0,n_(t.j),t.j.length=0),t.h.ya()}}function Bk(t,e,n){var i=n instanceof Us?fr(n):new Us(n);if(i.g!="")e&&(i.g=e+"."+i.g),wd(i,i.m);else{var r=pe.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new Us(null);i&&_d(s,i),e&&(s.g=e),r&&wd(s,r),n&&(s.l=n),i=s}return n=t.F,e=t.Da,n&&e&&We(i,n,e),We(i,"VER",t.ra),Qu(t,i),i}function Vk(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new ut(new Zu({ob:!0})):new ut(t.va),e.Oa(t.J),e}K.isActive=function(){return!!this.h&&this.h.isActive(this)};function Hk(){}K=Hk.prototype;K.Ba=function(){};K.Aa=function(){};K.za=function(){};K.ya=function(){};K.isActive=function(){return!0};K.Va=function(){};function Sd(){if(va&&!(10<=Number(PD)))throw Error("Environmental error: no available transport.")}Sd.prototype.g=function(t,e){return new Pn(t,e)};function Pn(t,e){It.call(this),this.g=new Ak(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!gu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!gu(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ra(this)}Pt(Pn,It);Pn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;rn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Bk(t,null,t.Y),bf(t)};Pn.prototype.close=function(){__(this.g)};Pn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=u_(t),t=n);e.j.push(new s4(e.fb++,t)),e.H==3&&bf(e)};Pn.prototype.N=function(){this.g.h=null,delete this.j,__(this.g),delete this.g,Pn.$.N.call(this)};function Wk(t){p_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Pt(Wk,p_);function Gk(){m_.call(this),this.status=1}Pt(Gk,m_);function Ra(t){this.g=t}Pt(Ra,Hk);Ra.prototype.Ba=function(){Dt(this.g,"a")};Ra.prototype.Aa=function(t){Dt(this.g,new Wk(t))};Ra.prototype.za=function(t){Dt(this.g,new Gk)};Ra.prototype.ya=function(){Dt(this.g,"b")};function v4(){this.blockSize=-1}function li(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Pt(li,v4);li.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Am(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var s=t.g[3],a=e+(s^n&(r^s))+i[0]+3614090360&4294967295;e=n+(a<<7&4294967295|a>>>25),a=s+(r^e&(n^r))+i[1]+3905402710&4294967295,s=e+(a<<12&4294967295|a>>>20),a=r+(n^s&(e^n))+i[2]+606105819&4294967295,r=s+(a<<17&4294967295|a>>>15),a=n+(e^r&(s^e))+i[3]+3250441966&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(s^n&(r^s))+i[4]+4118548399&4294967295,e=n+(a<<7&4294967295|a>>>25),a=s+(r^e&(n^r))+i[5]+1200080426&4294967295,s=e+(a<<12&4294967295|a>>>20),a=r+(n^s&(e^n))+i[6]+2821735955&4294967295,r=s+(a<<17&4294967295|a>>>15),a=n+(e^r&(s^e))+i[7]+4249261313&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(s^n&(r^s))+i[8]+1770035416&4294967295,e=n+(a<<7&4294967295|a>>>25),a=s+(r^e&(n^r))+i[9]+2336552879&4294967295,s=e+(a<<12&4294967295|a>>>20),a=r+(n^s&(e^n))+i[10]+4294925233&4294967295,r=s+(a<<17&4294967295|a>>>15),a=n+(e^r&(s^e))+i[11]+2304563134&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(s^n&(r^s))+i[12]+1804603682&4294967295,e=n+(a<<7&4294967295|a>>>25),a=s+(r^e&(n^r))+i[13]+4254626195&4294967295,s=e+(a<<12&4294967295|a>>>20),a=r+(n^s&(e^n))+i[14]+2792965006&4294967295,r=s+(a<<17&4294967295|a>>>15),a=n+(e^r&(s^e))+i[15]+1236535329&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(r^s&(n^r))+i[1]+4129170786&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^r&(e^n))+i[6]+3225465664&4294967295,s=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(s^e))+i[11]+643717713&4294967295,r=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(r^s))+i[0]+3921069994&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(r^s&(n^r))+i[5]+3593408605&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^r&(e^n))+i[10]+38016083&4294967295,s=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(s^e))+i[15]+3634488961&4294967295,r=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(r^s))+i[4]+3889429448&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(r^s&(n^r))+i[9]+568446438&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^r&(e^n))+i[14]+3275163606&4294967295,s=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(s^e))+i[3]+4107603335&4294967295,r=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(r^s))+i[8]+1163531501&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(r^s&(n^r))+i[13]+2850285829&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^r&(e^n))+i[2]+4243563512&4294967295,s=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(s^e))+i[7]+1735328473&4294967295,r=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(r^s))+i[12]+2368359562&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(n^r^s)+i[5]+4294588738&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^r)+i[8]+2272392833&4294967295,s=e+(a<<11&4294967295|a>>>21),a=r+(s^e^n)+i[11]+1839030562&4294967295,r=s+(a<<16&4294967295|a>>>16),a=n+(r^s^e)+i[14]+4259657740&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(n^r^s)+i[1]+2763975236&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^r)+i[4]+1272893353&4294967295,s=e+(a<<11&4294967295|a>>>21),a=r+(s^e^n)+i[7]+4139469664&4294967295,r=s+(a<<16&4294967295|a>>>16),a=n+(r^s^e)+i[10]+3200236656&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(n^r^s)+i[13]+681279174&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^r)+i[0]+3936430074&4294967295,s=e+(a<<11&4294967295|a>>>21),a=r+(s^e^n)+i[3]+3572445317&4294967295,r=s+(a<<16&4294967295|a>>>16),a=n+(r^s^e)+i[6]+76029189&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(n^r^s)+i[9]+3654602809&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^r)+i[12]+3873151461&4294967295,s=e+(a<<11&4294967295|a>>>21),a=r+(s^e^n)+i[15]+530742520&4294967295,r=s+(a<<16&4294967295|a>>>16),a=n+(r^s^e)+i[2]+3299628645&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(r^(n|~s))+i[0]+4096336452&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~r))+i[7]+1126891415&4294967295,s=e+(a<<10&4294967295|a>>>22),a=r+(e^(s|~n))+i[14]+2878612391&4294967295,r=s+(a<<15&4294967295|a>>>17),a=n+(s^(r|~e))+i[5]+4237533241&4294967295,n=r+(a<<21&4294967295|a>>>11),a=e+(r^(n|~s))+i[12]+1700485571&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~r))+i[3]+2399980690&4294967295,s=e+(a<<10&4294967295|a>>>22),a=r+(e^(s|~n))+i[10]+4293915773&4294967295,r=s+(a<<15&4294967295|a>>>17),a=n+(s^(r|~e))+i[1]+2240044497&4294967295,n=r+(a<<21&4294967295|a>>>11),a=e+(r^(n|~s))+i[8]+1873313359&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~r))+i[15]+4264355552&4294967295,s=e+(a<<10&4294967295|a>>>22),a=r+(e^(s|~n))+i[6]+2734768916&4294967295,r=s+(a<<15&4294967295|a>>>17),a=n+(s^(r|~e))+i[13]+1309151649&4294967295,n=r+(a<<21&4294967295|a>>>11),a=e+(r^(n|~s))+i[4]+4149444226&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~r))+i[11]+3174756917&4294967295,s=e+(a<<10&4294967295|a>>>22),a=r+(e^(s|~n))+i[2]+718787259&4294967295,r=s+(a<<15&4294967295|a>>>17),a=n+(s^(r|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+s&4294967295}li.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(r==0)for(;s<=n;)Am(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(i[r++]=t.charCodeAt(s++),r==this.blockSize){Am(this,i),r=0;break}}else for(;s<e;)if(i[r++]=t[s++],r==this.blockSize){Am(this,i),r=0;break}}this.h=r,this.i+=e};li.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function Ue(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var s=t[r]|0;i&&s==e||(n[r]=s,i=!1)}this.g=n}var y4={};function S_(t){return-128<=t&&128>t?kD(t,function(e){return new Ue([e|0],0>e?-1:0)}):new Ue([t|0],0>t?-1:0)}function Ei(t){if(isNaN(t)||!isFinite(t))return ea;if(0>t)return At(Ei(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=wv;return new Ue(e,0)}function qk(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return At(qk(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ei(Math.pow(e,8)),i=ea,r=0;r<t.length;r+=8){var s=Math.min(8,t.length-r),a=parseInt(t.substring(r,r+s),e);8>s?(s=Ei(Math.pow(e,s)),i=i.R(s).add(Ei(a))):(i=i.R(n),i=i.add(Ei(a)))}return i}var wv=4294967296,ea=S_(0),xv=S_(1),Fx=S_(16777216);K=Ue.prototype;K.ea=function(){if(Bn(this))return-At(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:wv+i)*e,e*=wv}return t};K.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(er(this))return"0";if(Bn(this))return"-"+At(this).toString(t);for(var e=Ei(Math.pow(t,6)),n=this,i="";;){var r=Ed(n,e).g;n=Td(n,r.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,er(n))return s+i;for(;6>s.length;)s="0"+s;i=s+i}};K.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function er(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Bn(t){return t.h==-1}K.X=function(t){return t=Td(this,t),Bn(t)?-1:er(t)?0:1};function At(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new Ue(n,~t.h).add(xv)}K.abs=function(){return Bn(this)?At(this):this};K.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var s=i+(this.D(r)&65535)+(t.D(r)&65535),a=(s>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=a>>>16,s&=65535,a&=65535,n[r]=a<<16|s}return new Ue(n,n[n.length-1]&-2147483648?-1:0)};function Td(t,e){return t.add(At(e))}K.R=function(t){if(er(this)||er(t))return ea;if(Bn(this))return Bn(t)?At(this).R(At(t)):At(At(this).R(t));if(Bn(t))return At(this.R(At(t)));if(0>this.X(Fx)&&0>t.X(Fx))return Ei(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var s=this.D(i)>>>16,a=this.D(i)&65535,u=t.D(r)>>>16,c=t.D(r)&65535;n[2*i+2*r]+=a*c,th(n,2*i+2*r),n[2*i+2*r+1]+=s*c,th(n,2*i+2*r+1),n[2*i+2*r+1]+=a*u,th(n,2*i+2*r+1),n[2*i+2*r+2]+=s*u,th(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new Ue(n,0)};function th(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function fl(t,e){this.g=t,this.h=e}function Ed(t,e){if(er(e))throw Error("division by zero");if(er(t))return new fl(ea,ea);if(Bn(t))return e=Ed(At(t),e),new fl(At(e.g),At(e.h));if(Bn(e))return e=Ed(t,At(e)),new fl(At(e.g),e.h);if(30<t.g.length){if(Bn(t)||Bn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=xv,i=e;0>=i.X(t);)n=Ux(n),i=Ux(i);var r=bo(n,1),s=bo(i,1);for(i=bo(i,2),n=bo(n,2);!er(i);){var a=s.add(i);0>=a.X(t)&&(r=r.add(n),s=a),i=bo(i,1),n=bo(n,1)}return e=Td(t,r.R(e)),new fl(r,e)}for(r=ea;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),s=Ei(n),a=s.R(e);Bn(a)||0<a.X(t);)n-=i,s=Ei(n),a=s.R(e);er(s)&&(s=xv),r=r.add(s),t=Td(t,a)}return new fl(r,t)}K.gb=function(t){return Ed(this,t).h};K.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new Ue(n,this.h&t.h)};K.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new Ue(n,this.h|t.h)};K.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new Ue(n,this.h^t.h)};function Ux(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new Ue(n,t.h)}function bo(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],s=0;s<i;s++)r[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ue(r,t.h)}Sd.prototype.createWebChannel=Sd.prototype.g;Pn.prototype.send=Pn.prototype.u;Pn.prototype.open=Pn.prototype.m;Pn.prototype.close=Pn.prototype.close;wf.NO_ERROR=0;wf.TIMEOUT=8;wf.HTTP_ERROR=6;hk.COMPLETE="complete";dk.EventType=Gu;Gu.OPEN="a";Gu.CLOSE="b";Gu.ERROR="c";Gu.MESSAGE="d";It.prototype.listen=It.prototype.O;ut.prototype.listenOnce=ut.prototype.P;ut.prototype.getLastError=ut.prototype.Sa;ut.prototype.getLastErrorCode=ut.prototype.Ia;ut.prototype.getStatus=ut.prototype.da;ut.prototype.getResponseJson=ut.prototype.Wa;ut.prototype.getResponseText=ut.prototype.ja;ut.prototype.send=ut.prototype.ha;ut.prototype.setWithCredentials=ut.prototype.Oa;li.prototype.digest=li.prototype.l;li.prototype.reset=li.prototype.reset;li.prototype.update=li.prototype.j;Ue.prototype.add=Ue.prototype.add;Ue.prototype.multiply=Ue.prototype.R;Ue.prototype.modulo=Ue.prototype.gb;Ue.prototype.compare=Ue.prototype.X;Ue.prototype.toNumber=Ue.prototype.ea;Ue.prototype.toString=Ue.prototype.toString;Ue.prototype.getBits=Ue.prototype.D;Ue.fromNumber=Ei;Ue.fromString=qk;var _4=function(){return new Sd},w4=function(){return _f()},Rm=wf,x4=hk,S4=co,jx={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},T4=Zu,nh=dk,E4=ut,C4=li,ta=Ue;const Bx="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Da="9.22.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=new Xy("@firebase/firestore");function Vx(){return Xs.logLevel}function re(t,...e){if(Xs.logLevel<=Re.DEBUG){const n=e.map(T_);Xs.debug(`Firestore (${Da}): ${t}`,...n)}}function pr(t,...e){if(Xs.logLevel<=Re.ERROR){const n=e.map(T_);Xs.error(`Firestore (${Da}): ${t}`,...n)}}function ya(t,...e){if(Xs.logLevel<=Re.WARN){const n=e.map(T_);Xs.warn(`Firestore (${Da}): ${t}`,...n)}}function T_(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t="Unexpected state"){const e=`FIRESTORE (${Da}) INTERNAL ASSERTION FAILED: `+t;throw pr(e),new Error(e)}function Ye(t,e){t||fe()}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}let k4=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(jt.UNAUTHENTICATED))}shutdown(){}};class b4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}let I4=class{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const r=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let s=new or;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new or,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},u=c=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new or)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ye(typeof i.accessToken=="string"),new Yk(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new jt(e)}};class P4{constructor(e,n,i){this.h=e,this.l=n,this.m=i,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}let L4=class{constructor(e,n,i){this.h=e,this.l=n,this.m=i}getToken(){return Promise.resolve(new P4(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}};class N4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class M4{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const i=s=>{s.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.T;return this.T=s.token,re("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string"),this.T=n.token,new N4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=O4(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}}function ze(t,e){return t<e?-1:t>e?1:0}function _a(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new J(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new Tt(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new me(e)}static min(){return new me(new Tt(0,0))}static max(){return new me(new Tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n,i){n===void 0?n=0:n>e.length&&fe(),i===void 0?i=e.length-n:i>e.length-n&&fe(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Eu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Eu?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=e.get(r),a=n.get(r);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ge extends Eu{construct(e,n,i){return new Ge(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new J(U.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Ge(n)}static emptyPath(){return new Ge([])}}const A4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends Eu{construct(e,n,i){return new Ht(e,n,i)}static isValidIdentifier(e){return A4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ht(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new J(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<e.length;){const u=e[r];if(u==="\\"){if(r+1===e.length)throw new J(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new J(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else u==="`"?(a=!a,r++):u!=="."||a?(i+=u,r++):(s(),r++)}if(s(),a)throw new J(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.path=e}static fromPath(e){return new ce(Ge.fromString(e))}static fromName(e){return new ce(Ge.fromString(e).popFirst(5))}static empty(){return new ce(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new Ge(e.slice()))}}function R4(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=me.fromTimestamp(i===1e9?new Tt(n+1,0):new Tt(n,i));return new ls(r,ce.empty(),e)}function D4(t){return new ls(t.readTime,t.key,-1)}class ls{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new ls(me.min(),ce.empty(),-1)}static max(){return new ls(me.max(),ce.empty(),-1)}}function $4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ce.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class F4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xu(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==z4)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new G((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof G?n:G.resolve(n)}catch(n){return G.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):G.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):G.reject(n)}static resolve(e){return new G((n,i)=>{n(e)})}static reject(e){return new G((n,i)=>{i(e)})}static waitFor(e){return new G((n,i)=>{let r=0,s=0,a=!1;e.forEach(u=>{++r,u.next(()=>{++s,a&&s===r&&n()},c=>i(c))}),a=!0,s===r&&n()})}static or(e){let n=G.resolve(!1);for(const i of e)n=n.next(r=>r?G.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new G((i,r)=>{const s=e.length,a=new Array(s);let u=0;for(let c=0;c<s;c++){const d=c;n(e[d]).next(p=>{a[d]=p,++u,u===s&&i(a)},p=>r(p))}})}static doWhile(e,n){return new G((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function Ju(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>n.writeSequenceNumber(i))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}E_.ct=-1;function If(t){return t==null}function Cd(t){return t===0&&1/t==-1/0}function U4(t){return typeof t=="number"&&Number.isInteger(t)&&!Cd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ho(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Kk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||Ot.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ih(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ih(this.root,e,this.comparator,!1)}getReverseIterator(){return new ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ih(this.root,e,this.comparator,!0)}}class ih{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??Ot.RED,this.left=r??Ot.EMPTY,this.right=s??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new Ot(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Ot.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const e=this.left.check();if(e!==this.right.check())throw fe();return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(t,e,n,i,r){return this}insert(t,e,n){return new Ot(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Wx(this.data.getIterator())}getIteratorFrom(e){return new Wx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new qt(this.comparator);return n.data=e,n}}class Wx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new qt(Ht.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _a(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new Qk("Invalid base64 string: "+r):r}}(e);return new Qt(n)}static fromUint8Array(e){const n=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const j4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function us(t){if(Ye(!!t),typeof t=="string"){let e=0;const n=j4.exec(t);if(Ye(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:vt(t.seconds),nanos:vt(t.nanos)}}function vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Js(t){return typeof t=="string"?Qt.fromBase64String(t):Qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function k_(t){const e=t.mapValue.fields.__previous_value__;return C_(e)?k_(e):e}function Cu(t){const e=us(t.mapValue.fields.__local_write_time__.timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e,n,i,r,s,a,u,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=d}}class ku{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ku("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ku&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function eo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?C_(t)?4:V4(t)?9007199254740991:10:fe()}function Ai(t,e){if(t===e)return!0;const n=eo(t);if(n!==eo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cu(t).isEqual(Cu(e));case 3:return function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=us(i.timestampValue),a=us(r.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,r){return Js(i.bytesValue).isEqual(Js(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,r){return vt(i.geoPointValue.latitude)===vt(r.geoPointValue.latitude)&&vt(i.geoPointValue.longitude)===vt(r.geoPointValue.longitude)}(t,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return vt(i.integerValue)===vt(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=vt(i.doubleValue),a=vt(r.doubleValue);return s===a?Cd(s)===Cd(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return _a(t.arrayValue.values||[],e.arrayValue.values||[],Ai);case 10:return function(i,r){const s=i.mapValue.fields||{},a=r.mapValue.fields||{};if(Hx(s)!==Hx(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Ai(s[u],a[u])))return!1;return!0}(t,e);default:return fe()}}function bu(t,e){return(t.values||[]).find(n=>Ai(n,e))!==void 0}function wa(t,e){if(t===e)return 0;const n=eo(t),i=eo(e);if(n!==i)return ze(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return function(r,s){const a=vt(r.integerValue||r.doubleValue),u=vt(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return Gx(t.timestampValue,e.timestampValue);case 4:return Gx(Cu(t),Cu(e));case 5:return ze(t.stringValue,e.stringValue);case 6:return function(r,s){const a=Js(r),u=Js(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(r,s){const a=r.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=ze(a[c],u[c]);if(d!==0)return d}return ze(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,s){const a=ze(vt(r.latitude),vt(s.latitude));return a!==0?a:ze(vt(r.longitude),vt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,s){const a=r.values||[],u=s.values||[];for(let c=0;c<a.length&&c<u.length;++c){const d=wa(a[c],u[c]);if(d)return d}return ze(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===rh.mapValue&&s===rh.mapValue)return 0;if(r===rh.mapValue)return 1;if(s===rh.mapValue)return-1;const a=r.fields||{},u=Object.keys(a),c=s.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const g=ze(u[p],d[p]);if(g!==0)return g;const y=wa(a[u[p]],c[d[p]]);if(y!==0)return y}return ze(u.length,d.length)}(t.mapValue,e.mapValue);default:throw fe()}}function Gx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=us(t),i=us(e),r=ze(n.seconds,i.seconds);return r!==0?r:ze(n.nanos,i.nanos)}function xa(t){return Sv(t)}function Sv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(i){const r=us(i);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Js(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ce.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(i){let r="[",s=!0;for(const a of i.values||[])s?s=!1:r+=",",r+=Sv(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${Sv(i.fields[u])}`;return s+"}"}(t.mapValue):fe();var e,n}function qx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Tv(t){return!!t&&"integerValue"in t}function b_(t){return!!t&&"arrayValue"in t}function Yx(t){return!!t&&"nullValue"in t}function Zx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ph(t){return!!t&&"mapValue"in t}function Ul(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ho(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Ul(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ul(t.arrayValue.values[n]);return e}return Object.assign({},t)}function V4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Ph(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ul(n)}setAll(e){let n=Ht.emptyPath(),i={},r=[];e.forEach((a,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,i,r),i={},r=[],n=u.popLast()}a?i[u.lastSegment()]=Ul(a):r.push(u.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());Ph(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ai(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Ph(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){ho(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new pn(Ul(this.value))}}function Xk(t){const e=[];return ho(t.fields,(n,i)=>{const r=new Ht([n]);if(Ph(i)){const s=Xk(i.mapValue).fields;if(s.length===0)e.push(r);else for(const a of s)e.push(r.child(a))}else e.push(r)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n,i,r,s,a,u){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=u}static newInvalidDocument(e){return new Vt(e,0,me.min(),me.min(),me.min(),pn.empty(),0)}static newFoundDocument(e,n,i,r){return new Vt(e,1,n,me.min(),i,r,0)}static newNoDocument(e,n){return new Vt(e,2,n,me.min(),me.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new Vt(e,3,n,me.min(),me.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n){this.position=e,this.inclusive=n}}function Kx(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],a=t.position[r];if(s.field.isKeyField()?i=ce.comparator(ce.fromName(a.referenceValue),n.key):i=wa(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function Qx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ai(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n="asc"){this.field=e,this.dir=n}}function H4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{}class _t extends Jk{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new G4(e,n,i):n==="array-contains"?new Z4(e,i):n==="in"?new K4(e,i):n==="not-in"?new Q4(e,i):n==="array-contains-any"?new X4(e,i):new _t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new q4(e,i):new Y4(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(wa(n,this.value)):n!==null&&eo(this.value)===eo(n)&&this.matchesComparison(wa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ui extends Jk{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new ui(e,n)}matches(e){return e2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function e2(t){return t.op==="and"}function t2(t){return W4(t)&&e2(t)}function W4(t){for(const e of t.filters)if(e instanceof ui)return!1;return!0}function Ev(t){if(t instanceof _t)return t.field.canonicalString()+t.op.toString()+xa(t.value);if(t2(t))return t.filters.map(e=>Ev(e)).join(",");{const e=t.filters.map(n=>Ev(n)).join(",");return`${t.op}(${e})`}}function n2(t,e){return t instanceof _t?function(n,i){return i instanceof _t&&n.op===i.op&&n.field.isEqual(i.field)&&Ai(n.value,i.value)}(t,e):t instanceof ui?function(n,i){return i instanceof ui&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((r,s,a)=>r&&n2(s,i.filters[a]),!0):!1}(t,e):void fe()}function i2(t){return t instanceof _t?function(e){return`${e.field.canonicalString()} ${e.op} ${xa(e.value)}`}(t):t instanceof ui?function(e){return e.op.toString()+" {"+e.getFilters().map(i2).join(" ,")+"}"}(t):"Filter"}class G4 extends _t{constructor(e,n,i){super(e,n,i),this.key=ce.fromName(i.referenceValue)}matches(e){const n=ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class q4 extends _t{constructor(e,n){super(e,"in",n),this.keys=r2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Y4 extends _t{constructor(e,n){super(e,"not-in",n),this.keys=r2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function r2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>ce.fromName(i.referenceValue))}class Z4 extends _t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return b_(n)&&bu(n.arrayValue,this.value)}}class K4 extends _t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&bu(this.value.arrayValue,n)}}class Q4 extends _t{constructor(e,n){super(e,"not-in",n)}matches(e){if(bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!bu(this.value.arrayValue,n)}}class X4 extends _t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!b_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>bu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,n=null,i=[],r=[],s=null,a=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=u,this.dt=null}}function Xx(t,e=null,n=[],i=[],r=null,s=null,a=null){return new J4(t,e,n,i,r,s,a)}function I_(t){const e=ye(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Ev(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),If(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>xa(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>xa(i)).join(",")),e.dt=n}return e.dt}function P_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!H4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!n2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Qx(t.startAt,e.startAt)&&Qx(t.endAt,e.endAt)}function Cv(t){return ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n=null,i=[],r=[],s=null,a="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=u,this.endAt=c,this.wt=null,this._t=null,this.startAt,this.endAt}}function e3(t,e,n,i,r,s,a,u){return new $a(t,e,n,i,r,s,a,u)}function L_(t){return new $a(t)}function Jx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function N_(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Pf(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function s2(t){return t.collectionGroup!==null}function ia(t){const e=ye(t);if(e.wt===null){e.wt=[];const n=Pf(e),i=N_(e);if(n!==null&&i===null)n.isKeyField()||e.wt.push(new na(n)),e.wt.push(new na(Ht.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new na(Ht.keyField(),s))}}}return e.wt}function mr(t){const e=ye(t);if(!e._t)if(e.limitType==="F")e._t=Xx(e.path,e.collectionGroup,ia(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of ia(e)){const a=s.dir==="desc"?"asc":"desc";n.push(new na(s.field,a))}const i=e.endAt?new kd(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new kd(e.startAt.position,e.startAt.inclusive):null;e._t=Xx(e.path,e.collectionGroup,n,e.filters,e.limit,i,r)}return e._t}function kv(t,e){e.getFirstInequalityField(),Pf(t);const n=t.filters.concat([e]);return new $a(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function bd(t,e,n){return new $a(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Lf(t,e){return P_(mr(t),mr(e))&&t.limitType===e.limitType}function o2(t){return`${I_(mr(t))}|lt:${t.limitType}`}function bv(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(i=>i2(i)).join(", ")}]`),If(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(i=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(i)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>xa(i)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>xa(i)).join(",")),`Target(${n})`}(mr(t))}; limitType=${t.limitType})`}function Nf(t,e){return e.isFoundDocument()&&function(n,i){const r=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):ce.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(t,e)&&function(n,i){for(const r of ia(n))if(!r.field.isKeyField()&&i.data.field(r.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const r of n.filters)if(!r.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(r,s,a){const u=Kx(r,s,a);return r.inclusive?u<=0:u<0}(n.startAt,ia(n),i)||n.endAt&&!function(r,s,a){const u=Kx(r,s,a);return r.inclusive?u>=0:u>0}(n.endAt,ia(n),i))}(t,e)}function t3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function a2(t){return(e,n)=>{let i=!1;for(const r of ia(t)){const s=n3(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function n3(t,e,n){const i=t.field.isKeyField()?ce.comparator(e.key,n.key):function(r,s,a){const u=s.data.field(r),c=a.data.field(r);return u!==null&&c!==null?wa(u,c):fe()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ho(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return Kk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=new st(ce.comparator);function gr(){return i3}const l2=new st(ce.comparator);function kl(...t){let e=l2;for(const n of t)e=e.insert(n.key,n);return e}function u2(t){let e=l2;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Rs(){return jl()}function c2(){return jl()}function jl(){return new za(t=>t.toString(),(t,e)=>t.isEqual(e))}const r3=new st(ce.comparator),s3=new qt(ce.comparator);function be(...t){let e=s3;for(const n of t)e=e.add(n);return e}const o3=new qt(ze);function a3(){return o3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cd(e)?"-0":e}}function d2(t){return{integerValue:""+t}}function l3(t,e){return U4(e)?d2(e):h2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(){this._=void 0}}function u3(t,e,n){return t instanceof Iu?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&C_(r)&&(r=k_(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(n,e):t instanceof Pu?p2(t,e):t instanceof Lu?m2(t,e):function(i,r){const s=f2(i,r),a=eS(s)+eS(i.gt);return Tv(s)&&Tv(i.gt)?d2(a):h2(i.serializer,a)}(t,e)}function c3(t,e,n){return t instanceof Pu?p2(t,e):t instanceof Lu?m2(t,e):n}function f2(t,e){return t instanceof Id?Tv(n=e)||function(i){return!!i&&"doubleValue"in i}(n)?e:{integerValue:0}:null;var n}class Iu extends Mf{}class Pu extends Mf{constructor(e){super(),this.elements=e}}function p2(t,e){const n=g2(e);for(const i of t.elements)n.some(r=>Ai(r,i))||n.push(i);return{arrayValue:{values:n}}}class Lu extends Mf{constructor(e){super(),this.elements=e}}function m2(t,e){let n=g2(e);for(const i of t.elements)n=n.filter(r=>!Ai(r,i));return{arrayValue:{values:n}}}class Id extends Mf{constructor(e,n){super(),this.serializer=e,this.gt=n}}function eS(t){return vt(t.integerValue||t.doubleValue)}function g2(t){return b_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,n){this.field=e,this.transform=n}}function d3(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Pu&&i instanceof Pu||n instanceof Lu&&i instanceof Lu?_a(n.elements,i.elements,Ai):n instanceof Id&&i instanceof Id?Ai(n.gt,i.gt):n instanceof Iu&&i instanceof Iu}(t.transform,e.transform)}class f3{constructor(e,n){this.version=e,this.transformResults=n}}class Wn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Of{}function v2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new M_(t.key,Wn.none()):new ec(t.key,t.data,Wn.none());{const n=t.data,i=pn.empty();let r=new qt(Ht.comparator);for(let s of e.fields)if(!r.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new gs(t.key,i,new Cn(r.toArray()),Wn.none())}}function p3(t,e,n){t instanceof ec?function(i,r,s){const a=i.value.clone(),u=nS(i.fieldTransforms,r,s.transformResults);a.setAll(u),r.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof gs?function(i,r,s){if(!Lh(i.precondition,r))return void r.convertToUnknownDocument(s.version);const a=nS(i.fieldTransforms,r,s.transformResults),u=r.data;u.setAll(y2(i)),u.setAll(a),r.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,r,s){r.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Bl(t,e,n,i){return t instanceof ec?function(r,s,a,u){if(!Lh(r.precondition,s))return a;const c=r.value.clone(),d=iS(r.fieldTransforms,u,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof gs?function(r,s,a,u){if(!Lh(r.precondition,s))return a;const c=iS(r.fieldTransforms,u,s),d=s.data;return d.setAll(y2(r)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(p=>p.field))}(t,e,n,i):function(r,s,a){return Lh(r.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function m3(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=f2(i.transform,r||null);s!=null&&(n===null&&(n=pn.empty()),n.set(i.field,s))}return n||null}function tS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&_a(n,i,(r,s)=>d3(r,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ec extends Of{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class gs extends Of{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function y2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function nS(t,e,n){const i=new Map;Ye(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],a=s.transform,u=e.data.field(s.field);i.set(s.field,c3(a,u,n[r]))}return i}function iS(t,e,n){const i=new Map;for(const r of t){const s=r.transform,a=n.data.field(r.field);i.set(r.field,u3(s,a,e))}return i}class M_ extends Of{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class g3 extends Of{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&p3(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Bl(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Bl(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=c2();return this.mutations.forEach(r=>{const s=e.get(r.key),a=s.overlayedDocument;let u=this.applyToLocalView(a,s.mutatedFields);u=n.has(r.key)?null:u;const c=v2(a,u);c!==null&&i.set(r.key,c),a.isValidDocument()||a.convertToNoDocument(me.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&_a(this.mutations,e.mutations,(n,i)=>tS(n,i))&&_a(this.baseMutations,e.baseMutations,(n,i)=>tS(n,i))}}class O_{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Ye(e.mutations.length===i.length);let r=r3;const s=e.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new O_(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,Ne;function w3(t){switch(t){default:return fe();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function _2(t){if(t===void 0)return pr("GRPC error has no .code"),U.UNKNOWN;switch(t){case gt.OK:return U.OK;case gt.CANCELLED:return U.CANCELLED;case gt.UNKNOWN:return U.UNKNOWN;case gt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case gt.INTERNAL:return U.INTERNAL;case gt.UNAVAILABLE:return U.UNAVAILABLE;case gt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case gt.NOT_FOUND:return U.NOT_FOUND;case gt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case gt.ABORTED:return U.ABORTED;case gt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case gt.DATA_LOSS:return U.DATA_LOSS;default:return fe()}}(Ne=gt||(gt={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return sh}static getOrCreateInstance(){return sh===null&&(sh=new A_),sh}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let sh=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3=new ta([4294967295,4294967295],0);function rS(t){const e=x3().encode(t),n=new C4;return n.update(e),new Uint8Array(n.digest())}function sS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ta([n,i],0),new ta([r,s],0)]}class R_{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new bl(`Invalid padding: ${n}`);if(i<0)throw new bl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new bl(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=ta.fromNumber(this.It)}Et(e,n,i){let r=e.add(n.multiply(ta.fromNumber(i)));return r.compare(S3)===1&&(r=new ta([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=rS(e),[i,r]=sS(n);for(let s=0;s<this.hashCount;s++){const a=this.Et(i,r,s);if(!this.At(a))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new R_(s,r,n);return i.forEach(u=>a.insert(u)),a}insert(e){if(this.It===0)return;const n=rS(e),[i,r]=sS(n);for(let s=0;s<this.hashCount;s++){const a=this.Et(i,r,s);this.Rt(a)}}Rt(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,tc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Af(me.min(),r,new st(ze),gr(),be())}}class tc{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new tc(i,n,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n,i,r){this.Pt=e,this.removedTargetIds=n,this.key=i,this.bt=r}}class w2{constructor(e,n){this.targetId=e,this.Vt=n}}class x2{constructor(e,n,i=Qt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class oS{constructor(){this.St=0,this.Dt=lS(),this.Ct=Qt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=be(),n=be(),i=be();return this.Dt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:fe()}}),new tc(this.Ct,this.xt,e,n,i)}Ft(){this.Nt=!1,this.Dt=lS()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class T3{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=gr(),this.zt=aS(),this.Wt=new st(ze)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const i=this.Zt(n);switch(e.state){case 0:this.te(n)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(n);break;case 3:this.te(n)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),i.$t(e.resumeToken));break;default:fe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((i,r)=>{this.te(r)&&n(r)})}ne(e){var n;const i=e.targetId,r=e.Vt.count,s=this.se(i);if(s){const a=s.target;if(Cv(a))if(r===0){const u=new ce(a.path);this.Yt(i,u,Vt.newNoDocument(u,me.min()))}else Ye(r===1);else{const u=this.ie(i);if(u!==r){const c=this.re(e,u);if(c!==0){this.ee(i);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(i,d)}(n=A_.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(d,p,g){var y,w,E,C,b,v;const _={localCacheCount:p,existenceFilterCount:g.count},S=g.unchangedNames;return S&&(_.bloomFilter={applied:d===0,hashCount:(y=S==null?void 0:S.hashCount)!==null&&y!==void 0?y:0,bitmapLength:(C=(E=(w=S==null?void 0:S.bits)===null||w===void 0?void 0:w.bitmap)===null||E===void 0?void 0:E.length)!==null&&C!==void 0?C:0,padding:(v=(b=S==null?void 0:S.bits)===null||b===void 0?void 0:b.padding)!==null&&v!==void 0?v:0}),_}(c,u,e.Vt))}}}}re(e,n){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:a=0},hashCount:u=0}=i;let c,d;try{c=Js(s).toUint8Array()}catch(p){if(p instanceof Qk)return ya("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw p}try{d=new R_(c,a,u)}catch(p){return ya(p instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",p),1}return d.It===0?1:r!==n-this.oe(e.targetId,d)?2:0}oe(e,n){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const a=this.Gt.ue(),u=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;n.vt(u)||(this.Yt(e,s,null),r++)}),r}ce(e){const n=new Map;this.Qt.forEach((s,a)=>{const u=this.se(a);if(u){if(s.current&&Cv(u.target)){const c=new ce(u.target.path);this.jt.get(c)!==null||this.ae(a,c)||this.Yt(a,c,Vt.newNoDocument(c,e))}s.Mt&&(n.set(a,s.Ot()),s.Ft())}});let i=be();this.zt.forEach((s,a)=>{let u=!0;a.forEachWhile(c=>{const d=this.se(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(i=i.add(s))}),this.jt.forEach((s,a)=>a.setReadTime(e));const r=new Af(e,n,this.Wt,this.jt,i);return this.jt=gr(),this.zt=aS(),this.Wt=new st(ze),r}Jt(e,n){if(!this.te(e))return;const i=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,i),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,n)?r.Bt(n,1):r.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),i&&(this.jt=this.jt.insert(n,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new oS,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new qt(ze),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new oS),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function aS(){return new st(ce.comparator)}function lS(){return new st(ce.comparator)}const E3=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),C3=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),k3=(()=>({and:"AND",or:"OR"}))();class b3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Iv(t,e){return t.useProto3Json||If(e)?e:{value:e}}function Pd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function S2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function I3(t,e){return Pd(t,e.toTimestamp())}function Li(t){return Ye(!!t),me.fromTimestamp(function(e){const n=us(e);return new Tt(n.seconds,n.nanos)}(t))}function D_(t,e){return function(n){return new Ge(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function T2(t){const e=Ge.fromString(t);return Ye(b2(e)),e}function Pv(t,e){return D_(t.databaseId,e.path)}function Dm(t,e){const n=T2(e);if(n.get(1)!==t.databaseId.projectId)throw new J(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ce(E2(n))}function Lv(t,e){return D_(t.databaseId,e)}function P3(t){const e=T2(t);return e.length===4?Ge.emptyPath():E2(e)}function Nv(t){return new Ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function E2(t){return Ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function uS(t,e,n){return{name:Pv(t,e),fields:n.value.mapValue.fields}}function L3(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Ye(d===void 0||typeof d=="string"),Qt.fromBase64String(d||"")):(Ye(d===void 0||d instanceof Uint8Array),Qt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&function(c){const d=c.code===void 0?U.UNKNOWN:_2(c.code);return new J(d,c.message||"")}(a);n=new x2(i,r,s,u||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Dm(t,i.document.name),s=Li(i.document.updateTime),a=i.document.createTime?Li(i.document.createTime):me.min(),u=new pn({mapValue:{fields:i.document.fields}}),c=Vt.newFoundDocument(r,s,a,u),d=i.targetIds||[],p=i.removedTargetIds||[];n=new Nh(d,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Dm(t,i.document),s=i.readTime?Li(i.readTime):me.min(),a=Vt.newNoDocument(r,s),u=i.removedTargetIds||[];n=new Nh([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Dm(t,i.document),s=i.removedTargetIds||[];n=new Nh([],s,r,null)}else{if(!("filter"in e))return fe();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new _3(r,s),u=i.targetId;n=new w2(u,a)}}return n}function N3(t,e){let n;if(e instanceof ec)n={update:uS(t,e.key,e.value)};else if(e instanceof M_)n={delete:Pv(t,e.key)};else if(e instanceof gs)n={update:uS(t,e.key,e.data),updateMask:U3(e.fieldMask)};else{if(!(e instanceof g3))return fe();n={verify:Pv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const a=s.transform;if(a instanceof Iu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Pu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Lu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Id)return{fieldPath:s.field.canonicalString(),increment:a.gt};throw fe()}(0,i))),e.precondition.isNone||(n.currentDocument=function(i,r){return r.updateTime!==void 0?{updateTime:I3(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:fe()}(t,e.precondition)),n}function M3(t,e){return t&&t.length>0?(Ye(e!==void 0),t.map(n=>function(i,r){let s=i.updateTime?Li(i.updateTime):Li(r);return s.isEqual(me.min())&&(s=Li(r)),new f3(s,i.transformResults||[])}(n,e))):[]}function O3(t,e){return{documents:[Lv(t,e.path)]}}function A3(t,e){const n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=Lv(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Lv(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(c){if(c.length!==0)return k2(ui.create(c,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const s=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:Lo(p.field),direction:$3(p.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Iv(t,e.limit);var u;return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function R3(t){let e=P3(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Ye(i===1);const p=n.from[0];p.allDescendants?r=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(p){const g=C2(p);return g instanceof ui&&t2(g)?g.getFilters():[g]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(p=>function(g){return new na(No(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(p)));let u=null;n.limit&&(u=function(p){let g;return g=typeof p=="object"?p.value:p,If(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(p){const g=!!p.before,y=p.values||[];return new kd(y,g)}(n.startAt));let d=null;return n.endAt&&(d=function(p){const g=!p.before,y=p.values||[];return new kd(y,g)}(n.endAt)),e3(e,r,a,s,u,"F",c,d)}function D3(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function C2(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=No(e.unaryFilter.field);return _t.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=No(e.unaryFilter.field);return _t.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=No(e.unaryFilter.field);return _t.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=No(e.unaryFilter.field);return _t.create(s,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(t):t.fieldFilter!==void 0?function(e){return _t.create(No(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return ui.create(e.compositeFilter.filters.map(n=>C2(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return fe()}}(e.compositeFilter.op))}(t):fe()}function $3(t){return E3[t]}function z3(t){return C3[t]}function F3(t){return k3[t]}function Lo(t){return{fieldPath:t.canonicalString()}}function No(t){return Ht.fromServerFormat(t.fieldPath)}function k2(t){return t instanceof _t?function(e){if(e.op==="=="){if(Zx(e.value))return{unaryFilter:{field:Lo(e.field),op:"IS_NAN"}};if(Yx(e.value))return{unaryFilter:{field:Lo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Zx(e.value))return{unaryFilter:{field:Lo(e.field),op:"IS_NOT_NAN"}};if(Yx(e.value))return{unaryFilter:{field:Lo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lo(e.field),op:z3(e.op),value:e.value}}}(t):t instanceof ui?function(e){const n=e.getFilters().map(i=>k2(i));return n.length===1?n[0]:{compositeFilter:{op:F3(e.op),filters:n}}}(t):fe()}function U3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function b2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,n,i,r,s=me.min(),a=me.min(),u=Qt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Fr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e){this.fe=e}}function B3(t){const e=R3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?bd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(){this.rn=new H3}addToCollectionParentIndex(e,n){return this.rn.add(n),G.resolve()}getCollectionParents(e,n){return G.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return G.resolve()}deleteFieldIndex(e,n){return G.resolve()}getDocumentsMatchingTarget(e,n){return G.resolve(null)}getIndexType(e,n){return G.resolve(0)}getFieldIndexes(e,n){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,n){return G.resolve(ls.min())}getMinOffsetFromCollectionGroup(e,n){return G.resolve(ls.min())}updateCollectionGroup(e,n,i){return G.resolve()}updateIndexEntries(e,n){return G.resolve()}}class H3{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new qt(Ge.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new qt(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Sa(0)}static Mn(){return new Sa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(){this.changes=new za(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?G.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Bl(i.mutation,r,Cn.empty(),Tt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,be()).next(()=>i))}getLocalViewOfDocuments(e,n,i=be()){const r=Rs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let a=kl();return s.forEach((u,c)=>{a=a.insert(u,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=Rs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,be()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((a,u)=>{n.set(a,u)})})}computeViews(e,n,i,r){let s=gr();const a=jl(),u=jl();return n.forEach((c,d)=>{const p=i.get(d.key);r.has(d.key)&&(p===void 0||p.mutation instanceof gs)?s=s.insert(d.key,d):p!==void 0?(a.set(d.key,p.mutation.getFieldMask()),Bl(p.mutation,d,p.mutation.getFieldMask(),Tt.now())):a.set(d.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((d,p)=>a.set(d,p)),n.forEach((d,p)=>{var g;return u.set(d,new G3(p,(g=a.get(d))!==null&&g!==void 0?g:null))}),u))}recalculateAndSaveOverlays(e,n){const i=jl();let r=new st((a,u)=>a-u),s=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const u of a)u.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let p=i.get(c)||Cn.empty();p=u.applyToLocalView(d,p),i.set(c,p);const g=(r.get(u.batchId)||be()).add(c);r=r.insert(u.batchId,g)})}).next(()=>{const a=[],u=r.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),d=c.key,p=c.value,g=c2();p.forEach(y=>{if(!s.has(y)){const w=v2(n.get(y),i.get(y));w!==null&&g.set(y,w),s=s.add(y)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,g))}return G.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i){return function(r){return ce.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):s2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i):this.getDocumentsMatchingCollectionQuery(e,n,i)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):G.resolve(Rs());let u=-1,c=s;return a.next(d=>G.forEach(d,(p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),s.get(p)?G.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{c=c.insert(p,y)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,c,d,be())).next(p=>({batchId:u,changes:u2(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ce(n)).next(i=>{let r=kl();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i){const r=n.collectionGroup;let s=kl();return this.indexManager.getCollectionParents(e,r).next(a=>G.forEach(a,u=>{const c=function(d,p){return new $a(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,u.child(r));return this.getDocumentsMatchingCollectionQuery(e,c,i).next(d=>{d.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,r))).next(s=>{r.forEach((u,c)=>{const d=c.getKey();s.get(d)===null&&(s=s.insert(d,Vt.newInvalidDocument(d)))});let a=kl();return s.forEach((u,c)=>{const d=r.get(u);d!==void 0&&Bl(d.mutation,c,Cn.empty(),Tt.now()),Nf(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return G.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var i;return this.cs.set(n.id,{id:(i=n).id,version:i.version,createTime:Li(i.createTime)}),G.resolve()}getNamedQuery(e,n){return G.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(i){return{name:i.name,query:B3(i.bundledQuery),readTime:Li(i.readTime)}}(n)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(){this.overlays=new st(ce.comparator),this.ls=new Map}getOverlay(e,n){return G.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Rs();return G.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.we(e,n,s)}),G.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.ls.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(i)),G.resolve()}getOverlaysForCollection(e,n,i){const r=Rs(),s=n.length+1,a=new ce(n.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const c=u.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&c.largestBatchId>i&&r.set(c.getKey(),c)}return G.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new st((d,p)=>d-p);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>i){let p=s.get(d.largestBatchId);p===null&&(p=Rs(),s=s.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const u=Rs(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,p)=>u.set(d,p)),!(u.size()>=r)););return G.resolve(u)}we(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new y3(n,i));let s=this.ls.get(n);s===void 0&&(s=be(),this.ls.set(n,s)),this.ls.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(){this.fs=new qt(Ct.ds),this.ws=new qt(Ct._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const i=new Ct(e,n);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.ys(new Ct(e,n))}ps(e,n){e.forEach(i=>this.removeReference(i,n))}Is(e){const n=new ce(new Ge([])),i=new Ct(n,e),r=new Ct(n,e+1),s=[];return this.ws.forEachInRange([i,r],a=>{this.ys(a),s.push(a.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new ce(new Ge([])),i=new Ct(n,e),r=new Ct(n,e+1);let s=be();return this.ws.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new Ct(e,0),i=this.fs.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Ct{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return ce.comparator(e.key,n.key)||ze(e.As,n.As)}static _s(e,n){return ze(e.As,n.As)||ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new qt(Ct.ds)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new v3(s,n,i,r);this.mutationQueue.push(a);for(const u of r)this.Rs=this.Rs.add(new Ct(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return G.resolve(a)}lookupMutationBatch(e,n){return G.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.bs(i),s=r<0?0:r;return G.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Ct(n,0),r=new Ct(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,r],a=>{const u=this.Ps(a.As);s.push(u)}),G.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new qt(ze);return n.forEach(r=>{const s=new Ct(r,0),a=new Ct(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,a],u=>{i=i.add(u.As)})}),G.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;ce.isDocumentKey(s)||(s=s.child(""));const a=new Ct(new ce(s),0);let u=new qt(ze);return this.Rs.forEachWhile(c=>{const d=c.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(u=u.add(c.As)),!0)},a),G.resolve(this.Vs(u))}Vs(e){const n=[];return e.forEach(i=>{const r=this.Ps(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Ye(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Rs;return G.forEach(n.mutations,r=>{const s=new Ct(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,n){const i=new Ct(n,0),r=this.Rs.firstAfterOrEqual(i);return G.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e){this.Ds=e,this.docs=new st(ce.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,a=this.Ds(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return G.resolve(i?i.document.mutableCopy():Vt.newInvalidDocument(n))}getEntries(e,n){let i=gr();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Vt.newInvalidDocument(r))}),G.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=gr();const a=n.path,u=new ce(a.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:d,value:{document:p}}=c.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||$4(D4(p),i)<=0||(r.has(p.key)||Nf(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return G.resolve(s)}getAllFromCollectionGroup(e,n,i,r){fe()}Cs(e,n){return G.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new X3(this)}getSize(e){return G.resolve(this.size)}}class X3 extends W3{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),G.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e){this.persistence=e,this.xs=new za(n=>I_(n),P_),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.Ns=0,this.ks=new $_,this.targetCount=0,this.Ms=Sa.kn()}forEachTarget(e,n){return this.xs.forEach((i,r)=>n(r)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Ns&&(this.Ns=n),G.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Sa(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,G.resolve()}updateTargetData(e,n){return this.Fn(n),G.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.xs.forEach((a,u)=>{u.sequenceNumber<=n&&i.get(u.targetId)===null&&(this.xs.delete(a),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),r++)}),G.waitFor(s).next(()=>r)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,n){const i=this.xs.get(n)||null;return G.resolve(i)}addMatchingKeys(e,n,i){return this.ks.gs(n,i),G.resolve()}removeMatchingKeys(e,n,i){this.ks.ps(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(a=>{s.push(r.markPotentiallyOrphaned(e,a))}),G.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),G.resolve()}getMatchingKeysForTargetId(e,n){const i=this.ks.Es(n);return G.resolve(i)}containsKey(e,n){return G.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e,n){this.$s={},this.overlays={},this.Os=new E_(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new J3(this),this.indexManager=new V3,this.remoteDocumentCache=function(i){return new Q3(i)}(i=>this.referenceDelegate.Ls(i)),this.serializer=new j3(n),this.qs=new Y3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Z3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.$s[e.toKey()];return i||(i=new K3(n,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,i){re("MemoryPersistence","Starting transaction:",e);const r=new t6(this.Os.next());return this.referenceDelegate.Us(),i(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(e,n){return G.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,n)))}}class t6 extends F4{constructor(e){super(),this.currentSequenceNumber=e}}class z_{constructor(e){this.persistence=e,this.Qs=new $_,this.js=null}static zs(e){return new z_(e)}get Ws(){if(this.js)return this.js;throw fe()}addReference(e,n,i){return this.Qs.addReference(i,n),this.Ws.delete(i.toString()),G.resolve()}removeReference(e,n,i){return this.Qs.removeReference(i,n),this.Ws.add(i.toString()),G.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),G.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.Ws,i=>{const r=ce.fromPath(i);return this.Hs(e,r).next(s=>{s||n.removeEntry(r,me.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(i=>{i?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return G.or([()=>G.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Fi=i,this.Bi=r}static Li(e,n){let i=be(),r=be();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new F_(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,i,r){return this.Ki(e,n).next(s=>s||this.Gi(e,n,r,i)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(Jx(n))return G.resolve(null);let i=mr(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=bd(n,null,"F"),i=mr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const a=be(...s);return this.Ui.getDocuments(e,a).next(u=>this.indexManager.getMinOffset(e,i).next(c=>{const d=this.ji(n,u);return this.zi(n,d,a,c.readTime)?this.Ki(e,bd(n,null,"F")):this.Wi(e,d,n,c)}))})))}Gi(e,n,i,r){return Jx(n)||r.isEqual(me.min())?this.Qi(e,n):this.Ui.getDocuments(e,i).next(s=>{const a=this.ji(n,s);return this.zi(n,a,i,r)?this.Qi(e,n):(Vx()<=Re.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),bv(n)),this.Wi(e,a,n,R4(r,-1)))})}ji(e,n){let i=new qt(a2(e));return n.forEach((r,s)=>{Nf(e,s)&&(i=i.add(s))}),i}zi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(e,n){return Vx()<=Re.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",bv(n)),this.Ui.getDocumentsMatchingQuery(e,n,ls.min())}Wi(e,n,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e,n,i,r){this.persistence=e,this.Hi=n,this.serializer=r,this.Ji=new st(ze),this.Yi=new za(s=>I_(s),P_),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new q3(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function r6(t,e,n,i){return new i6(t,e,n,i)}async function I2(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.tr(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],u=[];let c=be();for(const d of r){a.push(d.batchId);for(const p of d.mutations)c=c.add(p.key)}for(const d of s){u.push(d.batchId);for(const p of d.mutations)c=c.add(p.key)}return n.localDocuments.getDocuments(i,c).next(d=>({er:d,removedBatchIds:a,addedBatchIds:u}))})})}function s6(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const p=c.batch,g=p.keys();let y=G.resolve();return g.forEach(w=>{y=y.next(()=>d.getEntry(u,w)).next(E=>{const C=c.docVersions.get(w);Ye(C!==null),E.version.compareTo(C)<0&&(p.applyToRemoteDocument(E,c),E.isValidDocument()&&(E.setReadTime(c.commitVersion),d.addEntry(E)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let u=be();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function P2(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function o6(t,e){const n=ye(t),i=e.snapshotVersion;let r=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Zi.newChangeBuffer({trackRemovals:!0});r=n.Ji;const u=[];e.targetChanges.forEach((p,g)=>{const y=r.get(g);if(!y)return;u.push(n.Bs.removeMatchingKeys(s,p.removedDocuments,g).next(()=>n.Bs.addMatchingKeys(s,p.addedDocuments,g)));let w=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?w=w.withResumeToken(Qt.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,i)),r=r.insert(g,w),function(E,C,b){return E.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(y,w,p)&&u.push(n.Bs.updateTargetData(s,w))});let c=gr(),d=be();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),u.push(a6(s,a,e.documentUpdates).next(p=>{c=p.nr,d=p.sr})),!i.isEqual(me.min())){const p=n.Bs.getLastRemoteSnapshotVersion(s).next(g=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,i));u.push(p)}return G.waitFor(u).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,d)).next(()=>c)}).then(s=>(n.Ji=r,s))}function a6(t,e,n){let i=be(),r=be();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let a=gr();return n.forEach((u,c)=>{const d=s.get(u);c.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(u)),c.isNoDocument()&&c.version.isEqual(me.min())?(e.removeEntry(u,c.readTime),a=a.insert(u,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),a=a.insert(u,c)):re("LocalStore","Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",c.version)}),{nr:a,sr:r}})}function l6(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function u6(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Bs.getTargetData(i,e).next(s=>s?(r=s,G.resolve(r)):n.Bs.allocateTargetId(i).next(a=>(r=new Fr(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Ji.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(i.targetId,i),n.Yi.set(e,i.targetId)),i})}async function Mv(t,e,n){const i=ye(t),r=i.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!Ju(a))throw a;re("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}function cS(t,e,n){const i=ye(t);let r=me.min(),s=be();return i.persistence.runTransaction("Execute query","readonly",a=>function(u,c,d){const p=ye(u),g=p.Yi.get(d);return g!==void 0?G.resolve(p.Ji.get(g)):p.Bs.getTargetData(c,d)}(i,a,mr(e)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(a,u.targetId).next(c=>{s=c})}).next(()=>i.Hi.getDocumentsMatchingQuery(a,e,n?r:me.min(),n?s:be())).next(u=>(c6(i,t3(e),u),{documents:u,ir:s})))}function c6(t,e,n){let i=t.Xi.get(e)||me.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.Xi.set(e,i)}class hS{constructor(){this.activeTargetIds=a3()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class h6{constructor(){this.Hr=new hS,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,i){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new hS,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oh=null;function $m(){return oh===null?oh=268435456+Math.round(2147483648*Math.random()):oh++,"0x"+oh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut="WebChannelConnection";class m6 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,i,r,s){const a=$m(),u=this.To(e,n);re("RestConnection",`Sending RPC '${e}' ${a}:`,u,i);const c={};return this.Eo(c,r,s),this.Ao(e,u,c,i).then(d=>(re("RestConnection",`Received RPC '${e}' ${a}: `,d),d),d=>{throw ya("RestConnection",`RPC '${e}' ${a} failed with error: `,d,"url: ",u,"request:",i),d})}vo(e,n,i,r,s,a){return this.Io(e,n,i,r,s)}Eo(e,n,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Da,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}To(e,n){const i=f6[e];return`${this.mo}/v1/${n}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,i,r){const s=$m();return new Promise((a,u)=>{const c=new E4;c.setWithCredentials(!0),c.listenOnce(x4.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Rm.NO_ERROR:const p=c.getResponseJson();re(Ut,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Rm.TIMEOUT:re(Ut,`RPC '${e}' ${s} timed out`),u(new J(U.DEADLINE_EXCEEDED,"Request time out"));break;case Rm.HTTP_ERROR:const g=c.getStatus();if(re(Ut,`RPC '${e}' ${s} failed with status:`,g,"response text:",c.getResponseText()),g>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const w=y==null?void 0:y.error;if(w&&w.status&&w.message){const E=function(C){const b=C.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(b)>=0?b:U.UNKNOWN}(w.status);u(new J(E,w.message))}else u(new J(U.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new J(U.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{re(Ut,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(r);re(Ut,`RPC '${e}' ${s} sending request:`,r),c.send(n,"POST",d,i,15)})}Ro(e,n,i){const r=$m(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=_4(),u=w4(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.xmlHttpFactory=new T4({})),this.Eo(c.initMessageHeaders,n,i),c.encodeInitMessageHeaders=!0;const p=s.join("");re(Ut,`Creating RPC '${e}' stream ${r}: ${p}`,c);const g=a.createWebChannel(p,c);let y=!1,w=!1;const E=new p6({ro:b=>{w?re(Ut,`Not sending because RPC '${e}' stream ${r} is closed:`,b):(y||(re(Ut,`Opening RPC '${e}' stream ${r} transport.`),g.open(),y=!0),re(Ut,`RPC '${e}' stream ${r} sending:`,b),g.send(b))},oo:()=>g.close()}),C=(b,v,_)=>{b.listen(v,S=>{try{_(S)}catch(k){setTimeout(()=>{throw k},0)}})};return C(g,nh.EventType.OPEN,()=>{w||re(Ut,`RPC '${e}' stream ${r} transport opened.`)}),C(g,nh.EventType.CLOSE,()=>{w||(w=!0,re(Ut,`RPC '${e}' stream ${r} transport closed`),E.wo())}),C(g,nh.EventType.ERROR,b=>{w||(w=!0,ya(Ut,`RPC '${e}' stream ${r} transport errored:`,b),E.wo(new J(U.UNAVAILABLE,"The operation could not be completed")))}),C(g,nh.EventType.MESSAGE,b=>{var v;if(!w){const _=b.data[0];Ye(!!_);const S=_,k=S.error||((v=S[0])===null||v===void 0?void 0:v.error);if(k){re(Ut,`RPC '${e}' stream ${r} received error:`,k);const P=k.status;let O=function(N){const j=gt[N];if(j!==void 0)return _2(j)}(P),z=k.message;O===void 0&&(O=U.INTERNAL,z="Unknown error status: "+P+" with message "+k.message),w=!0,E.wo(new J(O,z)),g.close()}else re(Ut,`RPC '${e}' stream ${r} received:`,_),E._o(_)}}),C(u,S4.STAT_EVENT,b=>{b.stat===jx.PROXY?re(Ut,`RPC '${e}' stream ${r} detected buffering proxy`):b.stat===jx.NOPROXY&&re(Ut,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{E.fo()},0),E}}function zm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(t){return new b3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n,i=1e3,r=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=i,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,n-i);r>0&&re("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e,n,i,r,s,a,u,c){this.ii=e,this.$o=i,this.Oo=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new L2(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(pr(n.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===n&&this.Zo(i,r)},i=>{e(()=>{const r=new J(U.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,n){const i=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class g6 extends N2{constructor(e,n,i,r,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=L3(this.serializer,e),i=function(r){if(!("targetChange"in r))return me.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?me.min():s.readTime?Li(s.readTime):me.min()}(e);return this.listener.nu(n,i)}su(e){const n={};n.database=Nv(this.serializer),n.addTarget=function(r,s){let a;const u=s.target;if(a=Cv(u)?{documents:O3(r,u)}:{query:A3(r,u)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=S2(r,s.resumeToken);const c=Iv(r,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(me.min())>0){a.readTime=Pd(r,s.snapshotVersion.toTimestamp());const c=Iv(r,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const i=D3(this.serializer,e);i&&(n.labels=i),this.Wo(n)}iu(e){const n={};n.database=Nv(this.serializer),n.removeTarget=e,this.Wo(n)}}class v6 extends N2{constructor(e,n,i,r,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=M3(e.writeResults,e.commitTime),i=Li(e.commitTime);return this.listener.cu(i,n)}return Ye(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Nv(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>N3(this.serializer,i))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6 extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new J(U.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(e,n,i,r,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new J(U.UNKNOWN,r.toString())})}vo(e,n,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,n,i,s,a,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(U.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class _6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(pr(n),this.mu=!1):re("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{i.enqueueAndForget(async()=>{fo(this)&&(re("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=ye(u);c.vu.add(4),await nc(c),c.bu.set("Unknown"),c.vu.delete(4),await Df(c)}(this))})}),this.bu=new _6(i,r)}}async function Df(t){if(fo(t))for(const e of t.Ru)await e(!0)}async function nc(t){for(const e of t.Ru)await e(!1)}function M2(t,e){const n=ye(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),B_(n)?j_(n):Fa(n).Ko()&&U_(n,e))}function O2(t,e){const n=ye(t),i=Fa(n);n.Au.delete(e),i.Ko()&&A2(n,e),n.Au.size===0&&(i.Ko()?i.jo():fo(n)&&n.bu.set("Unknown"))}function U_(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fa(t).su(e)}function A2(t,e){t.Vu.qt(e),Fa(t).iu(e)}function j_(t){t.Vu=new T3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Fa(t).start(),t.bu.gu()}function B_(t){return fo(t)&&!Fa(t).Uo()&&t.Au.size>0}function fo(t){return ye(t).vu.size===0}function R2(t){t.Vu=void 0}async function x6(t){t.Au.forEach((e,n)=>{U_(t,e)})}async function S6(t,e){R2(t),B_(t)?(t.bu.Iu(e),j_(t)):t.bu.set("Unknown")}async function T6(t,e,n){if(t.bu.set("Online"),e instanceof x2&&e.state===2&&e.cause)try{await async function(i,r){const s=r.cause;for(const a of r.targetIds)i.Au.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Au.delete(a),i.Vu.removeTarget(a))}(t,e)}catch(i){re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Ld(t,i)}else if(e instanceof Nh?t.Vu.Ht(e):e instanceof w2?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(me.min()))try{const i=await P2(t.localStore);n.compareTo(i)>=0&&await function(r,s){const a=r.Vu.ce(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=r.Au.get(c);d&&r.Au.set(c,d.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,c)=>{const d=r.Au.get(u);if(!d)return;r.Au.set(u,d.withResumeToken(Qt.EMPTY_BYTE_STRING,d.snapshotVersion)),A2(r,u);const p=new Fr(d.target,u,c,d.sequenceNumber);U_(r,p)}),r.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(i){re("RemoteStore","Failed to raise snapshot:",i),await Ld(t,i)}}async function Ld(t,e,n){if(!Ju(e))throw e;t.vu.add(1),await nc(t),t.bu.set("Offline"),n||(n=()=>P2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Df(t)})}function D2(t,e){return e().catch(n=>Ld(t,n,e))}async function $f(t){const e=ye(t),n=cs(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;E6(e);)try{const r=await l6(e.localStore,i);if(r===null){e.Eu.length===0&&n.jo();break}i=r.batchId,C6(e,r)}catch(r){await Ld(e,r)}$2(e)&&z2(e)}function E6(t){return fo(t)&&t.Eu.length<10}function C6(t,e){t.Eu.push(e);const n=cs(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function $2(t){return fo(t)&&!cs(t).Uo()&&t.Eu.length>0}function z2(t){cs(t).start()}async function k6(t){cs(t).hu()}async function b6(t){const e=cs(t);for(const n of t.Eu)e.uu(n.mutations)}async function I6(t,e,n){const i=t.Eu.shift(),r=O_.from(i,e,n);await D2(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await $f(t)}async function P6(t,e){e&&cs(t).ou&&await async function(n,i){if(r=i.code,w3(r)&&r!==U.ABORTED){const s=n.Eu.shift();cs(n).Qo(),await D2(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await $f(n)}var r}(t,e),$2(t)&&z2(t)}async function fS(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials");const i=fo(n);n.vu.add(3),await nc(n),i&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Df(n)}async function L6(t,e){const n=ye(t);e?(n.vu.delete(2),await Df(n)):e||(n.vu.add(2),await nc(n),n.bu.set("Unknown"))}function Fa(t){return t.Su||(t.Su=function(e,n,i){const r=ye(e);return r.fu(),new g6(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{uo:x6.bind(null,t),ao:S6.bind(null,t),nu:T6.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),B_(t)?j_(t):t.bu.set("Unknown")):(await t.Su.stop(),R2(t))})),t.Su}function cs(t){return t.Du||(t.Du=function(e,n,i){const r=ye(e);return r.fu(),new v6(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{uo:k6.bind(null,t),ao:P6.bind(null,t),au:b6.bind(null,t),cu:I6.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await $f(t)):(await t.Du.stop(),t.Eu.length>0&&(re("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(e,n,i,r,s){const a=Date.now()+i,u=new V_(e,n,a,r,s);return u.start(i),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function H_(t,e){if(pr("AsyncQueue",`${e}: ${t}`),Ju(t))return new J(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this.comparator=e?(n,i)=>e(n,i)||ce.comparator(n.key,i.key):(n,i)=>ce.comparator(n.key,i.key),this.keyedMap=kl(),this.sortedSet=new st(this.comparator)}static emptySet(e){return new ra(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ra)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new ra;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this.Cu=new st(ce.comparator)}track(e){const n=e.doc.key,i=this.Cu.get(n);i?e.type!==0&&i.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&i.type!==1?this.Cu=this.Cu.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Cu=this.Cu.remove(n):e.type===1&&i.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):fe():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,i)=>{e.push(i)}),e}}class Ta{constructor(e,n,i,r,s,a,u,c,d){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,i,r,s){const a=[];return n.forEach(u=>{a.push({type:0,doc:u})}),new Ta(e,n,ra.emptySet(n),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(){this.Nu=void 0,this.listeners=[]}}class M6{constructor(){this.queries=new za(e=>o2(e),Lf),this.onlineState="Unknown",this.ku=new Set}}async function F2(t,e){const n=ye(t),i=e.query;let r=!1,s=n.queries.get(i);if(s||(r=!0,s=new N6),r)try{s.Nu=await n.onListen(i)}catch(a){const u=H_(a,`Initialization of query '${bv(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&W_(n)}async function U2(t,e){const n=ye(t),i=e.query;let r=!1;const s=n.queries.get(i);if(s){const a=s.listeners.indexOf(e);a>=0&&(s.listeners.splice(a,1),r=s.listeners.length===0)}if(r)return n.queries.delete(i),n.onUnlisten(i)}function O6(t,e){const n=ye(t);let i=!1;for(const r of e){const s=r.query,a=n.queries.get(s);if(a){for(const u of a.listeners)u.$u(r)&&(i=!0);a.Nu=r}}i&&W_(n)}function A6(t,e,n){const i=ye(t),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(n);i.queries.delete(e)}function W_(t){t.ku.forEach(e=>{e.next()})}class j2{constructor(e,n,i){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Ta(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const i=n!=="Offline";return(!this.options.Ku||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Ta.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.key=e}}class V2{constructor(e){this.key=e}}class R6{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=be(),this.mutatedKeys=be(),this.tc=a2(e),this.ec=new ra(this.tc)}get nc(){return this.Yu}sc(e,n){const i=n?n.ic:new pS,r=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,a=r,u=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((p,g)=>{const y=r.get(p),w=Nf(this.query,g)?g:null,E=!!y&&this.mutatedKeys.has(y.key),C=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let b=!1;y&&w?y.data.isEqual(w.data)?E!==C&&(i.track({type:3,doc:w}),b=!0):this.rc(y,w)||(i.track({type:2,doc:w}),b=!0,(c&&this.tc(w,c)>0||d&&this.tc(w,d)<0)&&(u=!0)):!y&&w?(i.track({type:0,doc:w}),b=!0):y&&!w&&(i.track({type:1,doc:y}),b=!0,(c||d)&&(u=!0)),b&&(w?(a=a.add(w),s=C?s.add(p):s.delete(p)):(a=a.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),s=s.delete(p.key),i.track({type:1,doc:p})}return{ec:a,ic:i,zi:u,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((d,p)=>function(g,y){const w=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return w(g)-w(y)}(d.type,p.type)||this.tc(d.doc,p.doc)),this.oc(i);const a=n?this.uc():[],u=this.Zu.size===0&&this.current?1:0,c=u!==this.Xu;return this.Xu=u,s.length!==0||c?{snapshot:new Ta(this.query,e.ec,r,s,e.mutatedKeys,u===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:a}:{cc:a}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new pS,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=be(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const n=[];return e.forEach(i=>{this.Zu.has(i)||n.push(new V2(i))}),this.Zu.forEach(i=>{e.has(i)||n.push(new B2(i))}),n}hc(e){this.Yu=e.ir,this.Zu=be();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Ta.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class D6{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class $6{constructor(e){this.key=e,this.fc=!1}}class z6{constructor(e,n,i,r,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.dc={},this.wc=new za(u=>o2(u),Lf),this._c=new Map,this.mc=new Set,this.gc=new st(ce.comparator),this.yc=new Map,this.Ic=new $_,this.Tc={},this.Ec=new Map,this.Ac=Sa.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function F6(t,e){const n=Z6(t);let i,r;const s=n.wc.get(e);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const a=await u6(n.localStore,mr(e)),u=n.sharedClientState.addLocalQueryTarget(a.targetId);i=a.targetId,r=await U6(n,e,i,u==="current",a.resumeToken),n.isPrimaryClient&&M2(n.remoteStore,a)}return r}async function U6(t,e,n,i,r){t.Rc=(g,y,w)=>async function(E,C,b,v){let _=C.view.sc(b);_.zi&&(_=await cS(E.localStore,C.query,!1).then(({documents:P})=>C.view.sc(P,_)));const S=v&&v.targetChanges.get(C.targetId),k=C.view.applyChanges(_,E.isPrimaryClient,S);return gS(E,C.targetId,k.cc),k.snapshot}(t,g,y,w);const s=await cS(t.localStore,e,!0),a=new R6(e,s.ir),u=a.sc(s.documents),c=tc.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),d=a.applyChanges(u,t.isPrimaryClient,c);gS(t,n,d.cc);const p=new D6(e,n,a);return t.wc.set(e,p),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),d.snapshot}async function j6(t,e){const n=ye(t),i=n.wc.get(e),r=n._c.get(i.targetId);if(r.length>1)return n._c.set(i.targetId,r.filter(s=>!Lf(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Mv(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),O2(n.remoteStore,i.targetId),Ov(n,i.targetId)}).catch(Xu)):(Ov(n,i.targetId),await Mv(n.localStore,i.targetId,!0))}async function B6(t,e,n){const i=K6(t);try{const r=await function(s,a){const u=ye(s),c=Tt.now(),d=a.reduce((y,w)=>y.add(w.key),be());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=gr(),E=be();return u.Zi.getEntries(y,d).next(C=>{w=C,w.forEach((b,v)=>{v.isValidDocument()||(E=E.add(b))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,w)).next(C=>{p=C;const b=[];for(const v of a){const _=m3(v,p.get(v.key).overlayedDocument);_!=null&&b.push(new gs(v.key,_,Xk(_.value.mapValue),Wn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,c,b,a)}).next(C=>{g=C;const b=C.applyToLocalDocumentSet(p,E);return u.documentOverlayCache.saveOverlays(y,C.batchId,b)})}).then(()=>({batchId:g.batchId,changes:u2(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,u){let c=s.Tc[s.currentUser.toKey()];c||(c=new st(ze)),c=c.insert(a,u),s.Tc[s.currentUser.toKey()]=c}(i,r.batchId,n),await ic(i,r.changes),await $f(i.remoteStore)}catch(r){const s=H_(r,"Failed to persist write");n.reject(s)}}async function H2(t,e){const n=ye(t);try{const i=await o6(n.localStore,e);e.targetChanges.forEach((r,s)=>{const a=n.yc.get(s);a&&(Ye(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.fc=!0:r.modifiedDocuments.size>0?Ye(a.fc):r.removedDocuments.size>0&&(Ye(a.fc),a.fc=!1))}),await ic(n,i,e)}catch(i){await Xu(i)}}function mS(t,e,n){const i=ye(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.wc.forEach((s,a)=>{const u=a.view.Mu(e);u.snapshot&&r.push(u.snapshot)}),function(s,a){const u=ye(s);u.onlineState=a;let c=!1;u.queries.forEach((d,p)=>{for(const g of p.listeners)g.Mu(a)&&(c=!0)}),c&&W_(u)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function V6(t,e,n){const i=ye(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.yc.get(e),s=r&&r.key;if(s){let a=new st(ce.comparator);a=a.insert(s,Vt.newNoDocument(s,me.min()));const u=be().add(s),c=new Af(me.min(),new Map,new st(ze),a,u);await H2(i,c),i.gc=i.gc.remove(s),i.yc.delete(e),G_(i)}else await Mv(i.localStore,e,!1).then(()=>Ov(i,e,n)).catch(Xu)}async function H6(t,e){const n=ye(t),i=e.batch.batchId;try{const r=await s6(n.localStore,e);G2(n,i,null),W2(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await ic(n,r)}catch(r){await Xu(r)}}async function W6(t,e,n){const i=ye(t);try{const r=await function(s,a){const u=ye(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(p=>(Ye(p!==null),d=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(i.localStore,e);G2(i,e,n),W2(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await ic(i,r)}catch(r){await Xu(r)}}function W2(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function G2(t,e,n){const i=ye(t);let r=i.Tc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function Ov(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t._c.get(e))t.wc.delete(i),n&&t.dc.Pc(i,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(i=>{t.Ic.containsKey(i)||q2(t,i)})}function q2(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(O2(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),G_(t))}function gS(t,e,n){for(const i of n)i instanceof B2?(t.Ic.addReference(i.key,e),G6(t,i)):i instanceof V2?(re("SyncEngine","Document no longer in limbo: "+i.key),t.Ic.removeReference(i.key,e),t.Ic.containsKey(i.key)||q2(t,i.key)):fe()}function G6(t,e){const n=e.key,i=n.path.canonicalString();t.gc.get(n)||t.mc.has(i)||(re("SyncEngine","New document in limbo: "+n),t.mc.add(i),G_(t))}function G_(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new ce(Ge.fromString(e)),i=t.Ac.next();t.yc.set(i,new $6(n)),t.gc=t.gc.insert(n,i),M2(t.remoteStore,new Fr(mr(L_(n.path)),i,"TargetPurposeLimboResolution",E_.ct))}}async function ic(t,e,n){const i=ye(t),r=[],s=[],a=[];i.wc.isEmpty()||(i.wc.forEach((u,c)=>{a.push(i.Rc(c,e,n).then(d=>{if((d||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,d!=null&&d.fromCache?"not-current":"current"),d){r.push(d);const p=F_.Li(c.targetId,d);s.push(p)}}))}),await Promise.all(a),i.dc.nu(r),await async function(u,c){const d=ye(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>G.forEach(c,g=>G.forEach(g.Fi,y=>d.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>G.forEach(g.Bi,y=>d.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!Ju(p))throw p;re("LocalStore","Failed to update sequence numbers: "+p)}for(const p of c){const g=p.targetId;if(!p.fromCache){const y=d.Ji.get(g),w=y.snapshotVersion,E=y.withLastLimboFreeSnapshotVersion(w);d.Ji=d.Ji.insert(g,E)}}}(i.localStore,s))}async function q6(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){re("SyncEngine","User change. New user:",e.toKey());const i=await I2(n.localStore,e);n.currentUser=e,function(r,s){r.Ec.forEach(a=>{a.forEach(u=>{u.reject(new J(U.CANCELLED,s))})}),r.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await ic(n,i.er)}}function Y6(t,e){const n=ye(t),i=n.yc.get(e);if(i&&i.fc)return be().add(i.key);{let r=be();const s=n._c.get(e);if(!s)return r;for(const a of s){const u=n.wc.get(a);r=r.unionWith(u.view.nc)}return r}}function Z6(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=H2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Y6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=V6.bind(null,e),e.dc.nu=O6.bind(null,e.eventManager),e.dc.Pc=A6.bind(null,e.eventManager),e}function K6(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=H6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=W6.bind(null,e),e}class vS{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Rf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return r6(this.persistence,new n6,e.initialUser,this.serializer)}createPersistence(e){return new e6(z_.zs,this.serializer)}createSharedClientState(e){return new h6}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Q6{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>mS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=q6.bind(null,this.syncEngine),await L6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new M6}createDatastore(e){const n=Rf(e.databaseInfo.databaseId),i=(r=e.databaseInfo,new m6(r));var r;return function(s,a,u,c){return new y6(s,a,u,c)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return n=this.localStore,i=this.datastore,r=e.asyncQueue,s=u=>mS(this.syncEngine,u,0),a=dS.D()?new dS:new d6,new w6(n,i,r,s,a);var n,i,r,s,a}createSyncEngine(e,n){return function(i,r,s,a,u,c,d){const p=new z6(i,r,s,a,u,c);return d&&(p.vc=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=ye(e);re("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await nc(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=jt.UNAUTHENTICATED,this.clientId=Zk.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async s=>{re("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(re("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new J(U.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=H_(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Fm(t,e){t.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await I2(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function yS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await e$(t);re("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(n,i),t.setCredentialChangeListener(r=>fS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>fS(e.remoteStore,s)),t._onlineComponents=e}function J6(t){return t.name==="FirebaseError"?t.code===U.FAILED_PRECONDITION||t.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function e$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re("FirestoreClient","Using user provided OfflineComponentProvider");try{await Fm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!J6(n))throw n;ya("Error using user provided cache. Falling back to memory cache: "+n),await Fm(t,new vS)}}else re("FirestoreClient","Using default OfflineComponentProvider"),await Fm(t,new vS);return t._offlineComponents}async function Z2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re("FirestoreClient","Using user provided OnlineComponentProvider"),await yS(t,t._uninitializedComponentsProvider._online)):(re("FirestoreClient","Using default OnlineComponentProvider"),await yS(t,new Q6))),t._onlineComponents}function t$(t){return Z2(t).then(e=>e.syncEngine)}async function K2(t){const e=await Z2(t),n=e.eventManager;return n.onListen=F6.bind(null,e.syncEngine),n.onUnlisten=j6.bind(null,e.syncEngine),n}function n$(t,e,n={}){const i=new or;return t.asyncQueue.enqueueAndForget(async()=>function(r,s,a,u,c){const d=new Y2({next:g=>{s.enqueueAndForget(()=>U2(r,p));const y=g.docs.has(a);!y&&g.fromCache?c.reject(new J(U.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&u&&u.source==="server"?c.reject(new J(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new j2(L_(a.path),d,{includeMetadataChanges:!0,Ku:!0});return F2(r,p)}(await K2(t),t.asyncQueue,e,n,i)),i.promise}function i$(t,e,n={}){const i=new or;return t.asyncQueue.enqueueAndForget(async()=>function(r,s,a,u,c){const d=new Y2({next:g=>{s.enqueueAndForget(()=>U2(r,p)),g.fromCache&&u.source==="server"?c.reject(new J(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new j2(a,d,{includeMetadataChanges:!0,Ku:!0});return F2(r,p)}(await K2(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(t,e,n){if(!n)throw new J(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function r$(t,e,n,i){if(e===!0&&i===!0)throw new J(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function wS(t){if(!ce.isDocumentKey(t))throw new J(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xS(t){if(ce.isDocumentKey(t))throw new J(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function zf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe()}function ci(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zf(t);throw new J(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function s$(t,e){if(e<=0)throw new J(U.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new J(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}r$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Q2((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new J(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new J(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new J(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,i=e.experimentalLongPollingOptions,n.timeoutSeconds===i.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,i}}class Ff{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new J(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new J(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SS(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new k4;switch(n.type){case"firstParty":return new L4(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new J(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=_S.get(e);n&&(re("ComponentProvider","Removing Datastore"),_S.delete(e),n.terminate())}(this),Promise.resolve()}}function o$(t,e,n,i={}){var r;const s=(t=ci(t,Ff))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&ya("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),i.mockUserToken){let a,u;if(typeof i.mockUserToken=="string")a=i.mockUserToken,u=jt.MOCK_USER;else{a=UC(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new J(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new jt(c)}t._authCredentials=new b4(new Yk(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}}class vs{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new vs(this.firestore,e,this._query)}}class ns extends vs{constructor(e,n,i){super(e,n,L_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new ce(e))}withConverter(e){return new ns(this.firestore,e,this._path)}}function q_(t,e,...n){if(t=lt(t),X2("collection","path",e),t instanceof Ff){const i=Ge.fromString(e,...n);return xS(i),new ns(t,null,i)}{if(!(t instanceof on||t instanceof ns))throw new J(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ge.fromString(e,...n));return xS(i),new ns(t.firestore,null,i)}}function vr(t,e,...n){if(t=lt(t),arguments.length===1&&(e=Zk.A()),X2("doc","path",e),t instanceof Ff){const i=Ge.fromString(e,...n);return wS(i),new on(t,null,new ce(i))}{if(!(t instanceof on||t instanceof ns))throw new J(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ge.fromString(e,...n));return wS(i),new on(t.firestore,t instanceof ns?t.converter:null,new ce(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new L2(this,"async_queue_retry"),this.Xc=()=>{const n=zm();n&&re("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=zm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=zm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new or;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Ju(e))throw e;re("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{this.Wc=i,this.Hc=!1;const r=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i);throw pr("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.Hc=!1,i))));return this.Gc=n,n}enqueueAfterDelay(e,n,i){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const r=V_.createAndSchedule(this,e,n,i,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&fe()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class po extends Ff{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new a$,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||J2(this),this._firestoreClient.terminate()}}function l$(t,e){const n=typeof t=="object"?t:e_(),i=typeof t=="string"?t:e||"(default)",r=df(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=$C("firestore");s&&o$(r,...s)}return r}function Y_(t){return t._firestoreClient||J2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function J2(t){var e,n,i;const r=t._freezeSettings(),s=function(a,u,c,d){return new B4(a,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Q2(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new X6(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=r.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.cache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ea(Qt.fromBase64String(e))}catch(n){throw new J(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ea(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u$=/^__.*__$/;class c${constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new gs(e,this.data,this.fieldMask,n,this.fieldTransforms):new ec(e,this.data,n,this.fieldTransforms)}}class eb{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new gs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function tb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class K_{constructor(e,n,i,r,s,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new K_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Nd(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(tb(this.ca)&&u$.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class h${constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Rf(e)}ya(e,n,i,r=!1){return new K_({ca:e,methodName:n,ga:i,path:Ht.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bf(t){const e=t._freezeSettings(),n=Rf(t._databaseId);return new h$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nb(t,e,n,i,r,s={}){const a=t.ya(s.merge||s.mergeFields?2:0,e,n,r);X_("Data must be an object, but it was:",a,i);const u=ib(i,a);let c,d;if(s.merge)c=new Cn(a.fieldMask),d=a.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const y=Av(e,g,n);if(!a.contains(y))throw new J(U.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);sb(p,y)||p.push(y)}c=new Cn(p),d=a.fieldTransforms.filter(g=>c.covers(g.field))}else c=null,d=a.fieldTransforms;return new c$(new pn(u),c,d)}class Vf extends jf{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vf}}class Q_ extends jf{_toFieldTransform(e){return new h3(e.path,new Iu)}isEqual(e){return e instanceof Q_}}function d$(t,e,n,i){const r=t.ya(1,e,n);X_("Data must be an object, but it was:",r,i);const s=[],a=pn.empty();ho(i,(c,d)=>{const p=J_(e,c,n);d=lt(d);const g=r.da(p);if(d instanceof Vf)s.push(p);else{const y=rc(d,g);y!=null&&(s.push(p),a.set(p,y))}});const u=new Cn(s);return new eb(a,u,r.fieldTransforms)}function f$(t,e,n,i,r,s){const a=t.ya(1,e,n),u=[Av(e,i,n)],c=[r];if(s.length%2!=0)throw new J(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)u.push(Av(e,s[y])),c.push(s[y+1]);const d=[],p=pn.empty();for(let y=u.length-1;y>=0;--y)if(!sb(d,u[y])){const w=u[y];let E=c[y];E=lt(E);const C=a.da(w);if(E instanceof Vf)d.push(w);else{const b=rc(E,C);b!=null&&(d.push(w),p.set(w,b))}}const g=new Cn(d);return new eb(p,g,a.fieldTransforms)}function p$(t,e,n,i=!1){return rc(n,t.ya(i?4:3,e))}function rc(t,e){if(rb(t=lt(t)))return X_("Unsupported field value:",e,t),ib(t,e);if(t instanceof jf)return function(n,i){if(!tb(i.ca))throw i._a(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,i){const r=[];let s=0;for(const a of n){let u=rc(a,i.wa(s));u==null&&(u={nullValue:"NULL_VALUE"}),r.push(u),s++}return{arrayValue:{values:r}}}(t,e)}return function(n,i){if((n=lt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return l3(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const r=Tt.fromDate(n);return{timestampValue:Pd(i.serializer,r)}}if(n instanceof Tt){const r=new Tt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Pd(i.serializer,r)}}if(n instanceof Z_)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ea)return{bytesValue:S2(i.serializer,n._byteString)};if(n instanceof on){const r=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(r))throw i._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:D_(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i._a(`Unsupported field value: ${zf(n)}`)}(t,e)}function ib(t,e){const n={};return Kk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ho(t,(i,r)=>{const s=rc(r,e.ha(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function rb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Tt||t instanceof Z_||t instanceof Ea||t instanceof on||t instanceof jf)}function X_(t,e,n){if(!rb(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const i=zf(n);throw i==="an object"?e._a(t+" a custom object"):e._a(t+" "+i)}}function Av(t,e,n){if((e=lt(e))instanceof Uf)return e._internalPath;if(typeof e=="string")return J_(t,e);throw Nd("Field path arguments must be of type string or ",t,!1,void 0,n)}const m$=new RegExp("[~\\*/\\[\\]]");function J_(t,e,n){if(e.search(m$)>=0)throw Nd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Uf(...e.split("."))._internalPath}catch{throw Nd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Nd(t,e,n,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${i}`),a&&(c+=` in document ${r}`),c+=")"),new J(U.INVALID_ARGUMENT,u+t+c)}function sb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new g$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Hf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class g$ extends ob{data(){return super.data()}}function Hf(t,e){return typeof e=="string"?J_(t,e):e instanceof Uf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class e0{}class t0 extends e0{}function ab(t,e,...n){let i=[];e instanceof e0&&i.push(e),i=i.concat(n),function(r){const s=r.filter(u=>u instanceof n0).length,a=r.filter(u=>u instanceof Wf).length;if(s>1||s>0&&a>0)throw new J(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class Wf extends t0{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Wf(e,n,i)}_apply(e){const n=this._parse(e);return ub(e._query,n),new vs(e.firestore,e.converter,kv(e._query,n))}_parse(e){const n=Bf(e.firestore);return function(r,s,a,u,c,d,p){let g;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new J(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){ES(p,d);const y=[];for(const w of p)y.push(TS(u,r,w));g={arrayValue:{values:y}}}else g=TS(u,r,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||ES(p,d),g=p$(a,s,p,d==="in"||d==="not-in");return _t.create(c,d,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function y$(t,e,n){const i=e,r=Hf("where",t);return Wf._create(r,i,n)}class n0 extends e0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new n0(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:ui.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,r){let s=i;const a=r.getFlattenedFilters();for(const u of a)ub(s,u),s=kv(s,u)}(e._query,n),new vs(e.firestore,e.converter,kv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class i0 extends t0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new i0(e,n)}_apply(e){const n=function(i,r,s){if(i.startAt!==null)throw new J(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new J(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new na(r,s);return function(u,c){if(N_(u)===null){const d=Pf(u);d!==null&&cb(u,d,c.field)}}(i,a),a}(e._query,this._field,this._direction);return new vs(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new $a(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function lb(t,e="asc"){const n=e,i=Hf("orderBy",t);return i0._create(i,n)}class r0 extends t0{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new r0(e,n,i)}_apply(e){return new vs(e.firestore,e.converter,bd(e._query,this._limit,this._limitType))}}function _$(t){return s$("limit",t),r0._create("limit",t,"F")}function TS(t,e,n){if(typeof(n=lt(n))=="string"){if(n==="")throw new J(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!s2(e)&&n.indexOf("/")!==-1)throw new J(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Ge.fromString(n));if(!ce.isDocumentKey(i))throw new J(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return qx(t,new ce(i))}if(n instanceof on)return qx(t,n._key);throw new J(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zf(n)}.`)}function ES(t,e){if(!Array.isArray(t)||t.length===0)throw new J(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ub(t,e){if(e.isInequality()){const i=Pf(t),r=e.field;if(i!==null&&!i.isEqual(r))throw new J(U.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=N_(t);s!==null&&cb(t,r,s)}const n=function(i,r){for(const s of i)for(const a of s.getFlattenedFilters())if(r.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function cb(t,e,n){if(!n.isEqual(e))throw new J(U.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class w${convertValue(e,n="none"){switch(eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw fe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return ho(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertGeoPoint(e){return new Z_(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=k_(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Cu(e));default:return null}}convertTimestamp(e){const n=us(e);return new Tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Ge.fromString(e);Ye(b2(i));const r=new ku(i.get(1),i.get(3)),s=new ce(i.popFirst(5));return r.isEqual(n)||pr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class db extends ob{constructor(e,n,i,r,s,a){super(e,n,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Hf("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Mh extends db{data(e={}){return super.data(e)}}class x${constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Il(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Mh(this._firestore,this._userDataWriter,i.key,i,new Il(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const u=new Mh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Il(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>r||a.type!==3).map(a=>{const u=new Mh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Il(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:S$(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function S$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(t){t=ci(t,on);const e=ci(t.firestore,po);return n$(Y_(e),t._key).then(n=>C$(e,t,n))}class fb extends w${constructor(e){super(),this.firestore=e}convertBytes(e){return new Ea(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,n)}}function pb(t){t=ci(t,vs);const e=ci(t.firestore,po),n=Y_(e),i=new fb(e);return v$(t._query),i$(n,t._query).then(r=>new x$(e,i,t,r))}function mb(t,e,n){t=ci(t,on);const i=ci(t.firestore,po),r=hb(t.converter,e,n);return qf(i,[nb(Bf(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Wn.none())])}function gb(t,e,n,...i){t=ci(t,on);const r=ci(t.firestore,po),s=Bf(r);let a;return a=typeof(e=lt(e))=="string"||e instanceof Uf?f$(s,"updateDoc",t._key,e,n,i):d$(s,"updateDoc",t._key,e),qf(r,[a.toMutation(t._key,Wn.exists(!0))])}function T$(t){return qf(ci(t.firestore,po),[new M_(t._key,Wn.none())])}function E$(t,e){const n=ci(t.firestore,po),i=vr(t),r=hb(t.converter,e);return qf(n,[nb(Bf(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,Wn.exists(!1))]).then(()=>i)}function qf(t,e){return function(n,i){const r=new or;return n.asyncQueue.enqueueAndForget(async()=>B6(await t$(n),i,r)),r.promise}(Y_(t),e)}function C$(t,e,n){const i=n.docs.get(e._key),r=new fb(t);return new db(t,r,e._key,i,new Il(n.hasPendingWrites,n.fromCache),e.converter)}function Yf(){return new Q_("serverTimestamp")}(function(t,e=!0){(function(n){Da=n})(uo),Qs(new as("firestore",(n,{instanceIdentifier:i,options:r})=>{const s=n.getProvider("app").getImmediate(),a=new po(new I4(n.getProvider("auth-internal")),new M4(n.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new J(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ku(u.options.projectId,c)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),Pi(Bx,"3.12.1",t),Pi(Bx,"3.12.1","esm2017")})();var k$="firebase",b$="9.22.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pi(k$,b$,"app");const I$={apiKey:"AIzaSyCXzztWiz_GvyOLTurvnsZfHrj2DssLs4g",authDomain:"hometopia-d224f.firebaseapp.com",projectId:"hometopia-d224f",storageBucket:"hometopia-d224f.appspot.com",messagingSenderId:"471415467397",appId:"1:471415467397:web:67b0d3c0122332a384e8ec"};VC(I$);const oi=l$(),P$="/assets/loaderfast-80b6499d.svg",sc=()=>T.jsx("div",{className:"bg-[#000] bg-opacity-50 flex items-center justify-center fixed left-0 right-0 bottom-0 top-0 z-50",children:T.jsx("div",{children:T.jsx("img",{src:P$,alt:"Loading...",className:"h-32"})})});function CS(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function s0(t={},e={}){Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:CS(e[n])&&CS(t[n])&&Object.keys(e[n]).length>0&&s0(t[n],e[n])})}const vb={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Ni(){const t=typeof document<"u"?document:{};return s0(t,vb),t}const L$={document:vb,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Mn(){const t=typeof window<"u"?window:{};return s0(t,L$),t}function N$(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Rv(t,e=0){return setTimeout(t,e)}function Md(){return Date.now()}function M$(t){const e=Mn();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function O$(t,e="x"){const n=Mn();let i,r,s;const a=M$(t);return n.WebKitCSSMatrix?(r=a.transform||a.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(u=>u.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(r==="none"?"":r)):(s=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?r=s.m41:i.length===16?r=parseFloat(i[12]):r=parseFloat(i[4])),e==="y"&&(n.WebKitCSSMatrix?r=s.m42:i.length===16?r=parseFloat(i[13]):r=parseFloat(i[5])),r||0}function ah(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function A$(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Sn(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let i=1;i<t.length;i+=1){const r=t[i];if(r!=null&&!A$(r)){const s=Object.keys(Object(r)).filter(a=>n.indexOf(a)<0);for(let a=0,u=s.length;a<u;a+=1){const c=s[a],d=Object.getOwnPropertyDescriptor(r,c);d!==void 0&&d.enumerable&&(ah(e[c])&&ah(r[c])?r[c].__swiper__?e[c]=r[c]:Sn(e[c],r[c]):!ah(e[c])&&ah(r[c])?(e[c]={},r[c].__swiper__?e[c]=r[c]:Sn(e[c],r[c])):e[c]=r[c])}}}return e}function lh(t,e,n){t.style.setProperty(e,n)}function yb({swiper:t,targetPosition:e,side:n}){const i=Mn(),r=-t.translate;let s=null,a;const u=t.params.speed;t.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(t.cssModeFrameID);const c=e>r?"next":"prev",d=(g,y)=>c==="next"&&g>=y||c==="prev"&&g<=y,p=()=>{a=new Date().getTime(),s===null&&(s=a);const g=Math.max(Math.min((a-s)/u,1),0),y=.5-Math.cos(g*Math.PI)/2;let w=r+y*(e-r);if(d(w,e)&&(w=e),t.wrapperEl.scrollTo({[n]:w}),d(w,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:w})}),i.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=i.requestAnimationFrame(p)};p()}function _b(t){return t.querySelector(".swiper-slide-transform")||t.shadowEl&&t.shadowEl.querySelector(".swiper-slide-transform")||t}function Ci(t,e=""){return[...t.children].filter(n=>n.matches(e))}function wb(t,e=[]){const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:[e]),n}function R$(t,e){const n=[];for(;t.previousElementSibling;){const i=t.previousElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function D$(t,e){const n=[];for(;t.nextElementSibling;){const i=t.nextElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function Ur(t,e){return Mn().getComputedStyle(t,null).getPropertyValue(e)}function Od(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function xb(t,e){const n=[];let i=t.parentElement;for(;i;)e?i.matches(e)&&n.push(i):n.push(i),i=i.parentElement;return n}function $$(t,e){function n(i){i.target===t&&(e.call(t,i),t.removeEventListener("transitionend",n))}e&&t.addEventListener("transitionend",n)}function Dv(t,e,n){const i=Mn();return n?t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):t.offsetWidth}let Um;function z$(){const t=Mn(),e=Ni();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function Sb(){return Um||(Um=z$()),Um}let jm;function F$({userAgent:t}={}){const e=Sb(),n=Mn(),i=n.navigator.platform,r=t||n.navigator.userAgent,s={ios:!1,android:!1},a=n.screen.width,u=n.screen.height,c=r.match(/(Android);?[\s\/]+([\d.]+)?/);let d=r.match(/(iPad).*OS\s([\d_]+)/);const p=r.match(/(iPod)(.*OS\s([\d_]+))?/),g=!d&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),y=i==="Win32";let w=i==="MacIntel";const E=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&w&&e.touch&&E.indexOf(`${a}x${u}`)>=0&&(d=r.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),w=!1),c&&!y&&(s.os="android",s.android=!0),(d||g||p)&&(s.os="ios",s.ios=!0),s}function U$(t={}){return jm||(jm=F$(t)),jm}let Bm;function j$(){const t=Mn();let e=!1;function n(){const i=t.navigator.userAgent.toLowerCase();return i.indexOf("safari")>=0&&i.indexOf("chrome")<0&&i.indexOf("android")<0}if(n()){const i=String(t.navigator.userAgent);if(i.includes("Version/")){const[r,s]=i.split("Version/")[1].split(" ")[0].split(".").map(a=>Number(a));e=r<16||r===16&&s<2}}return{isSafari:e||n(),needPerspectiveFix:e,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}function B$(){return Bm||(Bm=j$()),Bm}function V$({swiper:t,on:e,emit:n}){const i=Mn();let r=null,s=null;const a=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},u=()=>{!t||t.destroyed||!t.initialized||(r=new ResizeObserver(p=>{s=i.requestAnimationFrame(()=>{const{width:g,height:y}=t;let w=g,E=y;p.forEach(({contentBoxSize:C,contentRect:b,target:v})=>{v&&v!==t.el||(w=b?b.width:(C[0]||C).inlineSize,E=b?b.height:(C[0]||C).blockSize)}),(w!==g||E!==y)&&a()})}),r.observe(t.el))},c=()=>{s&&i.cancelAnimationFrame(s),r&&r.unobserve&&t.el&&(r.unobserve(t.el),r=null)},d=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof i.ResizeObserver<"u"){u();return}i.addEventListener("resize",a),i.addEventListener("orientationchange",d)}),e("destroy",()=>{c(),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",d)})}function H$({swiper:t,extendParams:e,on:n,emit:i}){const r=[],s=Mn(),a=(d,p={})=>{const g=s.MutationObserver||s.WebkitMutationObserver,y=new g(w=>{if(t.__preventObserver__)return;if(w.length===1){i("observerUpdate",w[0]);return}const E=function(){i("observerUpdate",w[0])};s.requestAnimationFrame?s.requestAnimationFrame(E):s.setTimeout(E,0)});y.observe(d,{attributes:typeof p.attributes>"u"?!0:p.attributes,childList:typeof p.childList>"u"?!0:p.childList,characterData:typeof p.characterData>"u"?!0:p.characterData}),r.push(y)},u=()=>{if(t.params.observer){if(t.params.observeParents){const d=xb(t.el);for(let p=0;p<d.length;p+=1)a(d[p])}a(t.el,{childList:t.params.observeSlideChildren}),a(t.wrapperEl,{attributes:!1})}},c=()=>{r.forEach(d=>{d.disconnect()}),r.splice(0,r.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",u),n("destroy",c)}const W$={on(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const r=n?"unshift":"push";return t.split(" ").forEach(s=>{i.eventsListeners[s]||(i.eventsListeners[s]=[]),i.eventsListeners[s][r](e)}),i},once(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function r(...s){i.off(t,r),r.__emitterProxy&&delete r.__emitterProxy,e.apply(i,s)}return r.__emitterProxy=e,i.on(t,r,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const i=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[i](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(i=>{typeof e>"u"?n.eventsListeners[i]=[]:n.eventsListeners[i]&&n.eventsListeners[i].forEach((r,s)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&n.eventsListeners[i].splice(s,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,i,r;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],i=t.slice(1,t.length),r=e):(n=t[0].events,i=t[0].data,r=t[0].context||e),i.unshift(r),(Array.isArray(n)?n:n.split(" ")).forEach(a=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(u=>{u.apply(r,[a,...i])}),e.eventsListeners&&e.eventsListeners[a]&&e.eventsListeners[a].forEach(u=>{u.apply(r,i)})}),e}};function G$(){const t=this;let e,n;const i=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=i.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=i.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Ur(i,"padding-left")||0,10)-parseInt(Ur(i,"padding-right")||0,10),n=n-parseInt(Ur(i,"padding-top")||0,10)-parseInt(Ur(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function q$(){const t=this;function e(F){return t.isHorizontal()?F:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[F]}function n(F,$){return parseFloat(F.getPropertyValue(e($))||0)}const i=t.params,{wrapperEl:r,slidesEl:s,size:a,rtlTranslate:u,wrongRTL:c}=t,d=t.virtual&&i.virtual.enabled,p=d?t.virtual.slides.length:t.slides.length,g=Ci(s,`.${t.params.slideClass}, swiper-slide`),y=d?t.virtual.slides.length:g.length;let w=[];const E=[],C=[];let b=i.slidesOffsetBefore;typeof b=="function"&&(b=i.slidesOffsetBefore.call(t));let v=i.slidesOffsetAfter;typeof v=="function"&&(v=i.slidesOffsetAfter.call(t));const _=t.snapGrid.length,S=t.slidesGrid.length;let k=i.spaceBetween,P=-b,O=0,z=0;if(typeof a>"u")return;typeof k=="string"&&k.indexOf("%")>=0?k=parseFloat(k.replace("%",""))/100*a:typeof k=="string"&&(k=parseFloat(k)),t.virtualSize=-k,g.forEach(F=>{u?F.style.marginLeft="":F.style.marginRight="",F.style.marginBottom="",F.style.marginTop=""}),i.centeredSlides&&i.cssMode&&(lh(r,"--swiper-centered-offset-before",""),lh(r,"--swiper-centered-offset-after",""));const N=i.grid&&i.grid.rows>1&&t.grid;N&&t.grid.initSlides(y);let j;const Y=i.slidesPerView==="auto"&&i.breakpoints&&Object.keys(i.breakpoints).filter(F=>typeof i.breakpoints[F].slidesPerView<"u").length>0;for(let F=0;F<y;F+=1){j=0;let $;if(g[F]&&($=g[F]),N&&t.grid.updateSlide(F,$,y,e),!(g[F]&&Ur($,"display")==="none")){if(i.slidesPerView==="auto"){Y&&(g[F].style[e("width")]="");const q=getComputedStyle($),ie=$.style.transform,Ce=$.style.webkitTransform;if(ie&&($.style.transform="none"),Ce&&($.style.webkitTransform="none"),i.roundLengths)j=t.isHorizontal()?Dv($,"width",!0):Dv($,"height",!0);else{const ee=n(q,"width"),_e=n(q,"padding-left"),D=n(q,"padding-right"),Z=n(q,"margin-left"),V=n(q,"margin-right"),se=q.getPropertyValue("box-sizing");if(se&&se==="border-box")j=ee+Z+V;else{const{clientWidth:Se,offsetWidth:Xe}=$;j=ee+_e+D+Z+V+(Xe-Se)}}ie&&($.style.transform=ie),Ce&&($.style.webkitTransform=Ce),i.roundLengths&&(j=Math.floor(j))}else j=(a-(i.slidesPerView-1)*k)/i.slidesPerView,i.roundLengths&&(j=Math.floor(j)),g[F]&&(g[F].style[e("width")]=`${j}px`);g[F]&&(g[F].swiperSlideSize=j),C.push(j),i.centeredSlides?(P=P+j/2+O/2+k,O===0&&F!==0&&(P=P-a/2-k),F===0&&(P=P-a/2-k),Math.abs(P)<1/1e3&&(P=0),i.roundLengths&&(P=Math.floor(P)),z%i.slidesPerGroup===0&&w.push(P),E.push(P)):(i.roundLengths&&(P=Math.floor(P)),(z-Math.min(t.params.slidesPerGroupSkip,z))%t.params.slidesPerGroup===0&&w.push(P),E.push(P),P=P+j+k),t.virtualSize+=j+k,O=j,z+=1}}if(t.virtualSize=Math.max(t.virtualSize,a)+v,u&&c&&(i.effect==="slide"||i.effect==="coverflow")&&(r.style.width=`${t.virtualSize+k}px`),i.setWrapperSize&&(r.style[e("width")]=`${t.virtualSize+k}px`),N&&t.grid.updateWrapperSize(j,w,e),!i.centeredSlides){const F=[];for(let $=0;$<w.length;$+=1){let q=w[$];i.roundLengths&&(q=Math.floor(q)),w[$]<=t.virtualSize-a&&F.push(q)}w=F,Math.floor(t.virtualSize-a)-Math.floor(w[w.length-1])>1&&w.push(t.virtualSize-a)}if(d&&i.loop){const F=C[0]+k;if(i.slidesPerGroup>1){const $=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/i.slidesPerGroup),q=F*i.slidesPerGroup;for(let ie=0;ie<$;ie+=1)w.push(w[w.length-1]+q)}for(let $=0;$<t.virtual.slidesBefore+t.virtual.slidesAfter;$+=1)i.slidesPerGroup===1&&w.push(w[w.length-1]+F),E.push(E[E.length-1]+F),t.virtualSize+=F}if(w.length===0&&(w=[0]),k!==0){const F=t.isHorizontal()&&u?"marginLeft":e("marginRight");g.filter(($,q)=>!i.cssMode||i.loop?!0:q!==g.length-1).forEach($=>{$.style[F]=`${k}px`})}if(i.centeredSlides&&i.centeredSlidesBounds){let F=0;C.forEach(q=>{F+=q+(k||0)}),F-=k;const $=F-a;w=w.map(q=>q<0?-b:q>$?$+v:q)}if(i.centerInsufficientSlides){let F=0;if(C.forEach($=>{F+=$+(k||0)}),F-=k,F<a){const $=(a-F)/2;w.forEach((q,ie)=>{w[ie]=q-$}),E.forEach((q,ie)=>{E[ie]=q+$})}}if(Object.assign(t,{slides:g,snapGrid:w,slidesGrid:E,slidesSizesGrid:C}),i.centeredSlides&&i.cssMode&&!i.centeredSlidesBounds){lh(r,"--swiper-centered-offset-before",`${-w[0]}px`),lh(r,"--swiper-centered-offset-after",`${t.size/2-C[C.length-1]/2}px`);const F=-t.snapGrid[0],$=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(q=>q+F),t.slidesGrid=t.slidesGrid.map(q=>q+$)}if(y!==p&&t.emit("slidesLengthChange"),w.length!==_&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),E.length!==S&&t.emit("slidesGridLengthChange"),i.watchSlidesProgress&&t.updateSlidesOffset(),!d&&!i.cssMode&&(i.effect==="slide"||i.effect==="fade")){const F=`${i.containerModifierClass}backface-hidden`,$=t.el.classList.contains(F);y<=i.maxBackfaceHiddenSlides?$||t.el.classList.add(F):$&&t.el.classList.remove(F)}}function Y$(t){const e=this,n=[],i=e.virtual&&e.params.virtual.enabled;let r=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const a=u=>i?e.slides[e.getSlideIndexByData(u)]:e.slides[u];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(u=>{n.push(u)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const u=e.activeIndex+s;if(u>e.slides.length&&!i)break;n.push(a(u))}else n.push(a(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const u=n[s].offsetHeight;r=u>r?u:r}(r||r===0)&&(e.wrapperEl.style.height=`${r}px`)}function Z$(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(t.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-n-t.cssOverflowAdjustment()}function K$(t=this&&this.translate||0){const e=this,n=e.params,{slides:i,rtlTranslate:r,snapGrid:s}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-t;r&&(a=t),i.forEach(c=>{c.classList.remove(n.slideVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let u=n.spaceBetween;typeof u=="string"&&u.indexOf("%")>=0?u=parseFloat(u.replace("%",""))/100*e.size:typeof u=="string"&&(u=parseFloat(u));for(let c=0;c<i.length;c+=1){const d=i[c];let p=d.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(p-=i[0].swiperSlideOffset);const g=(a+(n.centeredSlides?e.minTranslate():0)-p)/(d.swiperSlideSize+u),y=(a-s[0]+(n.centeredSlides?e.minTranslate():0)-p)/(d.swiperSlideSize+u),w=-(a-p),E=w+e.slidesSizesGrid[c];(w>=0&&w<e.size-1||E>1&&E<=e.size||w<=0&&E>=e.size)&&(e.visibleSlides.push(d),e.visibleSlidesIndexes.push(c),i[c].classList.add(n.slideVisibleClass)),d.progress=r?-g:g,d.originalProgress=r?-y:y}}function Q$(t){const e=this;if(typeof t>"u"){const p=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*p||0}const n=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:r,isBeginning:s,isEnd:a,progressLoop:u}=e;const c=s,d=a;if(i===0)r=0,s=!0,a=!0;else{r=(t-e.minTranslate())/i;const p=Math.abs(t-e.minTranslate())<1,g=Math.abs(t-e.maxTranslate())<1;s=p||r<=0,a=g||r>=1,p&&(r=0),g&&(r=1)}if(n.loop){const p=e.getSlideIndexByData(0),g=e.getSlideIndexByData(e.slides.length-1),y=e.slidesGrid[p],w=e.slidesGrid[g],E=e.slidesGrid[e.slidesGrid.length-1],C=Math.abs(t);C>=y?u=(C-y)/E:u=(C+E-w)/E,u>1&&(u-=1)}Object.assign(e,{progress:r,progressLoop:u,isBeginning:s,isEnd:a}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!c&&e.emit("reachBeginning toEdge"),a&&!d&&e.emit("reachEnd toEdge"),(c&&!s||d&&!a)&&e.emit("fromEdge"),e.emit("progress",r)}function X$(){const t=this,{slides:e,params:n,slidesEl:i,activeIndex:r}=t,s=t.virtual&&n.virtual.enabled,a=c=>Ci(i,`.${n.slideClass}${c}, swiper-slide${c}`)[0];e.forEach(c=>{c.classList.remove(n.slideActiveClass,n.slideNextClass,n.slidePrevClass)});let u;if(s)if(n.loop){let c=r-t.virtual.slidesBefore;c<0&&(c=t.virtual.slides.length+c),c>=t.virtual.slides.length&&(c-=t.virtual.slides.length),u=a(`[data-swiper-slide-index="${c}"]`)}else u=a(`[data-swiper-slide-index="${r}"]`);else u=e[r];if(u){u.classList.add(n.slideActiveClass);let c=D$(u,`.${n.slideClass}, swiper-slide`)[0];n.loop&&!c&&(c=e[0]),c&&c.classList.add(n.slideNextClass);let d=R$(u,`.${n.slideClass}, swiper-slide`)[0];n.loop&&!d===0&&(d=e[e.length-1]),d&&d.classList.add(n.slidePrevClass)}t.emitSlidesClasses()}const Oh=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,i=e.closest(n());if(i){const r=i.querySelector(`.${t.params.lazyPreloaderClass}`);r&&r.remove()}},kS=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},$v=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const i=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),r=t.activeIndex,s=r+i-1;if(t.params.rewind)for(let a=r-e;a<=s+e;a+=1){const u=(a%n+n)%n;u!==r&&u>s&&kS(t,u)}else for(let a=Math.max(s-e,0);a<=Math.min(s+e,n-1);a+=1)a!==r&&a>s&&kS(t,a)};function J$(t){const{slidesGrid:e,params:n}=t,i=t.rtlTranslate?t.translate:-t.translate;let r;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?i>=e[s]&&i<e[s+1]-(e[s+1]-e[s])/2?r=s:i>=e[s]&&i<e[s+1]&&(r=s+1):i>=e[s]&&(r=s);return n.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function ez(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:r,activeIndex:s,realIndex:a,snapIndex:u}=e;let c=t,d;const p=y=>{let w=y-e.virtual.slidesBefore;return w<0&&(w=e.virtual.slides.length+w),w>=e.virtual.slides.length&&(w-=e.virtual.slides.length),w};if(typeof c>"u"&&(c=J$(e)),i.indexOf(n)>=0)d=i.indexOf(n);else{const y=Math.min(r.slidesPerGroupSkip,c);d=y+Math.floor((c-y)/r.slidesPerGroup)}if(d>=i.length&&(d=i.length-1),c===s){d!==u&&(e.snapIndex=d,e.emit("snapIndexChange")),e.params.loop&&e.virtual&&e.params.virtual.enabled&&(e.realIndex=p(c));return}let g;e.virtual&&r.virtual.enabled&&r.loop?g=p(c):e.slides[c]?g=parseInt(e.slides[c].getAttribute("data-swiper-slide-index")||c,10):g=c,Object.assign(e,{previousSnapIndex:u,snapIndex:d,previousRealIndex:a,realIndex:g,previousIndex:s,activeIndex:c}),e.initialized&&$v(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),a!==g&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")}function tz(t){const e=this,n=e.params,i=t.closest(`.${n.slideClass}, swiper-slide`);let r=!1,s;if(i){for(let a=0;a<e.slides.length;a+=1)if(e.slides[a]===i){r=!0,s=a;break}}if(i&&r)e.clickedSlide=i,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):e.clickedIndex=s;else{e.clickedSlide=void 0,e.clickedIndex=void 0;return}n.slideToClickedSlide&&e.clickedIndex!==void 0&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}const nz={updateSize:G$,updateSlides:q$,updateAutoHeight:Y$,updateSlidesOffset:Z$,updateSlidesProgress:K$,updateProgress:Q$,updateSlidesClasses:X$,updateActiveIndex:ez,updateClickedSlide:tz};function iz(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:i,translate:r,wrapperEl:s}=e;if(n.virtualTranslate)return i?-r:r;if(n.cssMode)return r;let a=O$(s,t);return a+=e.cssOverflowAdjustment(),i&&(a=-a),a||0}function rz(t,e){const n=this,{rtlTranslate:i,params:r,wrapperEl:s,progress:a}=n;let u=0,c=0;const d=0;n.isHorizontal()?u=i?-t:t:c=t,r.roundLengths&&(u=Math.floor(u),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?u:c,r.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-u:-c:r.virtualTranslate||(n.isHorizontal()?u-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${u}px, ${c}px, ${d}px)`);let p;const g=n.maxTranslate()-n.minTranslate();g===0?p=0:p=(t-n.minTranslate())/g,p!==a&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function sz(){return-this.snapGrid[0]}function oz(){return-this.snapGrid[this.snapGrid.length-1]}function az(t=0,e=this.params.speed,n=!0,i=!0,r){const s=this,{params:a,wrapperEl:u}=s;if(s.animating&&a.preventInteractionOnTransition)return!1;const c=s.minTranslate(),d=s.maxTranslate();let p;if(i&&t>c?p=c:i&&t<d?p=d:p=t,s.updateProgress(p),a.cssMode){const g=s.isHorizontal();if(e===0)u[g?"scrollLeft":"scrollTop"]=-p;else{if(!s.support.smoothScroll)return yb({swiper:s,targetPosition:-p,side:g?"left":"top"}),!0;u.scrollTo({[g?"left":"top"]:-p,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(p),n&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(p),n&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(y){!s||s.destroyed||y.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}const lz={getTranslate:iz,setTranslate:rz,minTranslate:sz,maxTranslate:oz,translateTo:az};function uz(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`),n.emit("setTransition",t,e)}function Tb({swiper:t,runCallbacks:e,direction:n,step:i}){const{activeIndex:r,previousIndex:s}=t;let a=n;if(a||(r>s?a="next":r<s?a="prev":a="reset"),t.emit(`transition${i}`),e&&r!==s){if(a==="reset"){t.emit(`slideResetTransition${i}`);return}t.emit(`slideChangeTransition${i}`),a==="next"?t.emit(`slideNextTransition${i}`):t.emit(`slidePrevTransition${i}`)}}function cz(t=!0,e){const n=this,{params:i}=n;i.cssMode||(i.autoHeight&&n.updateAutoHeight(),Tb({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function hz(t=!0,e){const n=this,{params:i}=n;n.animating=!1,!i.cssMode&&(n.setTransition(0),Tb({swiper:n,runCallbacks:t,direction:e,step:"End"}))}const dz={setTransition:uz,transitionStart:cz,transitionEnd:hz};function fz(t=0,e=this.params.speed,n=!0,i,r){typeof t=="string"&&(t=parseInt(t,10));const s=this;let a=t;a<0&&(a=0);const{params:u,snapGrid:c,slidesGrid:d,previousIndex:p,activeIndex:g,rtlTranslate:y,wrapperEl:w,enabled:E}=s;if(s.animating&&u.preventInteractionOnTransition||!E&&!i&&!r)return!1;const C=Math.min(s.params.slidesPerGroupSkip,a);let b=C+Math.floor((a-C)/s.params.slidesPerGroup);b>=c.length&&(b=c.length-1);const v=-c[b];if(u.normalizeSlideIndex)for(let S=0;S<d.length;S+=1){const k=-Math.floor(v*100),P=Math.floor(d[S]*100),O=Math.floor(d[S+1]*100);typeof d[S+1]<"u"?k>=P&&k<O-(O-P)/2?a=S:k>=P&&k<O&&(a=S+1):k>=P&&(a=S)}if(s.initialized&&a!==g&&(!s.allowSlideNext&&v<s.translate&&v<s.minTranslate()||!s.allowSlidePrev&&v>s.translate&&v>s.maxTranslate()&&(g||0)!==a))return!1;a!==(p||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(v);let _;if(a>g?_="next":a<g?_="prev":_="reset",y&&-v===s.translate||!y&&v===s.translate)return s.updateActiveIndex(a),u.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),u.effect!=="slide"&&s.setTranslate(v),_!=="reset"&&(s.transitionStart(n,_),s.transitionEnd(n,_)),!1;if(u.cssMode){const S=s.isHorizontal(),k=y?v:-v;if(e===0){const P=s.virtual&&s.params.virtual.enabled;P&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),P&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{w[S?"scrollLeft":"scrollTop"]=k})):w[S?"scrollLeft":"scrollTop"]=k,P&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1})}else{if(!s.support.smoothScroll)return yb({swiper:s,targetPosition:k,side:S?"left":"top"}),!0;w.scrollTo({[S?"left":"top"]:k,behavior:"smooth"})}return!0}return s.setTransition(e),s.setTranslate(v),s.updateActiveIndex(a),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,i),s.transitionStart(n,_),e===0?s.transitionEnd(n,_):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(k){!s||s.destroyed||k.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,_))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function pz(t=0,e=this.params.speed,n=!0,i){typeof t=="string"&&(t=parseInt(t,10));const r=this;let s=t;return r.params.loop&&(r.virtual&&r.params.virtual.enabled?s=s+r.virtual.slidesBefore:s=r.getSlideIndexByData(s)),r.slideTo(s,e,n,i)}function mz(t=this.params.speed,e=!0,n){const i=this,{enabled:r,params:s,animating:a}=i;if(!r)return i;let u=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(u=Math.max(i.slidesPerViewDynamic("current",!0),1));const c=i.activeIndex<s.slidesPerGroupSkip?1:u,d=i.virtual&&s.virtual.enabled;if(s.loop){if(a&&!d&&s.loopPreventsSliding)return!1;i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft}return s.rewind&&i.isEnd?i.slideTo(0,t,e,n):i.slideTo(i.activeIndex+c,t,e,n)}function gz(t=this.params.speed,e=!0,n){const i=this,{params:r,snapGrid:s,slidesGrid:a,rtlTranslate:u,enabled:c,animating:d}=i;if(!c)return i;const p=i.virtual&&r.virtual.enabled;if(r.loop){if(d&&!p&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const g=u?i.translate:-i.translate;function y(v){return v<0?-Math.floor(Math.abs(v)):Math.floor(v)}const w=y(g),E=s.map(v=>y(v));let C=s[E.indexOf(w)-1];if(typeof C>"u"&&r.cssMode){let v;s.forEach((_,S)=>{w>=_&&(v=S)}),typeof v<"u"&&(C=s[v>0?v-1:v])}let b=0;if(typeof C<"u"&&(b=a.indexOf(C),b<0&&(b=i.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(b=b-i.slidesPerViewDynamic("previous",!0)+1,b=Math.max(b,0))),r.rewind&&i.isBeginning){const v=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(v,t,e,n)}return i.slideTo(b,t,e,n)}function vz(t=this.params.speed,e=!0,n){const i=this;return i.slideTo(i.activeIndex,t,e,n)}function yz(t=this.params.speed,e=!0,n,i=.5){const r=this;let s=r.activeIndex;const a=Math.min(r.params.slidesPerGroupSkip,s),u=a+Math.floor((s-a)/r.params.slidesPerGroup),c=r.rtlTranslate?r.translate:-r.translate;if(c>=r.snapGrid[u]){const d=r.snapGrid[u],p=r.snapGrid[u+1];c-d>(p-d)*i&&(s+=r.params.slidesPerGroup)}else{const d=r.snapGrid[u-1],p=r.snapGrid[u];c-d<=(p-d)*i&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,t,e,n)}function _z(){const t=this,{params:e,slidesEl:n}=t,i=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let r=t.clickedIndex,s;const a=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?r<t.loopedSlides-i/2||r>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),r=t.getSlideIndex(Ci(n,`${a}[data-swiper-slide-index="${s}"]`)[0]),Rv(()=>{t.slideTo(r)})):t.slideTo(r):r>t.slides.length-i?(t.loopFix(),r=t.getSlideIndex(Ci(n,`${a}[data-swiper-slide-index="${s}"]`)[0]),Rv(()=>{t.slideTo(r)})):t.slideTo(r)}else t.slideTo(r)}const wz={slideTo:fz,slideToLoop:pz,slideNext:mz,slidePrev:gz,slideReset:vz,slideToClosest:yz,slideToClickedSlide:_z};function xz(t){const e=this,{params:n,slidesEl:i}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;Ci(i,`.${n.slideClass}, swiper-slide`).forEach((s,a)=>{s.setAttribute("data-swiper-slide-index",a)}),e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function Sz({slideRealIndex:t,slideTo:e=!0,direction:n,setTranslate:i,activeSlideIndex:r,byController:s,byMousewheel:a}={}){const u=this;if(!u.params.loop)return;u.emit("beforeLoopFix");const{slides:c,allowSlidePrev:d,allowSlideNext:p,slidesEl:g,params:y}=u;if(u.allowSlidePrev=!0,u.allowSlideNext=!0,u.virtual&&y.virtual.enabled){e&&(!y.centeredSlides&&u.snapIndex===0?u.slideTo(u.virtual.slides.length,0,!1,!0):y.centeredSlides&&u.snapIndex<y.slidesPerView?u.slideTo(u.virtual.slides.length+u.snapIndex,0,!1,!0):u.snapIndex===u.snapGrid.length-1&&u.slideTo(u.virtual.slidesBefore,0,!1,!0)),u.allowSlidePrev=d,u.allowSlideNext=p,u.emit("loopFix");return}const w=y.slidesPerView==="auto"?u.slidesPerViewDynamic():Math.ceil(parseFloat(y.slidesPerView,10));let E=y.loopedSlides||w;E%y.slidesPerGroup!==0&&(E+=y.slidesPerGroup-E%y.slidesPerGroup),u.loopedSlides=E;const C=[],b=[];let v=u.activeIndex;typeof r>"u"?r=u.getSlideIndex(u.slides.filter(O=>O.classList.contains(y.slideActiveClass))[0]):v=r;const _=n==="next"||!n,S=n==="prev"||!n;let k=0,P=0;if(r<E){k=Math.max(E-r,y.slidesPerGroup);for(let O=0;O<E-r;O+=1){const z=O-Math.floor(O/c.length)*c.length;C.push(c.length-z-1)}}else if(r>u.slides.length-E*2){P=Math.max(r-(u.slides.length-E*2),y.slidesPerGroup);for(let O=0;O<P;O+=1){const z=O-Math.floor(O/c.length)*c.length;b.push(z)}}if(S&&C.forEach(O=>{u.slides[O].swiperLoopMoveDOM=!0,g.prepend(u.slides[O]),u.slides[O].swiperLoopMoveDOM=!1}),_&&b.forEach(O=>{u.slides[O].swiperLoopMoveDOM=!0,g.append(u.slides[O]),u.slides[O].swiperLoopMoveDOM=!1}),u.recalcSlides(),y.slidesPerView==="auto"&&u.updateSlides(),y.watchSlidesProgress&&u.updateSlidesOffset(),e){if(C.length>0&&S)if(typeof t>"u"){const O=u.slidesGrid[v],N=u.slidesGrid[v+k]-O;a?u.setTranslate(u.translate-N):(u.slideTo(v+k,0,!1,!0),i&&(u.touches[u.isHorizontal()?"startX":"startY"]+=N))}else i&&u.slideToLoop(t,0,!1,!0);else if(b.length>0&&_)if(typeof t>"u"){const O=u.slidesGrid[v],N=u.slidesGrid[v-P]-O;a?u.setTranslate(u.translate-N):(u.slideTo(v-P,0,!1,!0),i&&(u.touches[u.isHorizontal()?"startX":"startY"]+=N))}else u.slideToLoop(t,0,!1,!0)}if(u.allowSlidePrev=d,u.allowSlideNext=p,u.controller&&u.controller.control&&!s){const O={slideRealIndex:t,slideTo:!1,direction:n,setTranslate:i,activeSlideIndex:r,byController:!0};Array.isArray(u.controller.control)?u.controller.control.forEach(z=>{!z.destroyed&&z.params.loop&&z.loopFix(O)}):u.controller.control instanceof u.constructor&&u.controller.control.params.loop&&u.controller.control.loopFix(O)}u.emit("loopFix")}function Tz(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const i=[];t.slides.forEach(r=>{const s=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;i[s]=r}),t.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{n.append(r)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}const Ez={loopCreate:xz,loopFix:Sz,loopDestroy:Tz};function Cz(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function kz(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}const bz={setGrabCursor:Cz,unsetGrabCursor:kz};function Iz(t,e=this){function n(i){if(!i||i===Ni()||i===Mn())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(t);return!r&&!i.getRootNode?null:r||n(i.getRootNode().host)}return n(e)}function Pz(t){const e=this,n=Ni(),i=Mn(),r=e.touchEventsData;r.evCache.push(t);const{params:s,touches:a,enabled:u}=e;if(!u||!s.simulateTouch&&t.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let c=t;c.originalEvent&&(c=c.originalEvent);let d=c.target;if(s.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(d)||"which"in c&&c.which===3||"button"in c&&c.button>0||r.isTouched&&r.isMoved)return;const p=!!s.noSwipingClass&&s.noSwipingClass!=="",g=t.composedPath?t.composedPath():t.path;p&&c.target&&c.target.shadowRoot&&g&&(d=g[0]);const y=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,w=!!(c.target&&c.target.shadowRoot);if(s.noSwiping&&(w?Iz(y,d):d.closest(y))){e.allowClick=!0;return}if(s.swipeHandler&&!d.closest(s.swipeHandler))return;a.currentX=c.pageX,a.currentY=c.pageY;const E=a.currentX,C=a.currentY,b=s.edgeSwipeDetection||s.iOSEdgeSwipeDetection,v=s.edgeSwipeThreshold||s.iOSEdgeSwipeThreshold;if(b&&(E<=v||E>=i.innerWidth-v))if(b==="prevent")t.preventDefault();else return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=E,a.startY=C,r.touchStartTime=Md(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1);let _=!0;d.matches(r.focusableElements)&&(_=!1,d.nodeName==="SELECT"&&(r.isTouched=!1)),n.activeElement&&n.activeElement.matches(r.focusableElements)&&n.activeElement!==d&&n.activeElement.blur();const S=_&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||S)&&!d.isContentEditable&&c.preventDefault(),e.params.freeMode&&e.params.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",c)}function Lz(t){const e=Ni(),n=this,i=n.touchEventsData,{params:r,touches:s,rtlTranslate:a,enabled:u}=n;if(!u||!r.simulateTouch&&t.pointerType==="mouse")return;let c=t;if(c.originalEvent&&(c=c.originalEvent),!i.isTouched){i.startMoving&&i.isScrolling&&n.emit("touchMoveOpposite",c);return}const d=i.evCache.findIndex(O=>O.pointerId===c.pointerId);d>=0&&(i.evCache[d]=c);const p=i.evCache.length>1?i.evCache[0]:c,g=p.pageX,y=p.pageY;if(c.preventedByNestedSwiper){s.startX=g,s.startY=y;return}if(!n.allowTouchMove){c.target.matches(i.focusableElements)||(n.allowClick=!1),i.isTouched&&(Object.assign(s,{startX:g,startY:y,prevX:n.touches.currentX,prevY:n.touches.currentY,currentX:g,currentY:y}),i.touchStartTime=Md());return}if(r.touchReleaseOnEdges&&!r.loop){if(n.isVertical()){if(y<s.startY&&n.translate<=n.maxTranslate()||y>s.startY&&n.translate>=n.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(g<s.startX&&n.translate<=n.maxTranslate()||g>s.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&c.target===e.activeElement&&c.target.matches(i.focusableElements)){i.isMoved=!0,n.allowClick=!1;return}if(i.allowTouchCallbacks&&n.emit("touchMove",c),c.targetTouches&&c.targetTouches.length>1)return;s.currentX=g,s.currentY=y;const w=s.currentX-s.startX,E=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(w**2+E**2)<n.params.threshold)return;if(typeof i.isScrolling>"u"){let O;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:w*w+E*E>=25&&(O=Math.atan2(Math.abs(E),Math.abs(w))*180/Math.PI,i.isScrolling=n.isHorizontal()?O>r.touchAngle:90-O>r.touchAngle)}if(i.isScrolling&&n.emit("touchMoveOpposite",c),typeof i.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(i.startMoving=!0),i.isScrolling||n.zoom&&n.params.zoom&&n.params.zoom.enabled&&i.evCache.length>1){i.isTouched=!1;return}if(!i.startMoving)return;n.allowClick=!1,!r.cssMode&&c.cancelable&&c.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&c.stopPropagation();let C=n.isHorizontal()?w:E,b=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;r.oneWayMovement&&(C=Math.abs(C)*(a?1:-1),b=Math.abs(b)*(a?1:-1)),s.diff=C,C*=r.touchRatio,a&&(C=-C,b=-b);const v=n.touchesDirection;n.swipeDirection=C>0?"prev":"next",n.touchesDirection=b>0?"prev":"next";const _=n.params.loop&&!r.cssMode;if(!i.isMoved){if(_&&n.loopFix({direction:n.swipeDirection}),i.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const O=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(O)}i.allowMomentumBounce=!1,r.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}let S;i.isMoved&&v!==n.touchesDirection&&_&&Math.abs(C)>=1&&(n.loopFix({direction:n.swipeDirection,setTranslate:!0}),S=!0),n.emit("sliderMove",c),i.isMoved=!0,i.currentTranslate=C+i.startTranslate;let k=!0,P=r.resistanceRatio;if(r.touchReleaseOnEdges&&(P=0),C>0?(_&&!S&&i.currentTranslate>(r.centeredSlides?n.minTranslate()-n.size/2:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>n.minTranslate()&&(k=!1,r.resistance&&(i.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+i.startTranslate+C)**P))):C<0&&(_&&!S&&i.currentTranslate<(r.centeredSlides?n.maxTranslate()+n.size/2:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(r.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<n.maxTranslate()&&(k=!1,r.resistance&&(i.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-i.startTranslate-C)**P))),k&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0)if(Math.abs(C)>r.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{i.currentTranslate=i.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&n.freeMode||r.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&r.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(i.currentTranslate),n.setTranslate(i.currentTranslate))}function Nz(t){const e=this,n=e.touchEventsData,i=n.evCache.findIndex(S=>S.pointerId===t.pointerId);if(i>=0&&n.evCache.splice(i,1),["pointercancel","pointerout","pointerleave"].includes(t.type)&&!(t.type==="pointercancel"&&(e.browser.isSafari||e.browser.isWebView)))return;const{params:r,touches:s,rtlTranslate:a,slidesGrid:u,enabled:c}=e;if(!c||!r.simulateTouch&&t.pointerType==="mouse")return;let d=t;if(d.originalEvent&&(d=d.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",d),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&r.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}r.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const p=Md(),g=p-n.touchStartTime;if(e.allowClick){const S=d.path||d.composedPath&&d.composedPath();e.updateClickedSlide(S&&S[0]||d.target),e.emit("tap click",d),g<300&&p-n.lastClickTime<300&&e.emit("doubleTap doubleClick",d)}if(n.lastClickTime=Md(),Rv(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||s.diff===0||n.currentTranslate===n.startTranslate){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let y;if(r.followFinger?y=a?e.translate:-e.translate:y=-n.currentTranslate,r.cssMode)return;if(e.params.freeMode&&r.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:y});return}let w=0,E=e.slidesSizesGrid[0];for(let S=0;S<u.length;S+=S<r.slidesPerGroupSkip?1:r.slidesPerGroup){const k=S<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;typeof u[S+k]<"u"?y>=u[S]&&y<u[S+k]&&(w=S,E=u[S+k]-u[S]):y>=u[S]&&(w=S,E=u[u.length-1]-u[u.length-2])}let C=null,b=null;r.rewind&&(e.isBeginning?b=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(C=0));const v=(y-u[w])/E,_=w<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(g>r.longSwipesMs){if(!r.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(v>=r.longSwipesRatio?e.slideTo(r.rewind&&e.isEnd?C:w+_):e.slideTo(w)),e.swipeDirection==="prev"&&(v>1-r.longSwipesRatio?e.slideTo(w+_):b!==null&&v<0&&Math.abs(v)>r.longSwipesRatio?e.slideTo(b):e.slideTo(w))}else{if(!r.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(d.target===e.navigation.nextEl||d.target===e.navigation.prevEl)?d.target===e.navigation.nextEl?e.slideTo(w+_):e.slideTo(w):(e.swipeDirection==="next"&&e.slideTo(C!==null?C:w+_),e.swipeDirection==="prev"&&e.slideTo(b!==null?b:w))}}function bS(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:s}=t,a=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const u=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!u?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!a?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=r,t.allowSlideNext=i,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function Mz(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function Oz(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:i}=t;if(!i)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let r;const s=t.maxTranslate()-t.minTranslate();s===0?r=0:r=(t.translate-t.minTranslate())/s,r!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function Az(t){const e=this;Oh(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}let IS=!1;function Rz(){}const Eb=(t,e)=>{const n=Ni(),{params:i,el:r,wrapperEl:s,device:a}=t,u=!!i.nested,c=e==="on"?"addEventListener":"removeEventListener",d=e;r[c]("pointerdown",t.onTouchStart,{passive:!1}),n[c]("pointermove",t.onTouchMove,{passive:!1,capture:u}),n[c]("pointerup",t.onTouchEnd,{passive:!0}),n[c]("pointercancel",t.onTouchEnd,{passive:!0}),n[c]("pointerout",t.onTouchEnd,{passive:!0}),n[c]("pointerleave",t.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[c]("click",t.onClick,!0),i.cssMode&&s[c]("scroll",t.onScroll),i.updateOnWindowResize?t[d](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",bS,!0):t[d]("observerUpdate",bS,!0),r[c]("load",t.onLoad,{capture:!0})};function Dz(){const t=this,e=Ni(),{params:n}=t;t.onTouchStart=Pz.bind(t),t.onTouchMove=Lz.bind(t),t.onTouchEnd=Nz.bind(t),n.cssMode&&(t.onScroll=Oz.bind(t)),t.onClick=Mz.bind(t),t.onLoad=Az.bind(t),IS||(e.addEventListener("touchstart",Rz),IS=!0),Eb(t,"on")}function $z(){Eb(this,"off")}const zz={attachEvents:Dz,detachEvents:$z},PS=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function Fz(){const t=this,{realIndex:e,initialized:n,params:i,el:r}=t,s=i.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const a=t.getBreakpoint(s,t.params.breakpointsBase,t.el);if(!a||t.currentBreakpoint===a)return;const c=(a in s?s[a]:void 0)||t.originalParams,d=PS(t,i),p=PS(t,c),g=i.enabled;d&&!p?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!d&&p&&(r.classList.add(`${i.containerModifierClass}grid`),(c.grid.fill&&c.grid.fill==="column"||!c.grid.fill&&i.grid.fill==="column")&&r.classList.add(`${i.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(C=>{const b=i[C]&&i[C].enabled,v=c[C]&&c[C].enabled;b&&!v&&t[C].disable(),!b&&v&&t[C].enable()});const y=c.direction&&c.direction!==i.direction,w=i.loop&&(c.slidesPerView!==i.slidesPerView||y);y&&n&&t.changeDirection(),Sn(t.params,c);const E=t.params.enabled;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),g&&!E?t.disable():!g&&E&&t.enable(),t.currentBreakpoint=a,t.emit("_beforeBreakpoint",c),w&&n&&(t.loopDestroy(),t.loopCreate(e),t.updateSlides()),t.emit("breakpoint",c)}function Uz(t,e="window",n){if(!t||e==="container"&&!n)return;let i=!1;const r=Mn(),s=e==="window"?r.innerHeight:n.clientHeight,a=Object.keys(t).map(u=>{if(typeof u=="string"&&u.indexOf("@")===0){const c=parseFloat(u.substr(1));return{value:s*c,point:u}}return{value:u,point:u}});a.sort((u,c)=>parseInt(u.value,10)-parseInt(c.value,10));for(let u=0;u<a.length;u+=1){const{point:c,value:d}=a[u];e==="window"?r.matchMedia(`(min-width: ${d}px)`).matches&&(i=c):d<=n.clientWidth&&(i=c)}return i||"max"}const jz={setBreakpoint:Fz,getBreakpoint:Uz};function Bz(t,e){const n=[];return t.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(r=>{i[r]&&n.push(e+r)}):typeof i=="string"&&n.push(e+i)}),n}function Vz(){const t=this,{classNames:e,params:n,rtl:i,el:r,device:s}=t,a=Bz(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:i},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...a),r.classList.add(...e),t.emitContainerClasses()}function Hz(){const t=this,{el:e,classNames:n}=t;e.classList.remove(...n),t.emitContainerClasses()}const Wz={addClasses:Vz,removeClasses:Hz};function Gz(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:i}=n;if(i){const r=t.slides.length-1,s=t.slidesGrid[r]+t.slidesSizesGrid[r]+i*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}const qz={checkOverflow:Gz},LS={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Yz(t,e){return function(i={}){const r=Object.keys(i)[0],s=i[r];if(typeof s!="object"||s===null){Sn(e,i);return}if(["navigation","pagination","scrollbar"].indexOf(r)>=0&&t[r]===!0&&(t[r]={auto:!0}),!(r in t&&"enabled"in s)){Sn(e,i);return}t[r]===!0&&(t[r]={enabled:!0}),typeof t[r]=="object"&&!("enabled"in t[r])&&(t[r].enabled=!0),t[r]||(t[r]={enabled:!1}),Sn(e,i)}}const Vm={eventsEmitter:W$,update:nz,translate:lz,transition:dz,slide:wz,loop:Ez,grabCursor:bz,events:zz,breakpoints:jz,checkOverflow:qz,classes:Wz},Hm={};let to=class qi{constructor(...e){let n,i;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?i=e[0]:[n,i]=e,i||(i={}),i=Sn({},i),n&&!i.el&&(i.el=n);const r=Ni();if(i.el&&typeof i.el=="string"&&r.querySelectorAll(i.el).length>1){const c=[];return r.querySelectorAll(i.el).forEach(d=>{const p=Sn({},i,{el:d});c.push(new qi(p))}),c}const s=this;s.__swiper__=!0,s.support=Sb(),s.device=U$({userAgent:i.userAgent}),s.browser=B$(),s.eventsListeners={},s.eventsAnyListeners=[],s.modules=[...s.__modules__],i.modules&&Array.isArray(i.modules)&&s.modules.push(...i.modules);const a={};s.modules.forEach(c=>{c({params:i,swiper:s,extendParams:Yz(i,a),on:s.on.bind(s),once:s.once.bind(s),off:s.off.bind(s),emit:s.emit.bind(s)})});const u=Sn({},LS,a);return s.params=Sn({},u,Hm,i),s.originalParams=Sn({},s.params),s.passedParams=Sn({},i),s.params&&s.params.on&&Object.keys(s.params.on).forEach(c=>{s.on(c,s.params.on[c])}),s.params&&s.params.onAny&&s.onAny(s.params.onAny),Object.assign(s,{enabled:s.params.enabled,el:n,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return s.params.direction==="horizontal"},isVertical(){return s.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:s.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:s.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),s.emit("_swiper"),s.params.init&&s.init(),s}getSlideIndex(e){const{slidesEl:n,params:i}=this,r=Ci(n,`.${i.slideClass}, swiper-slide`),s=Od(r[0]);return Od(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:n,params:i}=e;e.slides=Ci(n,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const i=this;e=Math.min(Math.max(e,0),1);const r=i.minTranslate(),a=(i.maxTranslate()-r)*e+r;i.translateTo(a,typeof n>"u"?0:n),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(i=>{const r=e.getSlideClasses(i);n.push({slideEl:i,classNames:r}),e.emit("_slideClass",i,r)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const i=this,{params:r,slides:s,slidesGrid:a,slidesSizesGrid:u,size:c,activeIndex:d}=i;let p=1;if(r.centeredSlides){let g=s[d].swiperSlideSize,y;for(let w=d+1;w<s.length;w+=1)s[w]&&!y&&(g+=s[w].swiperSlideSize,p+=1,g>c&&(y=!0));for(let w=d-1;w>=0;w-=1)s[w]&&!y&&(g+=s[w].swiperSlideSize,p+=1,g>c&&(y=!0))}else if(e==="current")for(let g=d+1;g<s.length;g+=1)(n?a[g]+u[g]-a[d]<c:a[g]-a[d]<c)&&(p+=1);else for(let g=d-1;g>=0;g-=1)a[d]-a[g]<c&&(p+=1);return p}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&Oh(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function r(){const a=e.rtlTranslate?e.translate*-1:e.translate,u=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(u),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(e.params.freeMode&&e.params.freeMode.enabled)r(),e.params.autoHeight&&e.updateAutoHeight();else{if((e.params.slidesPerView==="auto"||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides){const a=e.virtual&&e.params.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(a.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||r()}i.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const i=this,r=i.params.direction;return e||(e=r==="horizontal"?"vertical":"horizontal"),e===r||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${r}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),i.emit("changeDirection"),n&&i.update()),i}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let i=e||n.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=n,i.shadowEl&&(n.isElement=!0);const r=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=(()=>i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):Ci(i,r())[0])();return!a&&n.params.createElements&&(a=wb("div",n.params.wrapperClass),i.append(a),Ci(i,`.${n.params.slideClass}`).forEach(u=>{a.append(u)})),Object.assign(n,{el:i,wrapperEl:a,slidesEl:n.isElement?i:a,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||Ur(i,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||Ur(i,"direction")==="rtl"),wrongRTL:Ur(a,"display")==="-webkit-box"}),!0}init(e){const n=this;return n.initialized||n.mount(e)===!1||(n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents(),[...n.el.querySelectorAll('[loading="lazy"]')].forEach(r=>{r.complete?Oh(n,r):r.addEventListener("load",s=>{Oh(n,s.target)})}),$v(n),n.initialized=!0,$v(n),n.emit("init"),n.emit("afterInit")),n}destroy(e=!0,n=!0){const i=this,{params:r,el:s,wrapperEl:a,slides:u}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),n&&(i.removeClasses(),s.removeAttribute("style"),a.removeAttribute("style"),u&&u.length&&u.forEach(c=>{c.classList.remove(r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(c=>{i.off(c)}),e!==!1&&(i.el.swiper=null,N$(i)),i.destroyed=!0),null}static extendDefaults(e){Sn(Hm,e)}static get extendedDefaults(){return Hm}static get defaults(){return LS}static installModule(e){qi.prototype.__modules__||(qi.prototype.__modules__=[]);const n=qi.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>qi.installModule(n)),qi):(qi.installModule(e),qi)}};Object.keys(Vm).forEach(t=>{Object.keys(Vm[t]).forEach(e=>{to.prototype[e]=Vm[t][e]})});to.use([V$,H$]);function Cb(t,e,n,i){return t.params.createElements&&Object.keys(i).forEach(r=>{if(!n[r]&&n.auto===!0){let s=Ci(t.el,`.${i[r]}`)[0];s||(s=wb("div",i[r]),s.className=i[r],t.el.append(s)),n[r]=s,e[r]=s}}),n}function kb({swiper:t,extendParams:e,on:n,emit:i}){e({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};const r=E=>(Array.isArray(E)||(E=[E].filter(C=>!!C)),E);function s(E){let C;return E&&typeof E=="string"&&t.isElement&&(C=t.el.shadowRoot.querySelector(E),C)?C:(E&&(typeof E=="string"&&(C=[...document.querySelectorAll(E)]),t.params.uniqueNavElements&&typeof E=="string"&&C.length>1&&t.el.querySelectorAll(E).length===1&&(C=t.el.querySelector(E))),E&&!C?E:C)}function a(E,C){const b=t.params.navigation;E=r(E),E.forEach(v=>{v&&(v.classList[C?"add":"remove"](...b.disabledClass.split(" ")),v.tagName==="BUTTON"&&(v.disabled=C),t.params.watchOverflow&&t.enabled&&v.classList[t.isLocked?"add":"remove"](b.lockClass))})}function u(){const{nextEl:E,prevEl:C}=t.navigation;if(t.params.loop){a(C,!1),a(E,!1);return}a(C,t.isBeginning&&!t.params.rewind),a(E,t.isEnd&&!t.params.rewind)}function c(E){E.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),i("navigationPrev"))}function d(E){E.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),i("navigationNext"))}function p(){const E=t.params.navigation;if(t.params.navigation=Cb(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(E.nextEl||E.prevEl))return;let C=s(E.nextEl),b=s(E.prevEl);Object.assign(t.navigation,{nextEl:C,prevEl:b}),C=r(C),b=r(b);const v=(_,S)=>{_&&_.addEventListener("click",S==="next"?d:c),!t.enabled&&_&&_.classList.add(...E.lockClass.split(" "))};C.forEach(_=>v(_,"next")),b.forEach(_=>v(_,"prev"))}function g(){let{nextEl:E,prevEl:C}=t.navigation;E=r(E),C=r(C);const b=(v,_)=>{v.removeEventListener("click",_==="next"?d:c),v.classList.remove(...t.params.navigation.disabledClass.split(" "))};E.forEach(v=>b(v,"next")),C.forEach(v=>b(v,"prev"))}n("init",()=>{t.params.navigation.enabled===!1?w():(p(),u())}),n("toEdge fromEdge lock unlock",()=>{u()}),n("destroy",()=>{g()}),n("enable disable",()=>{let{nextEl:E,prevEl:C}=t.navigation;E=r(E),C=r(C),[...E,...C].filter(b=>!!b).forEach(b=>b.classList[t.enabled?"remove":"add"](t.params.navigation.lockClass))}),n("click",(E,C)=>{let{nextEl:b,prevEl:v}=t.navigation;b=r(b),v=r(v);const _=C.target;if(t.params.navigation.hideOnClick&&!v.includes(_)&&!b.includes(_)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===_||t.pagination.el.contains(_)))return;let S;b.length?S=b[0].classList.contains(t.params.navigation.hiddenClass):v.length&&(S=v[0].classList.contains(t.params.navigation.hiddenClass)),i(S===!0?"navigationShow":"navigationHide"),[...b,...v].filter(k=>!!k).forEach(k=>k.classList.toggle(t.params.navigation.hiddenClass))}});const y=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),p(),u()},w=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),g()};Object.assign(t.navigation,{enable:y,disable:w,update:u,init:p,destroy:g})}function pl(t=""){return`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function bb({swiper:t,extendParams:e,on:n,emit:i}){const r="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:v=>v,formatFractionTotal:v=>v,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),t.pagination={el:null,bullets:[]};let s,a=0;const u=v=>(Array.isArray(v)||(v=[v].filter(_=>!!_)),v);function c(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&t.pagination.el.length===0}function d(v,_){const{bulletActiveClass:S}=t.params.pagination;v&&(v=v[`${_==="prev"?"previous":"next"}ElementSibling`],v&&(v.classList.add(`${S}-${_}`),v=v[`${_==="prev"?"previous":"next"}ElementSibling`],v&&v.classList.add(`${S}-${_}-${_}`)))}function p(v){const _=v.target.closest(pl(t.params.pagination.bulletClass));if(!_)return;v.preventDefault();const S=Od(_)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===S)return;const k=t.getSlideIndexByData(S),P=t.getSlideIndexByData(t.realIndex);k>t.slides.length-t.loopedSlides&&t.loopFix({direction:k>P?"next":"prev",activeSlideIndex:k,slideTo:!1}),t.slideToLoop(S)}else t.slideTo(S)}function g(){const v=t.rtl,_=t.params.pagination;if(c())return;let S=t.pagination.el;S=u(S);let k,P;const O=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,z=t.params.loop?Math.ceil(O/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(P=t.previousRealIndex||0,k=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):typeof t.snapIndex<"u"?(k=t.snapIndex,P=t.previousSnapIndex):(P=t.previousIndex||0,k=t.activeIndex||0),_.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const N=t.pagination.bullets;let j,Y,F;if(_.dynamicBullets&&(s=Dv(N[0],t.isHorizontal()?"width":"height",!0),S.forEach($=>{$.style[t.isHorizontal()?"width":"height"]=`${s*(_.dynamicMainBullets+4)}px`}),_.dynamicMainBullets>1&&P!==void 0&&(a+=k-(P||0),a>_.dynamicMainBullets-1?a=_.dynamicMainBullets-1:a<0&&(a=0)),j=Math.max(k-a,0),Y=j+(Math.min(N.length,_.dynamicMainBullets)-1),F=(Y+j)/2),N.forEach($=>{const q=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(ie=>`${_.bulletActiveClass}${ie}`)].map(ie=>typeof ie=="string"&&ie.includes(" ")?ie.split(" "):ie).flat();$.classList.remove(...q)}),S.length>1)N.forEach($=>{const q=Od($);q===k&&$.classList.add(..._.bulletActiveClass.split(" ")),_.dynamicBullets&&(q>=j&&q<=Y&&$.classList.add(...`${_.bulletActiveClass}-main`.split(" ")),q===j&&d($,"prev"),q===Y&&d($,"next"))});else{const $=N[k];if($&&$.classList.add(..._.bulletActiveClass.split(" ")),_.dynamicBullets){const q=N[j],ie=N[Y];for(let Ce=j;Ce<=Y;Ce+=1)N[Ce]&&N[Ce].classList.add(...`${_.bulletActiveClass}-main`.split(" "));d(q,"prev"),d(ie,"next")}}if(_.dynamicBullets){const $=Math.min(N.length,_.dynamicMainBullets+4),q=(s*$-s)/2-F*s,ie=v?"right":"left";N.forEach(Ce=>{Ce.style[t.isHorizontal()?ie:"top"]=`${q}px`})}}S.forEach((N,j)=>{if(_.type==="fraction"&&(N.querySelectorAll(pl(_.currentClass)).forEach(Y=>{Y.textContent=_.formatFractionCurrent(k+1)}),N.querySelectorAll(pl(_.totalClass)).forEach(Y=>{Y.textContent=_.formatFractionTotal(z)})),_.type==="progressbar"){let Y;_.progressbarOpposite?Y=t.isHorizontal()?"vertical":"horizontal":Y=t.isHorizontal()?"horizontal":"vertical";const F=(k+1)/z;let $=1,q=1;Y==="horizontal"?$=F:q=F,N.querySelectorAll(pl(_.progressbarFillClass)).forEach(ie=>{ie.style.transform=`translate3d(0,0,0) scaleX(${$}) scaleY(${q})`,ie.style.transitionDuration=`${t.params.speed}ms`})}_.type==="custom"&&_.renderCustom?(N.innerHTML=_.renderCustom(t,k+1,z),j===0&&i("paginationRender",N)):(j===0&&i("paginationRender",N),i("paginationUpdate",N)),t.params.watchOverflow&&t.enabled&&N.classList[t.isLocked?"add":"remove"](_.lockClass)})}function y(){const v=t.params.pagination;if(c())return;const _=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length;let S=t.pagination.el;S=u(S);let k="";if(v.type==="bullets"){let P=t.params.loop?Math.ceil(_/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&P>_&&(P=_);for(let O=0;O<P;O+=1)v.renderBullet?k+=v.renderBullet.call(t,O,v.bulletClass):k+=`<${v.bulletElement} class="${v.bulletClass}"></${v.bulletElement}>`}v.type==="fraction"&&(v.renderFraction?k=v.renderFraction.call(t,v.currentClass,v.totalClass):k=`<span class="${v.currentClass}"></span> / <span class="${v.totalClass}"></span>`),v.type==="progressbar"&&(v.renderProgressbar?k=v.renderProgressbar.call(t,v.progressbarFillClass):k=`<span class="${v.progressbarFillClass}"></span>`),t.pagination.bullets=[],S.forEach(P=>{v.type!=="custom"&&(P.innerHTML=k||""),v.type==="bullets"&&t.pagination.bullets.push(...P.querySelectorAll(pl(v.bulletClass)))}),v.type!=="custom"&&i("paginationRender",S[0])}function w(){t.params.pagination=Cb(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const v=t.params.pagination;if(!v.el)return;let _;typeof v.el=="string"&&t.isElement&&(_=t.el.shadowRoot.querySelector(v.el)),!_&&typeof v.el=="string"&&(_=[...document.querySelectorAll(v.el)]),_||(_=v.el),!(!_||_.length===0)&&(t.params.uniqueNavElements&&typeof v.el=="string"&&Array.isArray(_)&&_.length>1&&(_=[...t.el.querySelectorAll(v.el)],_.length>1&&(_=_.filter(S=>xb(S,".swiper")[0]===t.el)[0])),Array.isArray(_)&&_.length===1&&(_=_[0]),Object.assign(t.pagination,{el:_}),_=u(_),_.forEach(S=>{v.type==="bullets"&&v.clickable&&S.classList.add(v.clickableClass),S.classList.add(v.modifierClass+v.type),S.classList.add(t.isHorizontal()?v.horizontalClass:v.verticalClass),v.type==="bullets"&&v.dynamicBullets&&(S.classList.add(`${v.modifierClass}${v.type}-dynamic`),a=0,v.dynamicMainBullets<1&&(v.dynamicMainBullets=1)),v.type==="progressbar"&&v.progressbarOpposite&&S.classList.add(v.progressbarOppositeClass),v.clickable&&S.addEventListener("click",p),t.enabled||S.classList.add(v.lockClass)}))}function E(){const v=t.params.pagination;if(c())return;let _=t.pagination.el;_&&(_=u(_),_.forEach(S=>{S.classList.remove(v.hiddenClass),S.classList.remove(v.modifierClass+v.type),S.classList.remove(t.isHorizontal()?v.horizontalClass:v.verticalClass),v.clickable&&S.removeEventListener("click",p)})),t.pagination.bullets&&t.pagination.bullets.forEach(S=>S.classList.remove(...v.bulletActiveClass.split(" ")))}n("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const v=t.params.pagination;let{el:_}=t.pagination;_=u(_),_.forEach(S=>{S.classList.remove(v.horizontalClass,v.verticalClass),S.classList.add(t.isHorizontal()?v.horizontalClass:v.verticalClass)})}),n("init",()=>{t.params.pagination.enabled===!1?b():(w(),y(),g())}),n("activeIndexChange",()=>{typeof t.snapIndex>"u"&&g()}),n("snapIndexChange",()=>{g()}),n("snapGridLengthChange",()=>{y(),g()}),n("destroy",()=>{E()}),n("enable disable",()=>{let{el:v}=t.pagination;v&&(v=u(v),v.forEach(_=>_.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),n("lock unlock",()=>{g()}),n("click",(v,_)=>{const S=_.target;let{el:k}=t.pagination;if(Array.isArray(k)||(k=[k].filter(P=>!!P)),t.params.pagination.el&&t.params.pagination.hideOnClick&&k&&k.length>0&&!S.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&S===t.navigation.nextEl||t.navigation.prevEl&&S===t.navigation.prevEl))return;const P=k[0].classList.contains(t.params.pagination.hiddenClass);i(P===!0?"paginationShow":"paginationHide"),k.forEach(O=>O.classList.toggle(t.params.pagination.hiddenClass))}});const C=()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:v}=t.pagination;v&&(v=u(v),v.forEach(_=>_.classList.remove(t.params.pagination.paginationDisabledClass))),w(),y(),g()},b=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:v}=t.pagination;v&&(v=u(v),v.forEach(_=>_.classList.add(t.params.pagination.paginationDisabledClass))),E()};Object.assign(t.pagination,{enable:C,disable:b,render:y,update:g,init:w,destroy:E})}function Ib({swiper:t,extendParams:e,on:n,emit:i,params:r}){t.autoplay={running:!1,paused:!1,timeLeft:0},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let s,a,u=r&&r.autoplay?r.autoplay.delay:3e3,c=r&&r.autoplay?r.autoplay.delay:3e3,d,p=new Date().getTime,g,y,w,E,C,b;function v(ee){!t||t.destroyed||!t.wrapperEl||ee.target===t.wrapperEl&&(t.wrapperEl.removeEventListener("transitionend",v),N())}const _=()=>{if(t.destroyed||!t.autoplay.running)return;t.autoplay.paused?g=!0:g&&(c=d,g=!1);const ee=t.autoplay.paused?d:p+c-new Date().getTime();t.autoplay.timeLeft=ee,i("autoplayTimeLeft",ee,ee/u),a=requestAnimationFrame(()=>{_()})},S=()=>{let ee;return t.virtual&&t.params.virtual.enabled?ee=t.slides.filter(D=>D.classList.contains("swiper-slide-active"))[0]:ee=t.slides[t.activeIndex],ee?parseInt(ee.getAttribute("data-swiper-autoplay"),10):void 0},k=ee=>{if(t.destroyed||!t.autoplay.running)return;cancelAnimationFrame(a),_();let _e=typeof ee>"u"?t.params.autoplay.delay:ee;u=t.params.autoplay.delay,c=t.params.autoplay.delay;const D=S();!Number.isNaN(D)&&D>0&&typeof ee>"u"&&(_e=D,u=D,c=D),d=_e;const Z=t.params.speed,V=()=>{!t||t.destroyed||(t.params.autoplay.reverseDirection?!t.isBeginning||t.params.loop||t.params.rewind?(t.slidePrev(Z,!0,!0),i("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(t.slides.length-1,Z,!0,!0),i("autoplay")):!t.isEnd||t.params.loop||t.params.rewind?(t.slideNext(Z,!0,!0),i("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(0,Z,!0,!0),i("autoplay")),t.params.cssMode&&(p=new Date().getTime(),requestAnimationFrame(()=>{k()})))};return _e>0?(clearTimeout(s),s=setTimeout(()=>{V()},_e)):requestAnimationFrame(()=>{V()}),_e},P=()=>{t.autoplay.running=!0,k(),i("autoplayStart")},O=()=>{t.autoplay.running=!1,clearTimeout(s),cancelAnimationFrame(a),i("autoplayStop")},z=(ee,_e)=>{if(t.destroyed||!t.autoplay.running)return;clearTimeout(s),ee||(b=!0);const D=()=>{i("autoplayPause"),t.params.autoplay.waitForTransition?t.wrapperEl.addEventListener("transitionend",v):N()};if(t.autoplay.paused=!0,_e){C&&(d=t.params.autoplay.delay),C=!1,D();return}d=(d||t.params.autoplay.delay)-(new Date().getTime()-p),!(t.isEnd&&d<0&&!t.params.loop)&&(d<0&&(d=0),D())},N=()=>{t.isEnd&&d<0&&!t.params.loop||t.destroyed||!t.autoplay.running||(p=new Date().getTime(),b?(b=!1,k(d)):k(),t.autoplay.paused=!1,i("autoplayResume"))},j=()=>{if(t.destroyed||!t.autoplay.running)return;const ee=Ni();ee.visibilityState==="hidden"&&(b=!0,z(!0)),ee.visibilityState==="visible"&&N()},Y=ee=>{ee.pointerType==="mouse"&&(b=!0,z(!0))},F=ee=>{ee.pointerType==="mouse"&&t.autoplay.paused&&N()},$=()=>{t.params.autoplay.pauseOnMouseEnter&&(t.el.addEventListener("pointerenter",Y),t.el.addEventListener("pointerleave",F))},q=()=>{t.el.removeEventListener("pointerenter",Y),t.el.removeEventListener("pointerleave",F)},ie=()=>{Ni().addEventListener("visibilitychange",j)},Ce=()=>{Ni().removeEventListener("visibilitychange",j)};n("init",()=>{t.params.autoplay.enabled&&($(),ie(),p=new Date().getTime(),P())}),n("destroy",()=>{q(),Ce(),t.autoplay.running&&O()}),n("beforeTransitionStart",(ee,_e,D)=>{t.destroyed||!t.autoplay.running||(D||!t.params.autoplay.disableOnInteraction?z(!0,!0):O())}),n("sliderFirstMove",()=>{if(!(t.destroyed||!t.autoplay.running)){if(t.params.autoplay.disableOnInteraction){O();return}y=!0,w=!1,b=!1,E=setTimeout(()=>{b=!0,w=!0,z(!0)},200)}}),n("touchEnd",()=>{if(!(t.destroyed||!t.autoplay.running||!y)){if(clearTimeout(E),clearTimeout(s),t.params.autoplay.disableOnInteraction){w=!1,y=!1;return}w&&t.params.cssMode&&N(),w=!1,y=!1}}),n("slideChange",()=>{t.destroyed||!t.autoplay.running||(C=!0)}),Object.assign(t.autoplay,{start:P,stop:O,pause:z,resume:N})}function Zz(t){const{effect:e,swiper:n,on:i,setTranslate:r,setTransition:s,overwriteParams:a,perspective:u,recreateShadows:c,getEffectParams:d}=t;i("beforeInit",()=>{if(n.params.effect!==e)return;n.classNames.push(`${n.params.containerModifierClass}${e}`),u&&u()&&n.classNames.push(`${n.params.containerModifierClass}3d`);const g=a?a():{};Object.assign(n.params,g),Object.assign(n.originalParams,g)}),i("setTranslate",()=>{n.params.effect===e&&r()}),i("setTransition",(g,y)=>{n.params.effect===e&&s(y)}),i("transitionEnd",()=>{if(n.params.effect===e&&c){if(!d||!d().slideShadows)return;n.slides.forEach(g=>{g.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(y=>y.remove())}),c()}});let p;i("virtualUpdate",()=>{n.params.effect===e&&(n.slides.length||(p=!0),requestAnimationFrame(()=>{p&&n.slides&&n.slides.length&&(r(),p=!1)}))})}function Kz(t,e){const n=_b(e);return n!==e&&(n.style.backfaceVisibility="hidden",n.style["-webkit-backface-visibility"]="hidden"),n}function Qz({swiper:t,duration:e,transformElements:n,allSlides:i}){const{activeIndex:r}=t,s=a=>a.parentElement?a.parentElement:t.slides.filter(c=>c.shadowEl&&c.shadowEl===a.parentNode)[0];if(t.params.virtualTranslate&&e!==0){let a=!1,u;i?u=n:u=n.filter(c=>{const d=c.classList.contains("swiper-slide-transform")?s(c):c;return t.getSlideIndex(d)===r}),u.forEach(c=>{$$(c,()=>{if(a||!t||t.destroyed)return;a=!0,t.animating=!1;const d=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});t.wrapperEl.dispatchEvent(d)})})}}function Pb({swiper:t,extendParams:e,on:n}){e({fadeEffect:{crossFade:!1}}),Zz({effect:"fade",swiper:t,on:n,setTranslate:()=>{const{slides:s}=t,a=t.params.fadeEffect;for(let u=0;u<s.length;u+=1){const c=t.slides[u];let p=-c.swiperSlideOffset;t.params.virtualTranslate||(p-=t.translate);let g=0;t.isHorizontal()||(g=p,p=0);const y=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(c.progress),0):1+Math.min(Math.max(c.progress,-1),0),w=Kz(a,c);w.style.opacity=y,w.style.transform=`translate3d(${p}px, ${g}px, 0px)`}},setTransition:s=>{const a=t.slides.map(u=>_b(u));a.forEach(u=>{u.style.transitionDuration=`${s}ms`}),Qz({swiper:t,duration:s,transformElements:a,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})}function no(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function jr(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:no(e[i])&&no(t[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?t[i]=e[i]:jr(t[i],e[i]):t[i]=e[i]})}function Lb(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function Nb(t={}){return t.pagination&&typeof t.pagination.el>"u"}function Mb(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function Ob(t=""){const e=t.split(" ").map(i=>i.trim()).filter(i=>!!i),n=[];return e.forEach(i=>{n.indexOf(i)<0&&n.push(i)}),n.join(" ")}function Xz(t=""){return t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}const Ab=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Jz(t={},e=!0){const n={on:{}},i={},r={};jr(n,to.defaults),jr(n,to.extendedDefaults),n._emitClasses=!0,n.init=!1;const s={},a=Ab.map(c=>c.replace(/_/,"")),u=Object.assign({},t);return Object.keys(u).forEach(c=>{typeof t[c]>"u"||(a.indexOf(c)>=0?no(t[c])?(n[c]={},r[c]={},jr(n[c],t[c]),jr(r[c],t[c])):(n[c]=t[c],r[c]=t[c]):c.search(/on[A-Z]/)===0&&typeof t[c]=="function"?e?i[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:n.on[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:s[c]=t[c])}),["navigation","pagination","scrollbar"].forEach(c=>{n[c]===!0&&(n[c]={}),n[c]===!1&&delete n[c]}),{params:n,passedParams:r,rest:s,events:i}}function e5({el:t,nextEl:e,prevEl:n,paginationEl:i,scrollbarEl:r,swiper:s},a){Lb(a)&&e&&n&&(s.params.navigation.nextEl=e,s.originalParams.navigation.nextEl=e,s.params.navigation.prevEl=n,s.originalParams.navigation.prevEl=n),Nb(a)&&i&&(s.params.pagination.el=i,s.originalParams.pagination.el=i),Mb(a)&&r&&(s.params.scrollbar.el=r,s.originalParams.scrollbar.el=r),s.init(t)}function t5(t,e,n,i,r){const s=[];if(!e)return s;const a=c=>{s.indexOf(c)<0&&s.push(c)};if(n&&i){const c=i.map(r),d=n.map(r);c.join("")!==d.join("")&&a("children"),i.length!==n.length&&a("children")}return Ab.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in t&&c in e)if(no(t[c])&&no(e[c])){const d=Object.keys(t[c]),p=Object.keys(e[c]);d.length!==p.length?a(c):(d.forEach(g=>{t[c][g]!==e[c][g]&&a(c)}),p.forEach(g=>{t[c][g]!==e[c][g]&&a(c)}))}else t[c]!==e[c]&&a(c)}),s}function Rb(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function Db(t){const e=[];return le.Children.toArray(t).forEach(n=>{Rb(n)?e.push(n):n.props&&n.props.children&&Db(n.props.children).forEach(i=>e.push(i))}),e}function n5(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return le.Children.toArray(t).forEach(i=>{if(Rb(i))e.push(i);else if(i.props&&i.props.slot&&n[i.props.slot])n[i.props.slot].push(i);else if(i.props&&i.props.children){const r=Db(i.props.children);r.length>0?r.forEach(s=>e.push(s)):n["container-end"].push(i)}else n["container-end"].push(i)}),{slides:e,slots:n}}function i5({swiper:t,slides:e,passedParams:n,changedParams:i,nextEl:r,prevEl:s,scrollbarEl:a,paginationEl:u}){const c=i.filter(N=>N!=="children"&&N!=="direction"&&N!=="wrapperClass"),{params:d,pagination:p,navigation:g,scrollbar:y,virtual:w,thumbs:E}=t;let C,b,v,_,S,k,P,O;i.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&d.thumbs&&!d.thumbs.swiper&&(C=!0),i.includes("controller")&&n.controller&&n.controller.control&&d.controller&&!d.controller.control&&(b=!0),i.includes("pagination")&&n.pagination&&(n.pagination.el||u)&&(d.pagination||d.pagination===!1)&&p&&!p.el&&(v=!0),i.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||a)&&(d.scrollbar||d.scrollbar===!1)&&y&&!y.el&&(_=!0),i.includes("navigation")&&n.navigation&&(n.navigation.prevEl||s)&&(n.navigation.nextEl||r)&&(d.navigation||d.navigation===!1)&&g&&!g.prevEl&&!g.nextEl&&(S=!0);const z=N=>{t[N]&&(t[N].destroy(),N==="navigation"?(t.isElement&&(t[N].prevEl.remove(),t[N].nextEl.remove()),d[N].prevEl=void 0,d[N].nextEl=void 0,t[N].prevEl=void 0,t[N].nextEl=void 0):(t.isElement&&t[N].el.remove(),d[N].el=void 0,t[N].el=void 0))};i.includes("loop")&&t.isElement&&(d.loop&&!n.loop?k=!0:!d.loop&&n.loop?P=!0:O=!0),c.forEach(N=>{if(no(d[N])&&no(n[N]))jr(d[N],n[N]),(N==="navigation"||N==="pagination"||N==="scrollbar")&&"enabled"in n[N]&&!n[N].enabled&&z(N);else{const j=n[N];(j===!0||j===!1)&&(N==="navigation"||N==="pagination"||N==="scrollbar")?j===!1&&z(N):d[N]=n[N]}}),c.includes("controller")&&!b&&t.controller&&t.controller.control&&d.controller&&d.controller.control&&(t.controller.control=d.controller.control),i.includes("children")&&e&&w&&d.virtual.enabled&&(w.slides=e,w.update(!0)),i.includes("children")&&e&&d.loop&&(O=!0),C&&E.init()&&E.update(!0),b&&(t.controller.control=d.controller.control),v&&(t.isElement&&(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-pagination"),t.el.shadowEl.appendChild(u)),u&&(d.pagination.el=u),p.init(),p.render(),p.update()),_&&(t.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),t.el.shadowEl.appendChild(a)),a&&(d.scrollbar.el=a),y.init(),y.updateSize(),y.setTranslate()),S&&(t.isElement&&((!r||typeof r=="string")&&(r=document.createElement("div"),r.classList.add("swiper-button-next"),t.el.shadowEl.appendChild(r)),(!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-prev"),t.el.shadowEl.appendChild(s))),r&&(d.navigation.nextEl=r),s&&(d.navigation.prevEl=s),g.init(),g.update()),i.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),i.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),i.includes("direction")&&t.changeDirection(n.direction,!1),(k||O)&&t.loopDestroy(),(P||O)&&t.loopCreate(),t.update()}function r5(t,e,n){if(!n)return null;const i=p=>{let g=p;return p<0?g=e.length+p:g>=e.length&&(g=g-e.length),g},r=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:a}=n,u=t.params.loop?-e.length:0,c=t.params.loop?e.length*2:e.length,d=[];for(let p=u;p<c;p+=1)p>=s&&p<=a&&d.push(e[i(p)]);return d.map((p,g)=>le.cloneElement(p,{swiper:t,style:r,key:`slide-${g}`}))}const s5=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Vl(t,e){return typeof window>"u"?M.useEffect(t,e):M.useLayoutEffect(t,e)}const NS=M.createContext(null),o5=M.createContext(null);function zv(){return zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},zv.apply(this,arguments)}const o0=M.forwardRef(function(t,e){let{className:n,tag:i="div",wrapperTag:r="div",children:s,onSwiper:a,...u}=t===void 0?{}:t,c=!1;const[d,p]=M.useState("swiper"),[g,y]=M.useState(null),[w,E]=M.useState(!1),C=M.useRef(!1),b=M.useRef(null),v=M.useRef(null),_=M.useRef(null),S=M.useRef(null),k=M.useRef(null),P=M.useRef(null),O=M.useRef(null),z=M.useRef(null),{params:N,passedParams:j,rest:Y,events:F}=Jz(u),{slides:$,slots:q}=n5(s),ie=()=>{E(!w)};Object.assign(N.on,{_containerClasses(Z,V){p(V)}});const Ce=()=>{Object.assign(N.on,F),c=!0;const Z={...N};if(delete Z.wrapperClass,v.current=new to(Z),v.current.virtual&&v.current.params.virtual.enabled){v.current.virtual.slides=$;const V={cache:!1,slides:$,renderExternal:y,renderExternalUpdate:!1};jr(v.current.params.virtual,V),jr(v.current.originalParams.virtual,V)}};b.current||Ce(),v.current&&v.current.on("_beforeBreakpoint",ie);const ee=()=>{c||!F||!v.current||Object.keys(F).forEach(Z=>{v.current.on(Z,F[Z])})},_e=()=>{!F||!v.current||Object.keys(F).forEach(Z=>{v.current.off(Z,F[Z])})};M.useEffect(()=>()=>{v.current&&v.current.off("_beforeBreakpoint",ie)}),M.useEffect(()=>{!C.current&&v.current&&(v.current.emitSlidesClasses(),C.current=!0)}),Vl(()=>{if(e&&(e.current=b.current),!!b.current)return v.current.destroyed&&Ce(),e5({el:b.current,nextEl:k.current,prevEl:P.current,paginationEl:O.current,scrollbarEl:z.current,swiper:v.current},N),a&&a(v.current),()=>{v.current&&!v.current.destroyed&&v.current.destroy(!0,!1)}},[]),Vl(()=>{ee();const Z=t5(j,_.current,$,S.current,V=>V.key);return _.current=j,S.current=$,Z.length&&v.current&&!v.current.destroyed&&i5({swiper:v.current,slides:$,passedParams:j,changedParams:Z,nextEl:k.current,prevEl:P.current,scrollbarEl:z.current,paginationEl:O.current}),()=>{_e()}}),Vl(()=>{s5(v.current)},[g]);function D(){return N.virtual?r5(v.current,$,g):$.map((Z,V)=>le.cloneElement(Z,{swiper:v.current,swiperSlideIndex:V}))}return le.createElement(i,zv({ref:b,className:Ob(`${d}${n?` ${n}`:""}`)},Y),le.createElement(o5.Provider,{value:v.current},q["container-start"],le.createElement(r,{className:Xz(N.wrapperClass)},q["wrapper-start"],D(),q["wrapper-end"]),Lb(N)&&le.createElement(le.Fragment,null,le.createElement("div",{ref:P,className:"swiper-button-prev"}),le.createElement("div",{ref:k,className:"swiper-button-next"})),Mb(N)&&le.createElement("div",{ref:z,className:"swiper-scrollbar"}),Nb(N)&&le.createElement("div",{ref:O,className:"swiper-pagination"}),q["container-end"]))});o0.displayName="Swiper";function Fv(){return Fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Fv.apply(this,arguments)}const a0=M.forwardRef(function(t,e){let{tag:n="div",children:i,className:r="",swiper:s,zoom:a,lazy:u,virtualIndex:c,swiperSlideIndex:d,...p}=t===void 0?{}:t;const g=M.useRef(null),[y,w]=M.useState("swiper-slide"),[E,C]=M.useState(!1);function b(k,P,O){P===g.current&&w(O)}Vl(()=>{if(typeof d<"u"&&(g.current.swiperSlideIndex=d),e&&(e.current=g.current),!(!g.current||!s)){if(s.destroyed){y!=="swiper-slide"&&w("swiper-slide");return}return s.on("_slideClass",b),()=>{s&&s.off("_slideClass",b)}}}),Vl(()=>{s&&g.current&&!s.destroyed&&w(s.getSlideClasses(g.current))},[s]);const v={isActive:y.indexOf("swiper-slide-active")>=0,isVisible:y.indexOf("swiper-slide-visible")>=0,isPrev:y.indexOf("swiper-slide-prev")>=0,isNext:y.indexOf("swiper-slide-next")>=0},_=()=>typeof i=="function"?i(v):i,S=()=>{C(!0)};return le.createElement(n,Fv({ref:g,className:Ob(`${y}${r?` ${r}`:""}`),"data-swiper-slide-index":c,onLoad:S},p),a&&le.createElement(NS.Provider,{value:v},le.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof a=="number"?a:void 0},_(),u&&!E&&le.createElement("div",{className:"swiper-lazy-preloader"}))),!a&&le.createElement(NS.Provider,{value:v},_(),u&&!E&&le.createElement("div",{className:"swiper-lazy-preloader"})))});a0.displayName="SwiperSlide";const a5=()=>{const[t,e]=M.useState(null),[n,i]=M.useState(!0);to.use([Ib,kb,bb]);const r=$i();return M.useEffect(()=>{(async()=>{const a=q_(oi,"listings"),u=ab(a,lb("timestamp","asc"),_$(5)),c=await pb(u);let d=[];c.forEach(p=>d.push({id:p.id,data:p.data()})),e(d),i(!1)})()},[]),n?T.jsx(sc,{}):t.length===0?T.jsx(T.Fragment,{}):t&&T.jsx(T.Fragment,{children:T.jsx(o0,{slidesPerView:1,navigation:!0,pagination:{type:"bullets"},effect:"fade",modules:[Pb],autoplay:{delay:3e3},children:t.map(({data:s,id:a})=>T.jsxs(a0,{onClick:()=>{r(`/category/${s.type}/${a}`)},children:[T.jsx("div",{style:{background:`url(${s.imgUrls[0]}) center, no-repeat`,backgroundSize:"cover"},className:"relative w-full h-[400px] overflow-hidden cursor-pointc"}),T.jsx("p",{className:"text-[#e2e2e2] absolute left-1 top-3 font-medium max-w-[90%] bg-[#10192D] shadow-lg opacity-90 p-2 rounded-br-3xl",children:s.name}),T.jsxs("p",{className:"text-[#10192D] absolute left-1 bottom-3 font-semibold max-w-[90%] bg-[#007aff] shadow-lg opacity-90 p-2 rounded-tr-3xl",children:["Ksh"," ",s.discount?s.discount.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):s.cost.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),s.type==="rent"&&" /month"]})]},a))})})},l5=()=>T.jsx("div",{children:T.jsx(a5,{})}),u5="/assets/profile-82cca049.png";function l0(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function $b(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c5=$b,zb=new ju("auth","Firebase",$b());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad=new Xy("@firebase/auth");function h5(t,...e){Ad.logLevel<=Re.WARN&&Ad.warn(`Auth (${uo}): ${t}`,...e)}function Ah(t,...e){Ad.logLevel<=Re.ERROR&&Ad.error(`Auth (${uo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(t,...e){throw u0(t,...e)}function Mi(t,...e){return u0(t,...e)}function Fb(t,e,n){const i=Object.assign(Object.assign({},c5()),{[e]:n});return new ju("auth","Firebase",i).create(e,{appName:t.name})}function d5(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Yn(t,"argument-error"),Fb(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function u0(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return zb.create(t,...e)}function he(t,e,...n){if(!t)throw u0(e,...n)}function tr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ah(e),new Error(e)}function yr(t,e){t||tr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function f5(){return MS()==="http:"||MS()==="https:"}function MS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(f5()||nR()||"connection"in navigator)?navigator.onLine:!0}function m5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n){this.shortDelay=e,this.longDelay=n,yr(n>e,"Short delay should be less than long delay!"),this.isMobile=eR()||iR()}get(){return p5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(t,e){yr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5=new oc(3e4,6e4);function mo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ys(t,e,n,i,r={}){return jb(t,r,async()=>{let s={},a={};i&&(e==="GET"?a=i:s={body:JSON.stringify(i)});const u=Bu(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),Ub.fetch()(Bb(t,t.config.apiHost,n,u),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))})}async function jb(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},g5),e);try{const r=new y5(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw uh(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const u=s.ok?a.errorMessage:a.error.message,[c,d]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw uh(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw uh(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw uh(t,"user-disabled",a);const p=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Fb(t,p,d);Yn(t,p)}}catch(r){if(r instanceof zi)throw r;Yn(t,"network-request-failed",{message:String(r)})}}async function ac(t,e,n,i,r={}){const s=await ys(t,e,n,i,r);return"mfaPendingCredential"in s&&Yn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Bb(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?c0(t.config,r):`${t.config.apiScheme}://${r}`}class y5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Mi(this.auth,"network-request-failed")),v5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function uh(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Mi(t,e,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _5(t,e){return ys(t,"POST","/v1/accounts:delete",e)}async function w5(t,e){return ys(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function x5(t,e=!1){const n=lt(t),i=await n.getIdToken(e),r=h0(i);he(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Hl(Wm(r.auth_time)),issuedAtTime:Hl(Wm(r.iat)),expirationTime:Hl(Wm(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Wm(t){return Number(t)*1e3}function h0(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Ah("JWT malformed, contained fewer than 3 sections"),null;try{const r=RC(n);return r?JSON.parse(r):(Ah("Failed to decode base64 JWT payload"),null)}catch(r){return Ah("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function S5(t){const e=h0(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ca(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof zi&&T5(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function T5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hl(this.lastLoginAt),this.creationTime=Hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rd(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Ca(t,w5(n,{idToken:i}));he(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?b5(s.providerUserInfo):[],u=k5(t.providerData,a),c=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(u!=null&&u.length),p=c?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new Vb(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function C5(t){const e=lt(t);await Rd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function k5(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function b5(t){return t.map(e=>{var{providerId:n}=e,i=l0(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I5(t,e){const n=await jb(t,{},async()=>{const i=Bu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,a=Bb(t,r,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",Ub.fetch()(a,{method:"POST",headers:u,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):S5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return he(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await I5(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new Nu;return i&&(he(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(he(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),s&&(he(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nu,this.toJSON())}_performRefresh(){return tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class js{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=l0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new E5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Vb(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ca(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return x5(this,e)}reload(){return C5(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new js(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Rd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ca(this,_5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,a,u,c,d,p;const g=(i=n.displayName)!==null&&i!==void 0?i:void 0,y=(r=n.email)!==null&&r!==void 0?r:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(a=n.photoURL)!==null&&a!==void 0?a:void 0,C=(u=n.tenantId)!==null&&u!==void 0?u:void 0,b=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,v=(d=n.createdAt)!==null&&d!==void 0?d:void 0,_=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:S,emailVerified:k,isAnonymous:P,providerData:O,stsTokenManager:z}=n;he(S&&z,e,"internal-error");const N=Nu.fromJSON(this.name,z);he(typeof S=="string",e,"internal-error"),br(g,e.name),br(y,e.name),he(typeof k=="boolean",e,"internal-error"),he(typeof P=="boolean",e,"internal-error"),br(w,e.name),br(E,e.name),br(C,e.name),br(b,e.name),br(v,e.name),br(_,e.name);const j=new js({uid:S,auth:e,email:y,emailVerified:k,displayName:g,isAnonymous:P,photoURL:E,phoneNumber:w,tenantId:C,stsTokenManager:N,createdAt:v,lastLoginAt:_});return O&&Array.isArray(O)&&(j.providerData=O.map(Y=>Object.assign({},Y))),b&&(j._redirectEventId=b),j}static async _fromIdTokenResponse(e,n,i=!1){const r=new Nu;r.updateFromServerResponse(n);const s=new js({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Rd(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=new Map;function nr(t){yr(t instanceof Function,"Expected a class definition");let e=OS.get(t);return e?(yr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,OS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Hb.type="NONE";const AS=Hb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(t,e,n){return`firebase:${t}:${e}:${n}`}class sa{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Rh(this.userKey,r.apiKey,s),this.fullPersistenceKey=Rh("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?js._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new sa(nr(AS),e,i);const r=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=r[0]||nr(AS);const a=Rh(i,e.config.apiKey,e.name);let u=null;for(const d of n)try{const p=await d._get(a);if(p){const g=js._fromJSON(e,p);d!==s&&(u=g),s=d;break}}catch{}const c=r.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new sa(s,e,i):(s=c[0],u&&await s._set(a,u.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(a)}catch{}})),new sa(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Wb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zb(e))return"Blackberry";if(Kb(e))return"Webos";if(d0(e))return"Safari";if((e.includes("chrome/")||Gb(e))&&!e.includes("edge/"))return"Chrome";if(Yb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Wb(t=Kt()){return/firefox\//i.test(t)}function d0(t=Kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Gb(t=Kt()){return/crios\//i.test(t)}function qb(t=Kt()){return/iemobile/i.test(t)}function Yb(t=Kt()){return/android/i.test(t)}function Zb(t=Kt()){return/blackberry/i.test(t)}function Kb(t=Kt()){return/webos/i.test(t)}function Zf(t=Kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function P5(t=Kt()){var e;return Zf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function L5(){return rR()&&document.documentMode===10}function Qb(t=Kt()){return Zf(t)||Yb(t)||Kb(t)||Zb(t)||/windows phone/i.test(t)||qb(t)}function N5(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(t,e=[]){let n;switch(t){case"Browser":n=RS(Kt());break;case"Worker":n=`${RS(Kt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${uo}/${i}`}async function Jb(t,e){return ys(t,"GET","/v2/recaptchaConfig",mo(t,e))}function DS(t){return t!==void 0&&t.enterprise!==void 0}class eI{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function tI(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=Mi("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",M5().appendChild(i)})}function O5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const A5="https://www.google.com/recaptcha/enterprise.js?render=",R5="recaptcha-enterprise",D5="NO_RECAPTCHA";class nI{constructor(e){this.type=R5,this.auth=_s(e)}async verify(e="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,u)=>{Jb(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new eI(c);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,a(d.siteKey)}}).catch(c=>{u(c)})})}function r(s,a,u){const c=window.grecaptcha;DS(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(d=>{a(d)}).catch(()=>{a(D5)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{i(this.auth).then(u=>{if(!n&&DS(window.grecaptcha))r(u,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}tI(A5+u).then(()=>{r(u,s,a)}).catch(c=>{a(c)})}}).catch(u=>{a(u)})})}}async function ka(t,e,n,i=!1){const r=new nI(t);let s;try{s=await r.verify(n)}catch{s=await r.verify(n,!0)}const a=Object.assign({},e);return i?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((a,u)=>{try{const c=e(s);a(c)}catch(c){u(c)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $S(this),this.idTokenSubscription=new $S(this),this.beforeStateQueue=new $5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=nr(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await sa.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===u)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=m5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?lt(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(nr(e))})}async initializeRecaptchaConfig(){const e=await Jb(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new eI(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new nI(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ju("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&nr(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=await sa.create(this,[nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),a=this._isInitialized?Promise.resolve():this._initializationPromise;return he(a,this,"internal-error"),a.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,i,r):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Xb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&h5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function _s(t){return lt(t)}class $S{constructor(e){this.auth=e,this.observer=null,this.addObserver=hR(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(t,e){const n=df(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(gd(s,e??{}))return r;Yn(r,"already-initialized")}return n.initialize({options:e})}function U5(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(nr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function j5(t,e,n){const i=_s(t);he(i._canInitEmulator,i,"emulator-config-failed"),he(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),s=iI(e),{host:a,port:u}=B5(e),c=u===null?"":`:${u}`;i.config.emulator={url:`${s}//${a}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||V5()}function iI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function B5(t){const e=iI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:zS(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:zS(a)}}}function zS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function V5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return tr("not implemented")}_getIdTokenResponse(e){return tr("not implemented")}_linkToIdToken(e,n){return tr("not implemented")}_getReauthenticationResolver(e){return tr("not implemented")}}async function H5(t,e){return ys(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gm(t,e){return ac(t,"POST","/v1/accounts:signInWithPassword",mo(t,e))}async function W5(t,e){return ys(t,"POST","/v1/accounts:sendOobCode",mo(t,e))}async function qm(t,e){return W5(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G5(t,e){return ac(t,"POST","/v1/accounts:signInWithEmailLink",mo(t,e))}async function q5(t,e){return ac(t,"POST","/v1/accounts:signInWithEmailLink",mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends f0{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Mu(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Mu(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const r=await ka(e,i,"signInWithPassword");return Gm(e,r)}else return Gm(e,i).catch(async r=>{if(r.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await ka(e,i,"signInWithPassword");return Gm(e,s)}else return Promise.reject(r)});case"emailLink":return G5(e,{email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return H5(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return q5(e,{idToken:n,email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oa(t,e){return ac(t,"POST","/v1/accounts:signInWithIdp",mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5="http://localhost";class io extends f0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new io(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=l0(n,["providerId","signInMethod"]);if(!i||!r)return null;const a=new io(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return oa(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,oa(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,oa(e,n)}buildRequest(){const e={requestUri:Y5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function K5(t){const e=Sl(Tl(t)).link,n=e?Sl(Tl(e)).deep_link_id:null,i=Sl(Tl(t)).deep_link_id;return(i?Sl(Tl(i)).link:null)||i||n||e||t}class p0{constructor(e){var n,i,r,s,a,u;const c=Sl(Tl(e)),d=(n=c.apiKey)!==null&&n!==void 0?n:null,p=(i=c.oobCode)!==null&&i!==void 0?i:null,g=Z5((r=c.mode)!==null&&r!==void 0?r:null);he(d&&p&&g,"argument-error"),this.apiKey=d,this.operation=g,this.code=p,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=K5(e);try{return new p0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(){this.providerId=Ua.PROVIDER_ID}static credential(e,n){return Mu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=p0.parseLink(n);return he(i,"argument-error"),Mu._fromEmailAndCode(e,i.code,i.tenantId)}}Ua.PROVIDER_ID="password";Ua.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ua.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc extends m0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends lc{constructor(){super("facebook.com")}static credential(e){return io._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mr.credential(e.oauthAccessToken)}catch{return null}}}Mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return io._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Qi.credential(n,i)}catch{return null}}}Qi.GOOGLE_SIGN_IN_METHOD="google.com";Qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends lc{constructor(){super("github.com")}static credential(e){return io._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Or.credential(e.oauthAccessToken)}catch{return null}}}Or.GITHUB_SIGN_IN_METHOD="github.com";Or.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends lc{constructor(){super("twitter.com")}static credential(e,n){return io._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ar.credential(n,i)}catch{return null}}}Ar.TWITTER_SIGN_IN_METHOD="twitter.com";Ar.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ym(t,e){return ac(t,"POST","/v1/accounts:signUp",mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await js._fromIdTokenResponse(e,i,r),a=FS(i);return new ro({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=FS(i);return new ro({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function FS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd extends zi{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Dd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new Dd(e,n,i,r)}}function rI(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Dd._fromErrorAndOperation(t,s,e,i):s})}async function Q5(t,e,n=!1){const i=await Ca(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ro._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X5(t,e,n=!1){const{auth:i}=t,r="reauthenticate";try{const s=await Ca(t,rI(i,r,e,t),n);he(s.idToken,i,"internal-error");const a=h0(s.idToken);he(a,i,"internal-error");const{sub:u}=a;return he(t.uid===u,i,"user-mismatch"),ro._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Yn(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sI(t,e,n=!1){const i="signIn",r=await rI(t,i,e),s=await ro._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function J5(t,e){return sI(_s(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(t,e,n){var i;he(((i=n.url)===null||i===void 0?void 0:i.length)>0,t,"invalid-continue-uri"),he(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(he(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(he(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eF(t,e,n){var i;const r=_s(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((i=r._getRecaptchaConfig())===null||i===void 0)&&i.emailPasswordEnabled){const a=await ka(r,s,"getOobCode",!0);n&&Zm(r,a,n),await qm(r,a)}else n&&Zm(r,s,n),await qm(r,s).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const u=await ka(r,s,"getOobCode",!0);n&&Zm(r,u,n),await qm(r,u)}else return Promise.reject(a)})}async function tF(t,e,n){var i;const r=_s(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let a;if(!((i=r._getRecaptchaConfig())===null||i===void 0)&&i.emailPasswordEnabled){const d=await ka(r,s,"signUpPassword");a=Ym(r,d)}else a=Ym(r,s).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const p=await ka(r,s,"signUpPassword");return Ym(r,p)}else return Promise.reject(d)});const u=await a.catch(d=>Promise.reject(d)),c=await ro._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(c.user),c}function nF(t,e,n){return J5(lt(t),Ua.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iF(t,e){return ys(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oI(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=lt(t),s={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await Ca(i,iF(i.auth,s));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const u=i.providerData.find(({providerId:c})=>c==="password");u&&(u.displayName=i.displayName,u.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function rF(t,e,n,i){return lt(t).onIdTokenChanged(e,n,i)}function sF(t,e,n){return lt(t).beforeAuthStateChanged(e,n)}function aI(t,e,n,i){return lt(t).onAuthStateChanged(e,n,i)}const $d="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($d,"1"),this.storage.removeItem($d),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(){const t=Kt();return d0(t)||Zf(t)}const aF=1e3,lF=10;class uI extends lI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=oF()&&N5(),this.fallbackToPolling=Qb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);L5()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,lF):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},aF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}uI.type="LOCAL";const uF=uI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI extends lI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}cI.type="SESSION";const hI=cI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new Kf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(a).map(async d=>d(n.origin,s)),c=await cF(u);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((u,c)=>{const d=g0("",20);r.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(g){const y=g;if(y.data.eventId===d)switch(y.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(y.data.response);break;default:clearTimeout(p),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(){return window}function dF(t){Oi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function fF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function mF(){return dI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="firebaseLocalStorageDb",gF=1,zd="firebaseLocalStorage",pI="fbase_key";class uc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qf(t,e){return t.transaction([zd],e?"readwrite":"readonly").objectStore(zd)}function vF(){const t=indexedDB.deleteDatabase(fI);return new uc(t).toPromise()}function jv(){const t=indexedDB.open(fI,gF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(zd,{keyPath:pI})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(zd)?e(i):(i.close(),await vF(),e(await jv()))})})}async function US(t,e,n){const i=Qf(t,!0).put({[pI]:e,value:n});return new uc(i).toPromise()}async function yF(t,e){const n=Qf(t,!1).get(e),i=await new uc(n).toPromise();return i===void 0?null:i.value}function jS(t,e){const n=Qf(t,!0).delete(e);return new uc(n).toPromise()}const _F=800,wF=3;class mI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>wF)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kf._getInstance(mF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await fF(),!this.activeServiceWorker)return;this.sender=new hF(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jv();return await US(e,$d,"1"),await jS(e,$d),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>US(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>yF(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>jS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=Qf(r,!1).getAll();return new uc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_F)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mI.type="LOCAL";const xF=mI;new oc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(t,e){return e?nr(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0 extends f0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return oa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return oa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function SF(t){return sI(t.auth,new v0(t),t.bypassAuthState)}function TF(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),X5(n,new v0(t),t.bypassAuthState)}async function EF(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),Q5(n,new v0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:u}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SF;case"linkViaPopup":case"linkViaRedirect":return EF;case"reauthViaPopup":case"reauthViaRedirect":return TF;default:Yn(this.auth,"internal-error")}}resolve(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF=new oc(2e3,1e4);async function kF(t,e,n){const i=_s(t);d5(t,e,m0);const r=gI(i,n);return new Ds(i,"signInViaPopup",e,r).executeNotNull()}class Ds extends vI{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Ds.currentPopupAction&&Ds.currentPopupAction.cancel(),Ds.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const e=g0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ds.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,CF.get())};e()}}Ds.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF="pendingRedirect",Dh=new Map;class IF extends vI{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Dh.get(this.auth._key());if(!e){try{const i=await PF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Dh.set(this.auth._key(),e)}return this.bypassAuthState||Dh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PF(t,e){const n=MF(e),i=NF(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function LF(t,e){Dh.set(t._key(),e)}function NF(t){return nr(t._redirectPersistence)}function MF(t){return Rh(bF,t.config.apiKey,t.name)}async function OF(t,e,n=!1){const i=_s(t),r=gI(i,e),a=await new IF(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF=10*60*1e3;class RF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!yI(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Mi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AF&&this.cachedEventUids.clear(),this.cachedEventUids.has(BS(e))}saveEventToCache(e){this.cachedEventUids.add(BS(e)),this.lastProcessedEventTime=Date.now()}}function BS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function yI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function DF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $F(t,e={}){return ys(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FF=/^https?/;async function UF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $F(t);for(const n of e)try{if(jF(n))return}catch{}Yn(t,"unauthorized-domain")}function jF(t){const e=Uv(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!FF.test(n))return!1;if(zF.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF=new oc(3e4,6e4);function VS(){const t=Oi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function VF(t){return new Promise((e,n)=>{var i,r,s;function a(){VS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VS(),n(Mi(t,"network-request-failed"))},timeout:BF.get()})}if(!((r=(i=Oi().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Oi().gapi)===null||s===void 0)&&s.load)a();else{const u=O5("iframefcb");return Oi()[u]=()=>{gapi.load?a():n(Mi(t,"network-request-failed"))},tI(`https://apis.google.com/js/api.js?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw $h=null,e})}let $h=null;function HF(t){return $h=$h||VF(t),$h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF=new oc(5e3,15e3),GF="__/auth/iframe",qF="emulator/auth/iframe",YF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KF(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?c0(e,qF):`https://${t.config.authDomain}/${GF}`,i={apiKey:e.apiKey,appName:t.name,v:uo},r=ZF.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Bu(i).slice(1)}`}async function QF(t){const e=await HF(t),n=Oi().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:KF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YF,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=Mi(t,"network-request-failed"),u=Oi().setTimeout(()=>{s(a)},WF.get());function c(){Oi().clearTimeout(u),r(i)}i.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JF=500,eU=600,tU="_blank",nU="http://localhost";class HS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iU(t,e,n,i=JF,r=eU){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const c=Object.assign(Object.assign({},XF),{width:i.toString(),height:r.toString(),top:s,left:a}),d=Kt().toLowerCase();n&&(u=Gb(d)?tU:n),Wb(d)&&(e=e||nU,c.scrollbars="yes");const p=Object.entries(c).reduce((y,[w,E])=>`${y}${w}=${E},`,"");if(P5(d)&&u!=="_self")return rU(e||"",u),new HS(null);const g=window.open(e||"",u,p);he(g,t,"popup-blocked");try{g.focus()}catch{}return new HS(g)}function rU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU="__/auth/handler",oU="emulator/auth/handler",aU=encodeURIComponent("fac");async function WS(t,e,n,i,r,s){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:uo,eventId:r};if(e instanceof m0){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",cR(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries(s||{}))a[p]=g}if(e instanceof lc){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(a.scopes=p.join(","))}t.tenantId&&(a.tid=t.tenantId);const u=a;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const c=await t._getAppCheckToken(),d=c?`#${aU}=${encodeURIComponent(c)}`:"";return`${lU(t)}?${Bu(u).slice(1)}${d}`}function lU({config:t}){return t.emulator?c0(t,oU):`https://${t.authDomain}/${sU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="webStorageSupport";class uU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hI,this._completeRedirectFn=OF,this._overrideRedirectResult=LF}async _openPopup(e,n,i,r){var s;yr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await WS(e,n,i,Uv(),r);return iU(e,a,g0())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await WS(e,n,i,Uv(),r);return dF(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(yr(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await QF(e),i=new RF(e);return n.register("authEvent",r=>(he(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Km,{type:Km},r=>{var s;const a=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[Km];a!==void 0&&n(!!a),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=UF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Qb()||d0()||Zf()}}const cU=uU;var GS="@firebase/auth",qS="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function fU(t){Qs(new as("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=i.options;he(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:a,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xb(t)},d=new z5(i,r,s,c);return U5(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Qs(new as("auth-internal",e=>{const n=_s(e.getProvider("auth").getImmediate());return(i=>new hU(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pi(GS,qS,dU(t)),Pi(GS,qS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU=5*60,mU=FC("authIdTokenMaxAge")||pU;let YS=null;const gU=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>mU)return;const r=n==null?void 0:n.token;YS!==r&&(YS=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Fi(t=e_()){const e=df(t,"auth");if(e.isInitialized())return e.getImmediate();const n=F5(t,{popupRedirectResolver:cU,persistence:[xF,uF,hI]}),i=FC("authTokenSyncURL");if(i){const s=gU(i);sF(n,s,()=>s(n.currentUser)),rF(n,a=>s(a))}const r=DC("auth");return r&&j5(n,`http://${r}`),n}fU("Browser");function _I(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=_I(t[e]))&&(i&&(i+=" "),i+=n);else for(e in t)t[e]&&(i&&(i+=" "),i+=e);return i}function Br(){for(var t,e,n=0,i="";n<arguments.length;)(t=arguments[n++])&&(e=_I(t))&&(i&&(i+=" "),i+=e);return i}const Wl=t=>typeof t=="number"&&!isNaN(t),so=t=>typeof t=="string",gn=t=>typeof t=="function",zh=t=>so(t)||gn(t)?t:null,Qm=t=>M.isValidElement(t)||so(t)||gn(t)||Wl(t);function vU(t,e,n){n===void 0&&(n=300);const{scrollHeight:i,style:r}=t;requestAnimationFrame(()=>{r.minHeight="initial",r.height=i+"px",r.transition=`all ${n}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(e,n)})})}function Xf(t){let{enter:e,exit:n,appendPosition:i=!1,collapse:r=!0,collapseDuration:s=300}=t;return function(a){let{children:u,position:c,preventExitTransition:d,done:p,nodeRef:g,isIn:y}=a;const w=i?`${e}--${c}`:e,E=i?`${n}--${c}`:n,C=M.useRef(0);return M.useLayoutEffect(()=>{const b=g.current,v=w.split(" "),_=S=>{S.target===g.current&&(b.dispatchEvent(new Event("d")),b.removeEventListener("animationend",_),b.removeEventListener("animationcancel",_),C.current===0&&S.type!=="animationcancel"&&b.classList.remove(...v))};b.classList.add(...v),b.addEventListener("animationend",_),b.addEventListener("animationcancel",_)},[]),M.useEffect(()=>{const b=g.current,v=()=>{b.removeEventListener("animationend",v),r?vU(b,p,s):p()};y||(d?v():(C.current=1,b.className+=` ${E}`,b.addEventListener("animationend",v)))},[y]),le.createElement(le.Fragment,null,u)}}function ZS(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const zn={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const n=this.list.get(t).filter(i=>i!==e);return this.list.set(t,n),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(e=>{const n=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(n)})}},ch=t=>{let{theme:e,type:n,...i}=t;return le.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},Xm={info:function(t){return le.createElement(ch,{...t},le.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return le.createElement(ch,{...t},le.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return le.createElement(ch,{...t},le.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return le.createElement(ch,{...t},le.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return le.createElement("div",{className:"Toastify__spinner"})}};function yU(t){const[,e]=M.useReducer(w=>w+1,0),[n,i]=M.useState([]),r=M.useRef(null),s=M.useRef(new Map).current,a=w=>n.indexOf(w)!==-1,u=M.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:a,getToast:w=>s.get(w)}).current;function c(w){let{containerId:E}=w;const{limit:C}=u.props;!C||E&&u.containerId!==E||(u.count-=u.queue.length,u.queue=[])}function d(w){i(E=>w==null?[]:E.filter(C=>C!==w))}function p(){const{toastContent:w,toastProps:E,staleId:C}=u.queue.shift();y(w,E,C)}function g(w,E){let{delay:C,staleId:b,...v}=E;if(!Qm(w)||function($){return!r.current||u.props.enableMultiContainer&&$.containerId!==u.props.containerId||s.has($.toastId)&&$.updateId==null}(v))return;const{toastId:_,updateId:S,data:k}=v,{props:P}=u,O=()=>d(_),z=S==null;z&&u.count++;const N={...P,style:P.toastStyle,key:u.toastKey++,...Object.fromEntries(Object.entries(v).filter($=>{let[q,ie]=$;return ie!=null})),toastId:_,updateId:S,data:k,closeToast:O,isIn:!1,className:zh(v.className||P.toastClassName),bodyClassName:zh(v.bodyClassName||P.bodyClassName),progressClassName:zh(v.progressClassName||P.progressClassName),autoClose:!v.isLoading&&(j=v.autoClose,Y=P.autoClose,j===!1||Wl(j)&&j>0?j:Y),deleteToast(){const $=ZS(s.get(_),"removed");s.delete(_),zn.emit(4,$);const q=u.queue.length;if(u.count=_==null?u.count-u.displayedToast:u.count-1,u.count<0&&(u.count=0),q>0){const ie=_==null?u.props.limit:1;if(q===1||ie===1)u.displayedToast++,p();else{const Ce=ie>q?q:ie;u.displayedToast=Ce;for(let ee=0;ee<Ce;ee++)p()}}else e()}};var j,Y;N.iconOut=function($){let{theme:q,type:ie,isLoading:Ce,icon:ee}=$,_e=null;const D={theme:q,type:ie};return ee===!1||(gn(ee)?_e=ee(D):M.isValidElement(ee)?_e=M.cloneElement(ee,D):so(ee)||Wl(ee)?_e=ee:Ce?_e=Xm.spinner():(Z=>Z in Xm)(ie)&&(_e=Xm[ie](D))),_e}(N),gn(v.onOpen)&&(N.onOpen=v.onOpen),gn(v.onClose)&&(N.onClose=v.onClose),N.closeButton=P.closeButton,v.closeButton===!1||Qm(v.closeButton)?N.closeButton=v.closeButton:v.closeButton===!0&&(N.closeButton=!Qm(P.closeButton)||P.closeButton);let F=w;M.isValidElement(w)&&!so(w.type)?F=M.cloneElement(w,{closeToast:O,toastProps:N,data:k}):gn(w)&&(F=w({closeToast:O,toastProps:N,data:k})),P.limit&&P.limit>0&&u.count>P.limit&&z?u.queue.push({toastContent:F,toastProps:N,staleId:b}):Wl(C)?setTimeout(()=>{y(F,N,b)},C):y(F,N,b)}function y(w,E,C){const{toastId:b}=E;C&&s.delete(C);const v={content:w,props:E};s.set(b,v),i(_=>[..._,b].filter(S=>S!==C)),zn.emit(4,ZS(v,v.props.updateId==null?"added":"updated"))}return M.useEffect(()=>(u.containerId=t.containerId,zn.cancelEmit(3).on(0,g).on(1,w=>r.current&&d(w)).on(5,c).emit(2,u),()=>{s.clear(),zn.emit(3,u)}),[]),M.useEffect(()=>{u.props=t,u.isToastActive=a,u.displayedToast=n.length}),{getToastToRender:function(w){const E=new Map,C=Array.from(s.values());return t.newestOnTop&&C.reverse(),C.forEach(b=>{const{position:v}=b.props;E.has(v)||E.set(v,[]),E.get(v).push(b)}),Array.from(E,b=>w(b[0],b[1]))},containerRef:r,isToastActive:a}}function KS(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function QS(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function _U(t){const[e,n]=M.useState(!1),[i,r]=M.useState(!1),s=M.useRef(null),a=M.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,u=M.useRef(t),{autoClose:c,pauseOnHover:d,closeToast:p,onClick:g,closeOnClick:y}=t;function w(k){if(t.draggable){k.nativeEvent.type==="touchstart"&&k.nativeEvent.preventDefault(),a.didMove=!1,document.addEventListener("mousemove",v),document.addEventListener("mouseup",_),document.addEventListener("touchmove",v),document.addEventListener("touchend",_);const P=s.current;a.canCloseOnClick=!0,a.canDrag=!0,a.boundingRect=P.getBoundingClientRect(),P.style.transition="",a.x=KS(k.nativeEvent),a.y=QS(k.nativeEvent),t.draggableDirection==="x"?(a.start=a.x,a.removalDistance=P.offsetWidth*(t.draggablePercent/100)):(a.start=a.y,a.removalDistance=P.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent/100))}}function E(k){if(a.boundingRect){const{top:P,bottom:O,left:z,right:N}=a.boundingRect;k.nativeEvent.type!=="touchend"&&t.pauseOnHover&&a.x>=z&&a.x<=N&&a.y>=P&&a.y<=O?b():C()}}function C(){n(!0)}function b(){n(!1)}function v(k){const P=s.current;a.canDrag&&P&&(a.didMove=!0,e&&b(),a.x=KS(k),a.y=QS(k),a.delta=t.draggableDirection==="x"?a.x-a.start:a.y-a.start,a.start!==a.x&&(a.canCloseOnClick=!1),P.style.transform=`translate${t.draggableDirection}(${a.delta}px)`,P.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance)))}function _(){document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",_),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",_);const k=s.current;if(a.canDrag&&a.didMove&&k){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return r(!0),void t.closeToast();k.style.transition="transform 0.2s, opacity 0.2s",k.style.transform=`translate${t.draggableDirection}(0)`,k.style.opacity="1"}}M.useEffect(()=>{u.current=t}),M.useEffect(()=>(s.current&&s.current.addEventListener("d",C,{once:!0}),gn(t.onOpen)&&t.onOpen(M.isValidElement(t.children)&&t.children.props),()=>{const k=u.current;gn(k.onClose)&&k.onClose(M.isValidElement(k.children)&&k.children.props)}),[]),M.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||b(),window.addEventListener("focus",C),window.addEventListener("blur",b)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",C),window.removeEventListener("blur",b))}),[t.pauseOnFocusLoss]);const S={onMouseDown:w,onTouchStart:w,onMouseUp:E,onTouchEnd:E};return c&&d&&(S.onMouseEnter=b,S.onMouseLeave=C),y&&(S.onClick=k=>{g&&g(k),a.canCloseOnClick&&p()}),{playToast:C,pauseToast:b,isRunning:e,preventExitTransition:i,toastRef:s,eventHandlers:S}}function wI(t){let{closeToast:e,theme:n,ariaLabel:i="close"}=t;return le.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:r=>{r.stopPropagation(),e(r)},"aria-label":i},le.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},le.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function wU(t){let{delay:e,isRunning:n,closeToast:i,type:r="default",hide:s,className:a,style:u,controlledProgress:c,progress:d,rtl:p,isIn:g,theme:y}=t;const w=s||c&&d===0,E={...u,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused",opacity:w?0:1};c&&(E.transform=`scaleX(${d})`);const C=Br("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${y}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":p}),b=gn(a)?a({rtl:p,type:r,defaultClassName:C}):Br(C,a);return le.createElement("div",{role:"progressbar","aria-hidden":w?"true":"false","aria-label":"notification timer",className:b,style:E,[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{g&&i()}})}const xU=t=>{const{isRunning:e,preventExitTransition:n,toastRef:i,eventHandlers:r}=_U(t),{closeButton:s,children:a,autoClose:u,onClick:c,type:d,hideProgressBar:p,closeToast:g,transition:y,position:w,className:E,style:C,bodyClassName:b,bodyStyle:v,progressClassName:_,progressStyle:S,updateId:k,role:P,progress:O,rtl:z,toastId:N,deleteToast:j,isIn:Y,isLoading:F,iconOut:$,closeOnClick:q,theme:ie}=t,Ce=Br("Toastify__toast",`Toastify__toast-theme--${ie}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":z},{"Toastify__toast--close-on-click":q}),ee=gn(E)?E({rtl:z,position:w,type:d,defaultClassName:Ce}):Br(Ce,E),_e=!!O||!u,D={closeToast:g,type:d,theme:ie};let Z=null;return s===!1||(Z=gn(s)?s(D):M.isValidElement(s)?M.cloneElement(s,D):wI(D)),le.createElement(y,{isIn:Y,done:j,position:w,preventExitTransition:n,nodeRef:i},le.createElement("div",{id:N,onClick:c,className:ee,...r,style:C,ref:i},le.createElement("div",{...Y&&{role:P},className:gn(b)?b({type:d}):Br("Toastify__toast-body",b),style:v},$!=null&&le.createElement("div",{className:Br("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!F})},$),le.createElement("div",null,a)),Z,le.createElement(wU,{...k&&!_e?{key:`pb-${k}`}:{},rtl:z,theme:ie,delay:u,isRunning:e,isIn:Y,closeToast:g,hide:p,type:d,style:S,className:_,controlledProgress:_e,progress:O||0})))},Jf=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},SU=Xf(Jf("bounce",!0));Xf(Jf("slide",!0));Xf(Jf("zoom"));Xf(Jf("flip"));const Bv=M.forwardRef((t,e)=>{const{getToastToRender:n,containerRef:i,isToastActive:r}=yU(t),{className:s,style:a,rtl:u,containerId:c}=t;function d(p){const g=Br("Toastify__toast-container",`Toastify__toast-container--${p}`,{"Toastify__toast-container--rtl":u});return gn(s)?s({position:p,rtl:u,defaultClassName:g}):Br(g,zh(s))}return M.useEffect(()=>{e&&(e.current=i.current)},[]),le.createElement("div",{ref:i,className:"Toastify",id:c},n((p,g)=>{const y=g.length?{...a}:{...a,pointerEvents:"none"};return le.createElement("div",{className:d(p),style:y,key:`container-${p}`},g.map((w,E)=>{let{content:C,props:b}=w;return le.createElement(xU,{...b,isIn:r(b.toastId),style:{...b.style,"--nth":E+1,"--len":g.length},key:`toast-${b.key}`},C)}))}))});Bv.displayName="ToastContainer",Bv.defaultProps={position:"top-right",transition:SU,autoClose:5e3,closeButton:wI,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let Jm,Ps=new Map,Pl=[],TU=1;function xI(){return""+TU++}function EU(t){return t&&(so(t.toastId)||Wl(t.toastId))?t.toastId:xI()}function Gl(t,e){return Ps.size>0?zn.emit(0,t,e):Pl.push({content:t,options:e}),e.toastId}function Fd(t,e){return{...e,type:e&&e.type||t,toastId:EU(e)}}function hh(t){return(e,n)=>Gl(e,Fd(t,n))}function ae(t,e){return Gl(t,Fd("default",e))}ae.loading=(t,e)=>Gl(t,Fd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),ae.promise=function(t,e,n){let i,{pending:r,error:s,success:a}=e;r&&(i=so(r)?ae.loading(r,n):ae.loading(r.render,{...n,...r}));const u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(p,g,y)=>{if(g==null)return void ae.dismiss(i);const w={type:p,...u,...n,data:y},E=so(g)?{render:g}:g;return i?ae.update(i,{...w,...E}):ae(E.render,{...w,...E}),y},d=gn(t)?t():t;return d.then(p=>c("success",a,p)).catch(p=>c("error",s,p)),d},ae.success=hh("success"),ae.info=hh("info"),ae.error=hh("error"),ae.warning=hh("warning"),ae.warn=ae.warning,ae.dark=(t,e)=>Gl(t,Fd("default",{theme:"dark",...e})),ae.dismiss=t=>{Ps.size>0?zn.emit(1,t):Pl=Pl.filter(e=>t!=null&&e.options.toastId!==t)},ae.clearWaitingQueue=function(t){return t===void 0&&(t={}),zn.emit(5,t)},ae.isActive=t=>{let e=!1;return Ps.forEach(n=>{n.isToastActive&&n.isToastActive(t)&&(e=!0)}),e},ae.update=function(t,e){e===void 0&&(e={}),setTimeout(()=>{const n=function(i,r){let{containerId:s}=r;const a=Ps.get(s||Jm);return a&&a.getToast(i)}(t,e);if(n){const{props:i,content:r}=n,s={delay:100,...i,...e,toastId:e.toastId||t,updateId:xI()};s.toastId!==t&&(s.staleId=t);const a=s.render||r;delete s.render,Gl(a,s)}},0)},ae.done=t=>{ae.update(t,{progress:1})},ae.onChange=t=>(zn.on(4,t),()=>{zn.off(4,t)}),ae.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},ae.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},zn.on(2,t=>{Jm=t.containerId||t,Ps.set(Jm,t),Pl.forEach(e=>{zn.emit(0,e.content,e.options)}),Pl=[]}).on(3,t=>{Ps.delete(t.containerId||t),Ps.size===0&&zn.off(0).off(1).off(5)});var SI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},XS=le.createContext&&le.createContext(SI),is=globalThis&&globalThis.__assign||function(){return is=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},is.apply(this,arguments)},CU=globalThis&&globalThis.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};function TI(t){return t&&t.map(function(e,n){return le.createElement(e.tag,is({key:n},e.attr),TI(e.child))})}function On(t){return function(e){return le.createElement(kU,is({attr:is({},t.attr)},e),TI(t.child))}}function kU(t){var e=function(n){var i=t.attr,r=t.size,s=t.title,a=CU(t,["attr","size","title"]),u=r||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),le.createElement("svg",is({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,a,{className:c,style:is(is({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),s&&le.createElement("title",null,s),t.children)};return XS!==void 0?le.createElement(XS.Consumer,null,function(n){return e(n)}):e(SI)}function bU(t){return On({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"}}]})(t)}function ep(t){return On({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32,384a95.4,95.4,0,0,0,32,71.09V496a16,16,0,0,0,16,16h32a16,16,0,0,0,16-16V480H384v16a16,16,0,0,0,16,16h32a16,16,0,0,0,16-16V455.09A95.4,95.4,0,0,0,480,384V336H32ZM496,256H80V69.25a21.26,21.26,0,0,1,36.28-15l19.27,19.26c-13.13,29.88-7.61,59.11,8.62,79.73l-.17.17A16,16,0,0,0,144,176l11.31,11.31a16,16,0,0,0,22.63,0L283.31,81.94a16,16,0,0,0,0-22.63L272,48a16,16,0,0,0-22.62,0l-.17.17c-20.62-16.23-49.83-21.75-79.73-8.62L150.22,20.28A69.25,69.25,0,0,0,32,69.25V256H16A16,16,0,0,0,0,272v16a16,16,0,0,0,16,16H496a16,16,0,0,0,16-16V272A16,16,0,0,0,496,256Z"}}]})(t)}function tp(t){return On({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M176 256c44.11 0 80-35.89 80-80s-35.89-80-80-80-80 35.89-80 80 35.89 80 80 80zm352-128H304c-8.84 0-16 7.16-16 16v144H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v352c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16v-48h512v48c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V240c0-61.86-50.14-112-112-112z"}}]})(t)}function EI(t){return On({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"}}]})(t)}function CI(t){return On({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}}]})(t)}function y0(t){return On({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"}}]})(t)}function IU(t){return On({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM240 320h-48v48c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16V144c0-8.8 7.2-16 16-16h96c52.9 0 96 43.1 96 96s-43.1 96-96 96zm0-128h-48v64h48c17.6 0 32-14.4 32-32s-14.4-32-32-32z"}}]})(t)}//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var kI;function Q(){return kI.apply(null,arguments)}function PU(t){kI=t}function hi(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function Bs(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function De(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _0(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(De(t,e))return!1;return!0}function hn(t){return t===void 0}function _r(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function cc(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function bI(t,e){var n=[],i,r=t.length;for(i=0;i<r;++i)n.push(e(t[i],i));return n}function Vr(t,e){for(var n in e)De(e,n)&&(t[n]=e[n]);return De(e,"toString")&&(t.toString=e.toString),De(e,"valueOf")&&(t.valueOf=e.valueOf),t}function Ui(t,e,n,i){return QI(t,e,n,i,!0).utc()}function LU(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function we(t){return t._pf==null&&(t._pf=LU()),t._pf}var Vv;Array.prototype.some?Vv=Array.prototype.some:Vv=function(t){var e=Object(this),n=e.length>>>0,i;for(i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};function w0(t){if(t._isValid==null){var e=we(t),n=Vv.call(e.parsedDateParts,function(r){return r!=null}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=i;else return i}return t._isValid}function np(t){var e=Ui(NaN);return t!=null?Vr(we(e),t):we(e).userInvalidated=!0,e}var JS=Q.momentProperties=[],eg=!1;function x0(t,e){var n,i,r,s=JS.length;if(hn(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),hn(e._i)||(t._i=e._i),hn(e._f)||(t._f=e._f),hn(e._l)||(t._l=e._l),hn(e._strict)||(t._strict=e._strict),hn(e._tzm)||(t._tzm=e._tzm),hn(e._isUTC)||(t._isUTC=e._isUTC),hn(e._offset)||(t._offset=e._offset),hn(e._pf)||(t._pf=we(e)),hn(e._locale)||(t._locale=e._locale),s>0)for(n=0;n<s;n++)i=JS[n],r=e[i],hn(r)||(t[i]=r);return t}function hc(t){x0(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),eg===!1&&(eg=!0,Q.updateOffset(this),eg=!1)}function di(t){return t instanceof hc||t!=null&&t._isAMomentObject!=null}function II(t){Q.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function Zn(t,e){var n=!0;return Vr(function(){if(Q.deprecationHandler!=null&&Q.deprecationHandler(null,t),n){var i=[],r,s,a,u=arguments.length;for(s=0;s<u;s++){if(r="",typeof arguments[s]=="object"){r+=`
[`+s+"] ";for(a in arguments[0])De(arguments[0],a)&&(r+=a+": "+arguments[0][a]+", ");r=r.slice(0,-2)}else r=arguments[s];i.push(r)}II(t+`
Arguments: `+Array.prototype.slice.call(i).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var eT={};function PI(t,e){Q.deprecationHandler!=null&&Q.deprecationHandler(t,e),eT[t]||(II(e),eT[t]=!0)}Q.suppressDeprecationWarnings=!1;Q.deprecationHandler=null;function ji(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function NU(t){var e,n;for(n in t)De(t,n)&&(e=t[n],ji(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Hv(t,e){var n=Vr({},t),i;for(i in e)De(e,i)&&(Bs(t[i])&&Bs(e[i])?(n[i]={},Vr(n[i],t[i]),Vr(n[i],e[i])):e[i]!=null?n[i]=e[i]:delete n[i]);for(i in t)De(t,i)&&!De(e,i)&&Bs(t[i])&&(n[i]=Vr({},n[i]));return n}function S0(t){t!=null&&this.set(t)}var Wv;Object.keys?Wv=Object.keys:Wv=function(t){var e,n=[];for(e in t)De(t,e)&&n.push(e);return n};var MU={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function OU(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return ji(i)?i.call(e,n):i}function Ri(t,e,n){var i=""+Math.abs(t),r=e-i.length,s=t>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var T0=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,dh=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,tg={},aa={};function ue(t,e,n,i){var r=i;typeof i=="string"&&(r=function(){return this[i]()}),t&&(aa[t]=r),e&&(aa[e[0]]=function(){return Ri(r.apply(this,arguments),e[1],e[2])}),n&&(aa[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function AU(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function RU(t){var e=t.match(T0),n,i;for(n=0,i=e.length;n<i;n++)aa[e[n]]?e[n]=aa[e[n]]:e[n]=AU(e[n]);return function(r){var s="",a;for(a=0;a<i;a++)s+=ji(e[a])?e[a].call(r,t):e[a];return s}}function Fh(t,e){return t.isValid()?(e=LI(e,t.localeData()),tg[e]=tg[e]||RU(e),tg[e](t)):t.localeData().invalidDate()}function LI(t,e){var n=5;function i(r){return e.longDateFormat(r)||r}for(dh.lastIndex=0;n>=0&&dh.test(t);)t=t.replace(dh,i),dh.lastIndex=0,n-=1;return t}var DU={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function $U(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(T0).map(function(i){return i==="MMMM"||i==="MM"||i==="DD"||i==="dddd"?i.slice(1):i}).join(""),this._longDateFormat[t])}var zU="Invalid date";function FU(){return this._invalidDate}var UU="%d",jU=/\d{1,2}/;function BU(t){return this._ordinal.replace("%d",t)}var VU={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function HU(t,e,n,i){var r=this._relativeTime[n];return ji(r)?r(t,e,n,i):r.replace(/%d/i,t)}function WU(t,e){var n=this._relativeTime[t>0?"future":"past"];return ji(n)?n(e):n.replace(/%s/i,e)}var ql={};function Xt(t,e){var n=t.toLowerCase();ql[n]=ql[n+"s"]=ql[e]=t}function Kn(t){return typeof t=="string"?ql[t]||ql[t.toLowerCase()]:void 0}function E0(t){var e={},n,i;for(i in t)De(t,i)&&(n=Kn(i),n&&(e[n]=t[i]));return e}var NI={};function Jt(t,e){NI[t]=e}function GU(t){var e=[],n;for(n in t)De(t,n)&&e.push({unit:n,priority:NI[n]});return e.sort(function(i,r){return i.priority-r.priority}),e}function ip(t){return t%4===0&&t%100!==0||t%400===0}function jn(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Ee(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=jn(e)),n}function ja(t,e){return function(n){return n!=null?(MI(this,t,n),Q.updateOffset(this,e),this):Ud(this,t)}}function Ud(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function MI(t,e,n){t.isValid()&&!isNaN(n)&&(e==="FullYear"&&ip(t.year())&&t.month()===1&&t.date()===29?(n=Ee(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),up(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function qU(t){return t=Kn(t),ji(this[t])?this[t]():this}function YU(t,e){if(typeof t=="object"){t=E0(t);var n=GU(t),i,r=n.length;for(i=0;i<r;i++)this[n[i].unit](t[n[i].unit])}else if(t=Kn(t),ji(this[t]))return this[t](e);return this}var OI=/\d/,An=/\d\d/,AI=/\d{3}/,C0=/\d{4}/,rp=/[+-]?\d{6}/,Qe=/\d\d?/,RI=/\d\d\d\d?/,DI=/\d\d\d\d\d\d?/,sp=/\d{1,3}/,k0=/\d{1,4}/,op=/[+-]?\d{1,6}/,Ba=/\d+/,ap=/[+-]?\d+/,ZU=/Z|[+-]\d\d:?\d\d/gi,lp=/Z|[+-]\d\d(?::?\d\d)?/gi,KU=/[+-]?\d+(\.\d{1,3})?/,dc=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,jd;jd={};function te(t,e,n){jd[t]=ji(e)?e:function(i,r){return i&&n?n:e}}function QU(t,e){return De(jd,t)?jd[t](e._strict,e._locale):new RegExp(XU(t))}function XU(t){return Tn(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,i,r,s){return n||i||r||s}))}function Tn(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Gv={};function je(t,e){var n,i=e,r;for(typeof t=="string"&&(t=[t]),_r(e)&&(i=function(s,a){a[e]=Ee(s)}),r=t.length,n=0;n<r;n++)Gv[t[n]]=i}function fc(t,e){je(t,function(n,i,r,s){r._w=r._w||{},e(n,r._w,r,s)})}function JU(t,e,n){e!=null&&De(Gv,t)&&Gv[t](e,n._a,n,t)}var Yt=0,ir=1,Si=2,St=3,ii=4,rr=5,$s=6,e9=7,t9=8;function n9(t,e){return(t%e+e)%e}var ht;Array.prototype.indexOf?ht=Array.prototype.indexOf:ht=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function up(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=n9(e,12);return t+=(e-n)/12,n===1?ip(t)?29:28:31-n%7%2}ue("M",["MM",2],"Mo",function(){return this.month()+1});ue("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});ue("MMMM",0,0,function(t){return this.localeData().months(this,t)});Xt("month","M");Jt("month",8);te("M",Qe);te("MM",Qe,An);te("MMM",function(t,e){return e.monthsShortRegex(t)});te("MMMM",function(t,e){return e.monthsRegex(t)});je(["M","MM"],function(t,e){e[ir]=Ee(t)-1});je(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);r!=null?e[ir]=r:we(n).invalidMonth=t});var i9="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),$I="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),zI=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,r9=dc,s9=dc;function o9(t,e){return t?hi(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||zI).test(e)?"format":"standalone"][t.month()]:hi(this._months)?this._months:this._months.standalone}function a9(t,e){return t?hi(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[zI.test(e)?"format":"standalone"][t.month()]:hi(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function l9(t,e,n){var i,r,s,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)s=Ui([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(s,"").toLocaleLowerCase();return n?e==="MMM"?(r=ht.call(this._shortMonthsParse,a),r!==-1?r:null):(r=ht.call(this._longMonthsParse,a),r!==-1?r:null):e==="MMM"?(r=ht.call(this._shortMonthsParse,a),r!==-1?r:(r=ht.call(this._longMonthsParse,a),r!==-1?r:null)):(r=ht.call(this._longMonthsParse,a),r!==-1?r:(r=ht.call(this._shortMonthsParse,a),r!==-1?r:null))}function u9(t,e,n){var i,r,s;if(this._monthsParseExact)return l9.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=Ui([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),!n&&!this._monthsParse[i]&&(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(s.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[i].test(t))return i;if(n&&e==="MMM"&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function FI(t,e){var n;if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Ee(e);else if(e=t.localeData().monthsParse(e),!_r(e))return t}return n=Math.min(t.date(),up(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function UI(t){return t!=null?(FI(this,t),Q.updateOffset(this,!0),this):Ud(this,"Month")}function c9(){return up(this.year(),this.month())}function h9(t){return this._monthsParseExact?(De(this,"_monthsRegex")||jI.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(De(this,"_monthsShortRegex")||(this._monthsShortRegex=r9),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function d9(t){return this._monthsParseExact?(De(this,"_monthsRegex")||jI.call(this),t?this._monthsStrictRegex:this._monthsRegex):(De(this,"_monthsRegex")||(this._monthsRegex=s9),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function jI(){function t(a,u){return u.length-a.length}var e=[],n=[],i=[],r,s;for(r=0;r<12;r++)s=Ui([2e3,r]),e.push(this.monthsShort(s,"")),n.push(this.months(s,"")),i.push(this.months(s,"")),i.push(this.monthsShort(s,""));for(e.sort(t),n.sort(t),i.sort(t),r=0;r<12;r++)e[r]=Tn(e[r]),n[r]=Tn(n[r]);for(r=0;r<24;r++)i[r]=Tn(i[r]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}ue("Y",0,0,function(){var t=this.year();return t<=9999?Ri(t,4):"+"+t});ue(0,["YY",2],0,function(){return this.year()%100});ue(0,["YYYY",4],0,"year");ue(0,["YYYYY",5],0,"year");ue(0,["YYYYYY",6,!0],0,"year");Xt("year","y");Jt("year",1);te("Y",ap);te("YY",Qe,An);te("YYYY",k0,C0);te("YYYYY",op,rp);te("YYYYYY",op,rp);je(["YYYYY","YYYYYY"],Yt);je("YYYY",function(t,e){e[Yt]=t.length===2?Q.parseTwoDigitYear(t):Ee(t)});je("YY",function(t,e){e[Yt]=Q.parseTwoDigitYear(t)});je("Y",function(t,e){e[Yt]=parseInt(t,10)});function Yl(t){return ip(t)?366:365}Q.parseTwoDigitYear=function(t){return Ee(t)+(Ee(t)>68?1900:2e3)};var BI=ja("FullYear",!0);function f9(){return ip(this.year())}function p9(t,e,n,i,r,s,a){var u;return t<100&&t>=0?(u=new Date(t+400,e,n,i,r,s,a),isFinite(u.getFullYear())&&u.setFullYear(t)):u=new Date(t,e,n,i,r,s,a),u}function Ou(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Bd(t,e,n){var i=7+e-n,r=(7+Ou(t,0,i).getUTCDay()-e)%7;return-r+i-1}function VI(t,e,n,i,r){var s=(7+n-i)%7,a=Bd(t,i,r),u=1+7*(e-1)+s+a,c,d;return u<=0?(c=t-1,d=Yl(c)+u):u>Yl(t)?(c=t+1,d=u-Yl(t)):(c=t,d=u),{year:c,dayOfYear:d}}function Au(t,e,n){var i=Bd(t.year(),e,n),r=Math.floor((t.dayOfYear()-i-1)/7)+1,s,a;return r<1?(a=t.year()-1,s=r+ar(a,e,n)):r>ar(t.year(),e,n)?(s=r-ar(t.year(),e,n),a=t.year()+1):(a=t.year(),s=r),{week:s,year:a}}function ar(t,e,n){var i=Bd(t,e,n),r=Bd(t+1,e,n);return(Yl(t)-i+r)/7}ue("w",["ww",2],"wo","week");ue("W",["WW",2],"Wo","isoWeek");Xt("week","w");Xt("isoWeek","W");Jt("week",5);Jt("isoWeek",5);te("w",Qe);te("ww",Qe,An);te("W",Qe);te("WW",Qe,An);fc(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=Ee(t)});function m9(t){return Au(t,this._week.dow,this._week.doy).week}var g9={dow:0,doy:6};function v9(){return this._week.dow}function y9(){return this._week.doy}function _9(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function w9(t){var e=Au(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}ue("d",0,"do","day");ue("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});ue("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});ue("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});ue("e",0,0,"weekday");ue("E",0,0,"isoWeekday");Xt("day","d");Xt("weekday","e");Xt("isoWeekday","E");Jt("day",11);Jt("weekday",11);Jt("isoWeekday",11);te("d",Qe);te("e",Qe);te("E",Qe);te("dd",function(t,e){return e.weekdaysMinRegex(t)});te("ddd",function(t,e){return e.weekdaysShortRegex(t)});te("dddd",function(t,e){return e.weekdaysRegex(t)});fc(["dd","ddd","dddd"],function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);r!=null?e.d=r:we(n).invalidWeekday=t});fc(["d","e","E"],function(t,e,n,i){e[i]=Ee(t)});function x9(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function S9(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function b0(t,e){return t.slice(e,7).concat(t.slice(0,e))}var T9="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),HI="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),E9="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),C9=dc,k9=dc,b9=dc;function I9(t,e){var n=hi(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?b0(n,this._week.dow):t?n[t.day()]:n}function P9(t){return t===!0?b0(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function L9(t){return t===!0?b0(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function N9(t,e,n){var i,r,s,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)s=Ui([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(s,"").toLocaleLowerCase();return n?e==="dddd"?(r=ht.call(this._weekdaysParse,a),r!==-1?r:null):e==="ddd"?(r=ht.call(this._shortWeekdaysParse,a),r!==-1?r:null):(r=ht.call(this._minWeekdaysParse,a),r!==-1?r:null):e==="dddd"?(r=ht.call(this._weekdaysParse,a),r!==-1||(r=ht.call(this._shortWeekdaysParse,a),r!==-1)?r:(r=ht.call(this._minWeekdaysParse,a),r!==-1?r:null)):e==="ddd"?(r=ht.call(this._shortWeekdaysParse,a),r!==-1||(r=ht.call(this._weekdaysParse,a),r!==-1)?r:(r=ht.call(this._minWeekdaysParse,a),r!==-1?r:null)):(r=ht.call(this._minWeekdaysParse,a),r!==-1||(r=ht.call(this._weekdaysParse,a),r!==-1)?r:(r=ht.call(this._shortWeekdaysParse,a),r!==-1?r:null))}function M9(t,e,n){var i,r,s;if(this._weekdaysParseExact)return N9.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=Ui([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(s="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(s.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[i].test(t))return i;if(n&&e==="ddd"&&this._shortWeekdaysParse[i].test(t))return i;if(n&&e==="dd"&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function O9(t){if(!this.isValid())return t!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=x9(t,this.localeData()),this.add(t-e,"d")):e}function A9(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function R9(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=S9(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function D9(t){return this._weekdaysParseExact?(De(this,"_weekdaysRegex")||I0.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(De(this,"_weekdaysRegex")||(this._weekdaysRegex=C9),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function $9(t){return this._weekdaysParseExact?(De(this,"_weekdaysRegex")||I0.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(De(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=k9),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function z9(t){return this._weekdaysParseExact?(De(this,"_weekdaysRegex")||I0.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(De(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=b9),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function I0(){function t(p,g){return g.length-p.length}var e=[],n=[],i=[],r=[],s,a,u,c,d;for(s=0;s<7;s++)a=Ui([2e3,1]).day(s),u=Tn(this.weekdaysMin(a,"")),c=Tn(this.weekdaysShort(a,"")),d=Tn(this.weekdays(a,"")),e.push(u),n.push(c),i.push(d),r.push(u),r.push(c),r.push(d);e.sort(t),n.sort(t),i.sort(t),r.sort(t),this._weekdaysRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function P0(){return this.hours()%12||12}function F9(){return this.hours()||24}ue("H",["HH",2],0,"hour");ue("h",["hh",2],0,P0);ue("k",["kk",2],0,F9);ue("hmm",0,0,function(){return""+P0.apply(this)+Ri(this.minutes(),2)});ue("hmmss",0,0,function(){return""+P0.apply(this)+Ri(this.minutes(),2)+Ri(this.seconds(),2)});ue("Hmm",0,0,function(){return""+this.hours()+Ri(this.minutes(),2)});ue("Hmmss",0,0,function(){return""+this.hours()+Ri(this.minutes(),2)+Ri(this.seconds(),2)});function WI(t,e){ue(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}WI("a",!0);WI("A",!1);Xt("hour","h");Jt("hour",13);function GI(t,e){return e._meridiemParse}te("a",GI);te("A",GI);te("H",Qe);te("h",Qe);te("k",Qe);te("HH",Qe,An);te("hh",Qe,An);te("kk",Qe,An);te("hmm",RI);te("hmmss",DI);te("Hmm",RI);te("Hmmss",DI);je(["H","HH"],St);je(["k","kk"],function(t,e,n){var i=Ee(t);e[St]=i===24?0:i});je(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});je(["h","hh"],function(t,e,n){e[St]=Ee(t),we(n).bigHour=!0});je("hmm",function(t,e,n){var i=t.length-2;e[St]=Ee(t.substr(0,i)),e[ii]=Ee(t.substr(i)),we(n).bigHour=!0});je("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[St]=Ee(t.substr(0,i)),e[ii]=Ee(t.substr(i,2)),e[rr]=Ee(t.substr(r)),we(n).bigHour=!0});je("Hmm",function(t,e,n){var i=t.length-2;e[St]=Ee(t.substr(0,i)),e[ii]=Ee(t.substr(i))});je("Hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[St]=Ee(t.substr(0,i)),e[ii]=Ee(t.substr(i,2)),e[rr]=Ee(t.substr(r))});function U9(t){return(t+"").toLowerCase().charAt(0)==="p"}var j9=/[ap]\.?m?\.?/i,B9=ja("Hours",!0);function V9(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var qI={calendar:MU,longDateFormat:DU,invalidDate:zU,ordinal:UU,dayOfMonthOrdinalParse:jU,relativeTime:VU,months:i9,monthsShort:$I,week:g9,weekdays:T9,weekdaysMin:E9,weekdaysShort:HI,meridiemParse:j9},Je={},ml={},Ru;function H9(t,e){var n,i=Math.min(t.length,e.length);for(n=0;n<i;n+=1)if(t[n]!==e[n])return n;return i}function tT(t){return t&&t.toLowerCase().replace("_","-")}function W9(t){for(var e=0,n,i,r,s;e<t.length;){for(s=tT(t[e]).split("-"),n=s.length,i=tT(t[e+1]),i=i?i.split("-"):null;n>0;){if(r=cp(s.slice(0,n).join("-")),r)return r;if(i&&i.length>=n&&H9(s,i)>=n-1)break;n--}e++}return Ru}function G9(t){return t.match("^[^/\\\\]*$")!=null}function cp(t){var e=null,n;if(Je[t]===void 0&&typeof Bh<"u"&&Bh&&Bh.exports&&G9(t))try{e=Ru._abbr,n=require,n("./locale/"+t),rs(e)}catch{Je[t]=null}return Je[t]}function rs(t,e){var n;return t&&(hn(e)?n=xr(t):n=L0(t,e),n?Ru=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Ru._abbr}function L0(t,e){if(e!==null){var n,i=qI;if(e.abbr=t,Je[t]!=null)PI("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Je[t]._config;else if(e.parentLocale!=null)if(Je[e.parentLocale]!=null)i=Je[e.parentLocale]._config;else if(n=cp(e.parentLocale),n!=null)i=n._config;else return ml[e.parentLocale]||(ml[e.parentLocale]=[]),ml[e.parentLocale].push({name:t,config:e}),null;return Je[t]=new S0(Hv(i,e)),ml[t]&&ml[t].forEach(function(r){L0(r.name,r.config)}),rs(t),Je[t]}else return delete Je[t],null}function q9(t,e){if(e!=null){var n,i,r=qI;Je[t]!=null&&Je[t].parentLocale!=null?Je[t].set(Hv(Je[t]._config,e)):(i=cp(t),i!=null&&(r=i._config),e=Hv(r,e),i==null&&(e.abbr=t),n=new S0(e),n.parentLocale=Je[t],Je[t]=n),rs(t)}else Je[t]!=null&&(Je[t].parentLocale!=null?(Je[t]=Je[t].parentLocale,t===rs()&&rs(t)):Je[t]!=null&&delete Je[t]);return Je[t]}function xr(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ru;if(!hi(t)){if(e=cp(t),e)return e;t=[t]}return W9(t)}function Y9(){return Wv(Je)}function N0(t){var e,n=t._a;return n&&we(t).overflow===-2&&(e=n[ir]<0||n[ir]>11?ir:n[Si]<1||n[Si]>up(n[Yt],n[ir])?Si:n[St]<0||n[St]>24||n[St]===24&&(n[ii]!==0||n[rr]!==0||n[$s]!==0)?St:n[ii]<0||n[ii]>59?ii:n[rr]<0||n[rr]>59?rr:n[$s]<0||n[$s]>999?$s:-1,we(t)._overflowDayOfYear&&(e<Yt||e>Si)&&(e=Si),we(t)._overflowWeeks&&e===-1&&(e=e9),we(t)._overflowWeekday&&e===-1&&(e=t9),we(t).overflow=e),t}var Z9=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,K9=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Q9=/Z|[+-]\d\d(?::?\d\d)?/,fh=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ng=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],X9=/^\/?Date\((-?\d+)/i,J9=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,ej={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function YI(t){var e,n,i=t._i,r=Z9.exec(i)||K9.exec(i),s,a,u,c,d=fh.length,p=ng.length;if(r){for(we(t).iso=!0,e=0,n=d;e<n;e++)if(fh[e][1].exec(r[1])){a=fh[e][0],s=fh[e][2]!==!1;break}if(a==null){t._isValid=!1;return}if(r[3]){for(e=0,n=p;e<n;e++)if(ng[e][1].exec(r[3])){u=(r[2]||" ")+ng[e][0];break}if(u==null){t._isValid=!1;return}}if(!s&&u!=null){t._isValid=!1;return}if(r[4])if(Q9.exec(r[4]))c="Z";else{t._isValid=!1;return}t._f=a+(u||"")+(c||""),O0(t)}else t._isValid=!1}function tj(t,e,n,i,r,s){var a=[nj(t),$I.indexOf(e),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return s&&a.push(parseInt(s,10)),a}function nj(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function ij(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function rj(t,e,n){if(t){var i=HI.indexOf(t),r=new Date(e[0],e[1],e[2]).getDay();if(i!==r)return we(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function sj(t,e,n){if(t)return ej[t];if(e)return 0;var i=parseInt(n,10),r=i%100,s=(i-r)/100;return s*60+r}function ZI(t){var e=J9.exec(ij(t._i)),n;if(e){if(n=tj(e[4],e[3],e[2],e[5],e[6],e[7]),!rj(e[1],n,t))return;t._a=n,t._tzm=sj(e[8],e[9],e[10]),t._d=Ou.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),we(t).rfc2822=!0}else t._isValid=!1}function oj(t){var e=X9.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(YI(t),t._isValid===!1)delete t._isValid;else return;if(ZI(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:Q.createFromInputFallback(t)}Q.createFromInputFallback=Zn("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Mo(t,e,n){return t??e??n}function aj(t){var e=new Date(Q.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function M0(t){var e,n,i=[],r,s,a;if(!t._d){for(r=aj(t),t._w&&t._a[Si]==null&&t._a[ir]==null&&lj(t),t._dayOfYear!=null&&(a=Mo(t._a[Yt],r[Yt]),(t._dayOfYear>Yl(a)||t._dayOfYear===0)&&(we(t)._overflowDayOfYear=!0),n=Ou(a,0,t._dayOfYear),t._a[ir]=n.getUTCMonth(),t._a[Si]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=i[e]=r[e];for(;e<7;e++)t._a[e]=i[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[St]===24&&t._a[ii]===0&&t._a[rr]===0&&t._a[$s]===0&&(t._nextDay=!0,t._a[St]=0),t._d=(t._useUTC?Ou:p9).apply(null,i),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[St]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==s&&(we(t).weekdayMismatch=!0)}}function lj(t){var e,n,i,r,s,a,u,c,d;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,a=4,n=Mo(e.GG,t._a[Yt],Au(Ze(),1,4).year),i=Mo(e.W,1),r=Mo(e.E,1),(r<1||r>7)&&(c=!0)):(s=t._locale._week.dow,a=t._locale._week.doy,d=Au(Ze(),s,a),n=Mo(e.gg,t._a[Yt],d.year),i=Mo(e.w,d.week),e.d!=null?(r=e.d,(r<0||r>6)&&(c=!0)):e.e!=null?(r=e.e+s,(e.e<0||e.e>6)&&(c=!0)):r=s),i<1||i>ar(n,s,a)?we(t)._overflowWeeks=!0:c!=null?we(t)._overflowWeekday=!0:(u=VI(n,i,r,s,a),t._a[Yt]=u.year,t._dayOfYear=u.dayOfYear)}Q.ISO_8601=function(){};Q.RFC_2822=function(){};function O0(t){if(t._f===Q.ISO_8601){YI(t);return}if(t._f===Q.RFC_2822){ZI(t);return}t._a=[],we(t).empty=!0;var e=""+t._i,n,i,r,s,a,u=e.length,c=0,d,p;for(r=LI(t._f,t._locale).match(T0)||[],p=r.length,n=0;n<p;n++)s=r[n],i=(e.match(QU(s,t))||[])[0],i&&(a=e.substr(0,e.indexOf(i)),a.length>0&&we(t).unusedInput.push(a),e=e.slice(e.indexOf(i)+i.length),c+=i.length),aa[s]?(i?we(t).empty=!1:we(t).unusedTokens.push(s),JU(s,i,t)):t._strict&&!i&&we(t).unusedTokens.push(s);we(t).charsLeftOver=u-c,e.length>0&&we(t).unusedInput.push(e),t._a[St]<=12&&we(t).bigHour===!0&&t._a[St]>0&&(we(t).bigHour=void 0),we(t).parsedDateParts=t._a.slice(0),we(t).meridiem=t._meridiem,t._a[St]=uj(t._locale,t._a[St],t._meridiem),d=we(t).era,d!==null&&(t._a[Yt]=t._locale.erasConvertYear(d,t._a[Yt])),M0(t),N0(t)}function uj(t,e,n){var i;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(i=t.isPM(n),i&&e<12&&(e+=12),!i&&e===12&&(e=0)),e)}function cj(t){var e,n,i,r,s,a,u=!1,c=t._f.length;if(c===0){we(t).invalidFormat=!0,t._d=new Date(NaN);return}for(r=0;r<c;r++)s=0,a=!1,e=x0({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[r],O0(e),w0(e)&&(a=!0),s+=we(e).charsLeftOver,s+=we(e).unusedTokens.length*10,we(e).score=s,u?s<i&&(i=s,n=e):(i==null||s<i||a)&&(i=s,n=e,a&&(u=!0));Vr(t,n||e)}function hj(t){if(!t._d){var e=E0(t._i),n=e.day===void 0?e.date:e.day;t._a=bI([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(i){return i&&parseInt(i,10)}),M0(t)}}function dj(t){var e=new hc(N0(KI(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function KI(t){var e=t._i,n=t._f;return t._locale=t._locale||xr(t._l),e===null||n===void 0&&e===""?np({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),di(e)?new hc(N0(e)):(cc(e)?t._d=e:hi(n)?cj(t):n?O0(t):fj(t),w0(t)||(t._d=null),t))}function fj(t){var e=t._i;hn(e)?t._d=new Date(Q.now()):cc(e)?t._d=new Date(e.valueOf()):typeof e=="string"?oj(t):hi(e)?(t._a=bI(e.slice(0),function(n){return parseInt(n,10)}),M0(t)):Bs(e)?hj(t):_r(e)?t._d=new Date(e):Q.createFromInputFallback(t)}function QI(t,e,n,i,r){var s={};return(e===!0||e===!1)&&(i=e,e=void 0),(n===!0||n===!1)&&(i=n,n=void 0),(Bs(t)&&_0(t)||hi(t)&&t.length===0)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=r,s._l=n,s._i=t,s._f=e,s._strict=i,dj(s)}function Ze(t,e,n,i){return QI(t,e,n,i,!1)}var pj=Zn("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ze.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:np()}),mj=Zn("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ze.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:np()});function XI(t,e){var n,i;if(e.length===1&&hi(e[0])&&(e=e[0]),!e.length)return Ze();for(n=e[0],i=1;i<e.length;++i)(!e[i].isValid()||e[i][t](n))&&(n=e[i]);return n}function gj(){var t=[].slice.call(arguments,0);return XI("isBefore",t)}function vj(){var t=[].slice.call(arguments,0);return XI("isAfter",t)}var yj=function(){return Date.now?Date.now():+new Date},gl=["year","quarter","month","week","day","hour","minute","second","millisecond"];function _j(t){var e,n=!1,i,r=gl.length;for(e in t)if(De(t,e)&&!(ht.call(gl,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(i=0;i<r;++i)if(t[gl[i]]){if(n)return!1;parseFloat(t[gl[i]])!==Ee(t[gl[i]])&&(n=!0)}return!0}function wj(){return this._isValid}function xj(){return fi(NaN)}function hp(t){var e=E0(t),n=e.year||0,i=e.quarter||0,r=e.month||0,s=e.week||e.isoWeek||0,a=e.day||0,u=e.hour||0,c=e.minute||0,d=e.second||0,p=e.millisecond||0;this._isValid=_j(e),this._milliseconds=+p+d*1e3+c*6e4+u*1e3*60*60,this._days=+a+s*7,this._months=+r+i*3+n*12,this._data={},this._locale=xr(),this._bubble()}function Uh(t){return t instanceof hp}function qv(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function Sj(t,e,n){var i=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),s=0,a;for(a=0;a<i;a++)(n&&t[a]!==e[a]||!n&&Ee(t[a])!==Ee(e[a]))&&s++;return s+r}function JI(t,e){ue(t,0,0,function(){var n=this.utcOffset(),i="+";return n<0&&(n=-n,i="-"),i+Ri(~~(n/60),2)+e+Ri(~~n%60,2)})}JI("Z",":");JI("ZZ","");te("Z",lp);te("ZZ",lp);je(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=A0(lp,t)});var Tj=/([\+\-]|\d\d)/gi;function A0(t,e){var n=(e||"").match(t),i,r,s;return n===null?null:(i=n[n.length-1]||[],r=(i+"").match(Tj)||["-",0,0],s=+(r[1]*60)+Ee(r[2]),s===0?0:r[0]==="+"?s:-s)}function R0(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(di(t)||cc(t)?t.valueOf():Ze(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),Q.updateOffset(n,!1),n):Ze(t).local()}function Yv(t){return-Math.round(t._d.getTimezoneOffset())}Q.updateOffset=function(){};function Ej(t,e,n){var i=this._offset||0,r;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=A0(lp,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(r=Yv(this)),this._offset=t,this._isUTC=!0,r!=null&&this.add(r,"m"),i!==t&&(!e||this._changeInProgress?nP(this,fi(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Q.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?i:Yv(this)}function Cj(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function kj(t){return this.utcOffset(0,t)}function bj(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Yv(this),"m")),this}function Ij(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=A0(ZU,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Pj(t){return this.isValid()?(t=t?Ze(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function Lj(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Nj(){if(!hn(this._isDSTShifted))return this._isDSTShifted;var t={},e;return x0(t,this),t=KI(t),t._a?(e=t._isUTC?Ui(t._a):Ze(t._a),this._isDSTShifted=this.isValid()&&Sj(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Mj(){return this.isValid()?!this._isUTC:!1}function Oj(){return this.isValid()?this._isUTC:!1}function eP(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Aj=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Rj=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function fi(t,e){var n=t,i=null,r,s,a;return Uh(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:_r(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(i=Aj.exec(t))?(r=i[1]==="-"?-1:1,n={y:0,d:Ee(i[Si])*r,h:Ee(i[St])*r,m:Ee(i[ii])*r,s:Ee(i[rr])*r,ms:Ee(qv(i[$s]*1e3))*r}):(i=Rj.exec(t))?(r=i[1]==="-"?-1:1,n={y:Cs(i[2],r),M:Cs(i[3],r),w:Cs(i[4],r),d:Cs(i[5],r),h:Cs(i[6],r),m:Cs(i[7],r),s:Cs(i[8],r)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(a=Dj(Ze(n.from),Ze(n.to)),n={},n.ms=a.milliseconds,n.M=a.months),s=new hp(n),Uh(t)&&De(t,"_locale")&&(s._locale=t._locale),Uh(t)&&De(t,"_isValid")&&(s._isValid=t._isValid),s}fi.fn=hp.prototype;fi.invalid=xj;function Cs(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function nT(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Dj(t,e){var n;return t.isValid()&&e.isValid()?(e=R0(e,t),t.isBefore(e)?n=nT(t,e):(n=nT(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function tP(t,e){return function(n,i){var r,s;return i!==null&&!isNaN(+i)&&(PI(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=i,i=s),r=fi(n,i),nP(this,r,t),this}}function nP(t,e,n,i){var r=e._milliseconds,s=qv(e._days),a=qv(e._months);t.isValid()&&(i=i??!0,a&&FI(t,Ud(t,"Month")+a*n),s&&MI(t,"Date",Ud(t,"Date")+s*n),r&&t._d.setTime(t._d.valueOf()+r*n),i&&Q.updateOffset(t,s||a))}var $j=tP(1,"add"),zj=tP(-1,"subtract");function iP(t){return typeof t=="string"||t instanceof String}function Fj(t){return di(t)||cc(t)||iP(t)||_r(t)||jj(t)||Uj(t)||t===null||t===void 0}function Uj(t){var e=Bs(t)&&!_0(t),n=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],r,s,a=i.length;for(r=0;r<a;r+=1)s=i[r],n=n||De(t,s);return e&&n}function jj(t){var e=hi(t),n=!1;return e&&(n=t.filter(function(i){return!_r(i)&&iP(t)}).length===0),e&&n}function Bj(t){var e=Bs(t)&&!_0(t),n=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],r,s;for(r=0;r<i.length;r+=1)s=i[r],n=n||De(t,s);return e&&n}function Vj(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Hj(t,e){arguments.length===1&&(arguments[0]?Fj(arguments[0])?(t=arguments[0],e=void 0):Bj(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Ze(),i=R0(n,this).startOf("day"),r=Q.calendarFormat(this,i)||"sameElse",s=e&&(ji(e[r])?e[r].call(this,n):e[r]);return this.format(s||this.localeData().calendar(r,this,Ze(n)))}function Wj(){return new hc(this)}function Gj(t,e){var n=di(t)?t:Ze(t);return this.isValid()&&n.isValid()?(e=Kn(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function qj(t,e){var n=di(t)?t:Ze(t);return this.isValid()&&n.isValid()?(e=Kn(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function Yj(t,e,n,i){var r=di(t)?t:Ze(t),s=di(e)?e:Ze(e);return this.isValid()&&r.isValid()&&s.isValid()?(i=i||"()",(i[0]==="("?this.isAfter(r,n):!this.isBefore(r,n))&&(i[1]===")"?this.isBefore(s,n):!this.isAfter(s,n))):!1}function Zj(t,e){var n=di(t)?t:Ze(t),i;return this.isValid()&&n.isValid()?(e=Kn(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf())):!1}function Kj(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Qj(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function Xj(t,e,n){var i,r,s;if(!this.isValid())return NaN;if(i=R0(t,this),!i.isValid())return NaN;switch(r=(i.utcOffset()-this.utcOffset())*6e4,e=Kn(e),e){case"year":s=jh(this,i)/12;break;case"month":s=jh(this,i);break;case"quarter":s=jh(this,i)/3;break;case"second":s=(this-i)/1e3;break;case"minute":s=(this-i)/6e4;break;case"hour":s=(this-i)/36e5;break;case"day":s=(this-i-r)/864e5;break;case"week":s=(this-i-r)/6048e5;break;default:s=this-i}return n?s:jn(s)}function jh(t,e){if(t.date()<e.date())return-jh(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),i=t.clone().add(n,"months"),r,s;return e-i<0?(r=t.clone().add(n-1,"months"),s=(e-i)/(i-r)):(r=t.clone().add(n+1,"months"),s=(e-i)/(r-i)),-(n+s)||0}Q.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Q.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Jj(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function eB(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?Fh(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ji(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Fh(n,"Z")):Fh(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function tB(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,i,r,s;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(n+i+r+s)}function nB(t){t||(t=this.isUtc()?Q.defaultFormatUtc:Q.defaultFormat);var e=Fh(this,t);return this.localeData().postformat(e)}function iB(t,e){return this.isValid()&&(di(t)&&t.isValid()||Ze(t).isValid())?fi({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function rB(t){return this.from(Ze(),t)}function sB(t,e){return this.isValid()&&(di(t)&&t.isValid()||Ze(t).isValid())?fi({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function oB(t){return this.to(Ze(),t)}function rP(t){var e;return t===void 0?this._locale._abbr:(e=xr(t),e!=null&&(this._locale=e),this)}var sP=Zn("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function oP(){return this._locale}var Vd=1e3,la=60*Vd,Hd=60*la,aP=(365*400+97)*24*Hd;function ua(t,e){return(t%e+e)%e}function lP(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-aP:new Date(t,e,n).valueOf()}function uP(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-aP:Date.UTC(t,e,n)}function aB(t){var e,n;if(t=Kn(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?uP:lP,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=ua(e+(this._isUTC?0:this.utcOffset()*la),Hd);break;case"minute":e=this._d.valueOf(),e-=ua(e,la);break;case"second":e=this._d.valueOf(),e-=ua(e,Vd);break}return this._d.setTime(e),Q.updateOffset(this,!0),this}function lB(t){var e,n;if(t=Kn(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?uP:lP,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=Hd-ua(e+(this._isUTC?0:this.utcOffset()*la),Hd)-1;break;case"minute":e=this._d.valueOf(),e+=la-ua(e,la)-1;break;case"second":e=this._d.valueOf(),e+=Vd-ua(e,Vd)-1;break}return this._d.setTime(e),Q.updateOffset(this,!0),this}function uB(){return this._d.valueOf()-(this._offset||0)*6e4}function cB(){return Math.floor(this.valueOf()/1e3)}function hB(){return new Date(this.valueOf())}function dB(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function fB(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function pB(){return this.isValid()?this.toISOString():null}function mB(){return w0(this)}function gB(){return Vr({},we(this))}function vB(){return we(this).overflow}function yB(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ue("N",0,0,"eraAbbr");ue("NN",0,0,"eraAbbr");ue("NNN",0,0,"eraAbbr");ue("NNNN",0,0,"eraName");ue("NNNNN",0,0,"eraNarrow");ue("y",["y",1],"yo","eraYear");ue("y",["yy",2],0,"eraYear");ue("y",["yyy",3],0,"eraYear");ue("y",["yyyy",4],0,"eraYear");te("N",D0);te("NN",D0);te("NNN",D0);te("NNNN",PB);te("NNNNN",LB);je(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,i){var r=n._locale.erasParse(t,i,n._strict);r?we(n).era=r:we(n).invalidEra=t});te("y",Ba);te("yy",Ba);te("yyy",Ba);te("yyyy",Ba);te("yo",NB);je(["y","yy","yyy","yyyy"],Yt);je(["yo"],function(t,e,n,i){var r;n._locale._eraYearOrdinalRegex&&(r=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[Yt]=n._locale.eraYearOrdinalParse(t,r):e[Yt]=parseInt(t,10)});function _B(t,e){var n,i,r,s=this._eras||xr("en")._eras;for(n=0,i=s.length;n<i;++n){switch(typeof s[n].since){case"string":r=Q(s[n].since).startOf("day"),s[n].since=r.valueOf();break}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":r=Q(s[n].until).startOf("day").valueOf(),s[n].until=r.valueOf();break}}return s}function wB(t,e,n){var i,r,s=this.eras(),a,u,c;for(t=t.toUpperCase(),i=0,r=s.length;i<r;++i)if(a=s[i].name.toUpperCase(),u=s[i].abbr.toUpperCase(),c=s[i].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(u===t)return s[i];break;case"NNNN":if(a===t)return s[i];break;case"NNNNN":if(c===t)return s[i];break}else if([a,u,c].indexOf(t)>=0)return s[i]}function xB(t,e){var n=t.since<=t.until?1:-1;return e===void 0?Q(t.since).year():Q(t.since).year()+(e-t.offset)*n}function SB(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until||i[t].until<=n&&n<=i[t].since)return i[t].name;return""}function TB(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until||i[t].until<=n&&n<=i[t].since)return i[t].narrow;return""}function EB(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until||i[t].until<=n&&n<=i[t].since)return i[t].abbr;return""}function CB(){var t,e,n,i,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=r[t].since<=r[t].until?1:-1,i=this.clone().startOf("day").valueOf(),r[t].since<=i&&i<=r[t].until||r[t].until<=i&&i<=r[t].since)return(this.year()-Q(r[t].since).year())*n+r[t].offset;return this.year()}function kB(t){return De(this,"_erasNameRegex")||$0.call(this),t?this._erasNameRegex:this._erasRegex}function bB(t){return De(this,"_erasAbbrRegex")||$0.call(this),t?this._erasAbbrRegex:this._erasRegex}function IB(t){return De(this,"_erasNarrowRegex")||$0.call(this),t?this._erasNarrowRegex:this._erasRegex}function D0(t,e){return e.erasAbbrRegex(t)}function PB(t,e){return e.erasNameRegex(t)}function LB(t,e){return e.erasNarrowRegex(t)}function NB(t,e){return e._eraYearOrdinalRegex||Ba}function $0(){var t=[],e=[],n=[],i=[],r,s,a=this.eras();for(r=0,s=a.length;r<s;++r)e.push(Tn(a[r].name)),t.push(Tn(a[r].abbr)),n.push(Tn(a[r].narrow)),i.push(Tn(a[r].name)),i.push(Tn(a[r].abbr)),i.push(Tn(a[r].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}ue(0,["gg",2],0,function(){return this.weekYear()%100});ue(0,["GG",2],0,function(){return this.isoWeekYear()%100});function dp(t,e){ue(0,[t,t.length],0,e)}dp("gggg","weekYear");dp("ggggg","weekYear");dp("GGGG","isoWeekYear");dp("GGGGG","isoWeekYear");Xt("weekYear","gg");Xt("isoWeekYear","GG");Jt("weekYear",1);Jt("isoWeekYear",1);te("G",ap);te("g",ap);te("GG",Qe,An);te("gg",Qe,An);te("GGGG",k0,C0);te("gggg",k0,C0);te("GGGGG",op,rp);te("ggggg",op,rp);fc(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=Ee(t)});fc(["gg","GG"],function(t,e,n,i){e[i]=Q.parseTwoDigitYear(t)});function MB(t){return cP.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function OB(t){return cP.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function AB(){return ar(this.year(),1,4)}function RB(){return ar(this.isoWeekYear(),1,4)}function DB(){var t=this.localeData()._week;return ar(this.year(),t.dow,t.doy)}function $B(){var t=this.localeData()._week;return ar(this.weekYear(),t.dow,t.doy)}function cP(t,e,n,i,r){var s;return t==null?Au(this,i,r).year:(s=ar(t,i,r),e>s&&(e=s),zB.call(this,t,e,n,i,r))}function zB(t,e,n,i,r){var s=VI(t,e,n,i,r),a=Ou(s.year,0,s.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}ue("Q",0,"Qo","quarter");Xt("quarter","Q");Jt("quarter",7);te("Q",OI);je("Q",function(t,e){e[ir]=(Ee(t)-1)*3});function FB(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}ue("D",["DD",2],"Do","date");Xt("date","D");Jt("date",9);te("D",Qe);te("DD",Qe,An);te("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});je(["D","DD"],Si);je("Do",function(t,e){e[Si]=Ee(t.match(Qe)[0])});var hP=ja("Date",!0);ue("DDD",["DDDD",3],"DDDo","dayOfYear");Xt("dayOfYear","DDD");Jt("dayOfYear",4);te("DDD",sp);te("DDDD",AI);je(["DDD","DDDD"],function(t,e,n){n._dayOfYear=Ee(t)});function UB(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}ue("m",["mm",2],0,"minute");Xt("minute","m");Jt("minute",14);te("m",Qe);te("mm",Qe,An);je(["m","mm"],ii);var jB=ja("Minutes",!1);ue("s",["ss",2],0,"second");Xt("second","s");Jt("second",15);te("s",Qe);te("ss",Qe,An);je(["s","ss"],rr);var BB=ja("Seconds",!1);ue("S",0,0,function(){return~~(this.millisecond()/100)});ue(0,["SS",2],0,function(){return~~(this.millisecond()/10)});ue(0,["SSS",3],0,"millisecond");ue(0,["SSSS",4],0,function(){return this.millisecond()*10});ue(0,["SSSSS",5],0,function(){return this.millisecond()*100});ue(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});ue(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});ue(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});ue(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Xt("millisecond","ms");Jt("millisecond",16);te("S",sp,OI);te("SS",sp,An);te("SSS",sp,AI);var Hr,dP;for(Hr="SSSS";Hr.length<=9;Hr+="S")te(Hr,Ba);function VB(t,e){e[$s]=Ee(("0."+t)*1e3)}for(Hr="S";Hr.length<=9;Hr+="S")je(Hr,VB);dP=ja("Milliseconds",!1);ue("z",0,0,"zoneAbbr");ue("zz",0,0,"zoneName");function HB(){return this._isUTC?"UTC":""}function WB(){return this._isUTC?"Coordinated Universal Time":""}var W=hc.prototype;W.add=$j;W.calendar=Hj;W.clone=Wj;W.diff=Xj;W.endOf=lB;W.format=nB;W.from=iB;W.fromNow=rB;W.to=sB;W.toNow=oB;W.get=qU;W.invalidAt=vB;W.isAfter=Gj;W.isBefore=qj;W.isBetween=Yj;W.isSame=Zj;W.isSameOrAfter=Kj;W.isSameOrBefore=Qj;W.isValid=mB;W.lang=sP;W.locale=rP;W.localeData=oP;W.max=mj;W.min=pj;W.parsingFlags=gB;W.set=YU;W.startOf=aB;W.subtract=zj;W.toArray=dB;W.toObject=fB;W.toDate=hB;W.toISOString=eB;W.inspect=tB;typeof Symbol<"u"&&Symbol.for!=null&&(W[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});W.toJSON=pB;W.toString=Jj;W.unix=cB;W.valueOf=uB;W.creationData=yB;W.eraName=SB;W.eraNarrow=TB;W.eraAbbr=EB;W.eraYear=CB;W.year=BI;W.isLeapYear=f9;W.weekYear=MB;W.isoWeekYear=OB;W.quarter=W.quarters=FB;W.month=UI;W.daysInMonth=c9;W.week=W.weeks=_9;W.isoWeek=W.isoWeeks=w9;W.weeksInYear=DB;W.weeksInWeekYear=$B;W.isoWeeksInYear=AB;W.isoWeeksInISOWeekYear=RB;W.date=hP;W.day=W.days=O9;W.weekday=A9;W.isoWeekday=R9;W.dayOfYear=UB;W.hour=W.hours=B9;W.minute=W.minutes=jB;W.second=W.seconds=BB;W.millisecond=W.milliseconds=dP;W.utcOffset=Ej;W.utc=kj;W.local=bj;W.parseZone=Ij;W.hasAlignedHourOffset=Pj;W.isDST=Lj;W.isLocal=Mj;W.isUtcOffset=Oj;W.isUtc=eP;W.isUTC=eP;W.zoneAbbr=HB;W.zoneName=WB;W.dates=Zn("dates accessor is deprecated. Use date instead.",hP);W.months=Zn("months accessor is deprecated. Use month instead",UI);W.years=Zn("years accessor is deprecated. Use year instead",BI);W.zone=Zn("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Cj);W.isDSTShifted=Zn("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Nj);function GB(t){return Ze(t*1e3)}function qB(){return Ze.apply(null,arguments).parseZone()}function fP(t){return t}var $e=S0.prototype;$e.calendar=OU;$e.longDateFormat=$U;$e.invalidDate=FU;$e.ordinal=BU;$e.preparse=fP;$e.postformat=fP;$e.relativeTime=HU;$e.pastFuture=WU;$e.set=NU;$e.eras=_B;$e.erasParse=wB;$e.erasConvertYear=xB;$e.erasAbbrRegex=bB;$e.erasNameRegex=kB;$e.erasNarrowRegex=IB;$e.months=o9;$e.monthsShort=a9;$e.monthsParse=u9;$e.monthsRegex=d9;$e.monthsShortRegex=h9;$e.week=m9;$e.firstDayOfYear=y9;$e.firstDayOfWeek=v9;$e.weekdays=I9;$e.weekdaysMin=L9;$e.weekdaysShort=P9;$e.weekdaysParse=M9;$e.weekdaysRegex=D9;$e.weekdaysShortRegex=$9;$e.weekdaysMinRegex=z9;$e.isPM=U9;$e.meridiem=V9;function Wd(t,e,n,i){var r=xr(),s=Ui().set(i,e);return r[n](s,t)}function pP(t,e,n){if(_r(t)&&(e=t,t=void 0),t=t||"",e!=null)return Wd(t,e,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=Wd(t,i,n,"month");return r}function z0(t,e,n,i){typeof t=="boolean"?(_r(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,_r(e)&&(n=e,e=void 0),e=e||"");var r=xr(),s=t?r._week.dow:0,a,u=[];if(n!=null)return Wd(e,(n+s)%7,i,"day");for(a=0;a<7;a++)u[a]=Wd(e,(a+s)%7,i,"day");return u}function YB(t,e){return pP(t,e,"months")}function ZB(t,e){return pP(t,e,"monthsShort")}function KB(t,e,n){return z0(t,e,n,"weekdays")}function QB(t,e,n){return z0(t,e,n,"weekdaysShort")}function XB(t,e,n){return z0(t,e,n,"weekdaysMin")}rs("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=Ee(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});Q.lang=Zn("moment.lang is deprecated. Use moment.locale instead.",rs);Q.langData=Zn("moment.langData is deprecated. Use moment.localeData instead.",xr);var Gi=Math.abs;function JB(){var t=this._data;return this._milliseconds=Gi(this._milliseconds),this._days=Gi(this._days),this._months=Gi(this._months),t.milliseconds=Gi(t.milliseconds),t.seconds=Gi(t.seconds),t.minutes=Gi(t.minutes),t.hours=Gi(t.hours),t.months=Gi(t.months),t.years=Gi(t.years),this}function mP(t,e,n,i){var r=fi(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function e8(t,e){return mP(this,t,e,1)}function t8(t,e){return mP(this,t,e,-1)}function iT(t){return t<0?Math.floor(t):Math.ceil(t)}function n8(){var t=this._milliseconds,e=this._days,n=this._months,i=this._data,r,s,a,u,c;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=iT(Zv(n)+e)*864e5,e=0,n=0),i.milliseconds=t%1e3,r=jn(t/1e3),i.seconds=r%60,s=jn(r/60),i.minutes=s%60,a=jn(s/60),i.hours=a%24,e+=jn(a/24),c=jn(gP(e)),n+=c,e-=iT(Zv(c)),u=jn(n/12),n%=12,i.days=e,i.months=n,i.years=u,this}function gP(t){return t*4800/146097}function Zv(t){return t*146097/4800}function i8(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if(t=Kn(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+i/864e5,n=this._months+gP(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(Zv(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return e*24+i/36e5;case"minute":return e*1440+i/6e4;case"second":return e*86400+i/1e3;case"millisecond":return Math.floor(e*864e5)+i;default:throw new Error("Unknown unit "+t)}}function r8(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Ee(this._months/12)*31536e6:NaN}function Sr(t){return function(){return this.as(t)}}var s8=Sr("ms"),o8=Sr("s"),a8=Sr("m"),l8=Sr("h"),u8=Sr("d"),c8=Sr("w"),h8=Sr("M"),d8=Sr("Q"),f8=Sr("y");function p8(){return fi(this)}function m8(t){return t=Kn(t),this.isValid()?this[t+"s"]():NaN}function go(t){return function(){return this.isValid()?this._data[t]:NaN}}var g8=go("milliseconds"),v8=go("seconds"),y8=go("minutes"),_8=go("hours"),w8=go("days"),x8=go("months"),S8=go("years");function T8(){return jn(this.days()/7)}var Zi=Math.round,qo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function E8(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function C8(t,e,n,i){var r=fi(t).abs(),s=Zi(r.as("s")),a=Zi(r.as("m")),u=Zi(r.as("h")),c=Zi(r.as("d")),d=Zi(r.as("M")),p=Zi(r.as("w")),g=Zi(r.as("y")),y=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||a<=1&&["m"]||a<n.m&&["mm",a]||u<=1&&["h"]||u<n.h&&["hh",u]||c<=1&&["d"]||c<n.d&&["dd",c];return n.w!=null&&(y=y||p<=1&&["w"]||p<n.w&&["ww",p]),y=y||d<=1&&["M"]||d<n.M&&["MM",d]||g<=1&&["y"]||["yy",g],y[2]=e,y[3]=+t>0,y[4]=i,E8.apply(null,y)}function k8(t){return t===void 0?Zi:typeof t=="function"?(Zi=t,!0):!1}function b8(t,e){return qo[t]===void 0?!1:e===void 0?qo[t]:(qo[t]=e,t==="s"&&(qo.ss=e-1),!0)}function I8(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,i=qo,r,s;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(i=Object.assign({},qo,e),e.s!=null&&e.ss==null&&(i.ss=e.s-1)),r=this.localeData(),s=C8(this,!n,i,r),n&&(s=r.pastFuture(+this,s)),r.postformat(s)}var ig=Math.abs;function Io(t){return(t>0)-(t<0)||+t}function fp(){if(!this.isValid())return this.localeData().invalidDate();var t=ig(this._milliseconds)/1e3,e=ig(this._days),n=ig(this._months),i,r,s,a,u=this.asSeconds(),c,d,p,g;return u?(i=jn(t/60),r=jn(i/60),t%=60,i%=60,s=jn(n/12),n%=12,a=t?t.toFixed(3).replace(/\.?0+$/,""):"",c=u<0?"-":"",d=Io(this._months)!==Io(u)?"-":"",p=Io(this._days)!==Io(u)?"-":"",g=Io(this._milliseconds)!==Io(u)?"-":"",c+"P"+(s?d+s+"Y":"")+(n?d+n+"M":"")+(e?p+e+"D":"")+(r||i||t?"T":"")+(r?g+r+"H":"")+(i?g+i+"M":"")+(t?g+a+"S":"")):"P0D"}var Me=hp.prototype;Me.isValid=wj;Me.abs=JB;Me.add=e8;Me.subtract=t8;Me.as=i8;Me.asMilliseconds=s8;Me.asSeconds=o8;Me.asMinutes=a8;Me.asHours=l8;Me.asDays=u8;Me.asWeeks=c8;Me.asMonths=h8;Me.asQuarters=d8;Me.asYears=f8;Me.valueOf=r8;Me._bubble=n8;Me.clone=p8;Me.get=m8;Me.milliseconds=g8;Me.seconds=v8;Me.minutes=y8;Me.hours=_8;Me.days=w8;Me.weeks=T8;Me.months=x8;Me.years=S8;Me.humanize=I8;Me.toISOString=fp;Me.toString=fp;Me.toJSON=fp;Me.locale=rP;Me.localeData=oP;Me.toIsoString=Zn("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",fp);Me.lang=sP;ue("X",0,0,"unix");ue("x",0,0,"valueOf");te("x",ap);te("X",KU);je("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});je("x",function(t,e,n){n._d=new Date(Ee(t))});//! moment.js
Q.version="2.29.4";PU(Ze);Q.fn=W;Q.min=gj;Q.max=vj;Q.now=yj;Q.utc=Ui;Q.unix=GB;Q.months=YB;Q.isDate=cc;Q.locale=rs;Q.invalid=np;Q.duration=fi;Q.isMoment=di;Q.weekdays=KB;Q.parseZone=qB;Q.localeData=xr;Q.isDuration=Uh;Q.monthsShort=ZB;Q.weekdaysMin=XB;Q.defineLocale=L0;Q.updateLocale=q9;Q.locales=Y9;Q.weekdaysShort=QB;Q.normalizeUnits=Kn;Q.relativeTimeRounding=k8;Q.relativeTimeThreshold=b8;Q.calendarFormat=Vj;Q.prototype=W;Q.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function P8(t){return On({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}}]})(t)}function L8(t){return On({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 000-1.41l-2.34-2.34a.996.996 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}}]})(t)}function vP(t){return On({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 2C8.13 2 5 5.13 5 9c0 1.74.5 3.37 1.41 4.84.95 1.54 2.2 2.86 3.16 4.4.47.75.81 1.45 1.17 2.26.26.55.47 1.5 1.26 1.5s1-.95 1.25-1.5c.37-.81.7-1.51 1.17-2.26.96-1.53 2.21-2.85 3.16-4.4C18.5 12.37 19 10.74 19 9c0-3.87-3.13-7-7-7zm0 9.75a2.5 2.5 0 010-5 2.5 2.5 0 010 5z"}}]})(t)}function N8(t){return On({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M20 8V6c0-1.65-1.35-3-3-3H7C5.35 3 4 4.35 4 6v2c-1.65 0-3 1.35-3 3v5c0 1.65 1.35 3 3 3v1c0 .55.45 1 1 1s1-.45 1-1v-1h12v1c0 .55.45 1 1 1s1-.45 1-1v-1c1.65 0 3-1.35 3-3v-5c0-1.65-1.35-3-3-3zM6 6c0-.55.45-1 1-1h10c.55 0 1 .45 1 1v2.78c-.61.55-1 1.34-1 2.22v2H7v-2c0-.88-.39-1.67-1-2.22V6zm15 10c0 .55-.45 1-1 1H4c-.55 0-1-.45-1-1v-5c0-.55.45-1 1-1s1 .45 1 1v4h14v-4c0-.55.45-1 1-1s1 .45 1 1v5z"}}]})(t)}const M8=({listing:t,id:e,onEdit:n,onDelete:i})=>{const s=t.timestamp.toDate();return T.jsxs("li",{className:"relative bg-[#e2e2e2] flex flex-col justify-between item-center shadow-lg hover:shadow-xl rounded overflow-hidden transition-shadow duration-150 mx-[10px] mb-4",children:[T.jsxs(Zs,{className:"contents",to:`/category/${t.type}/${e}`,children:[T.jsx("img",{className:"h-[170px] w-full object-cover hover:scale-105 transition-scale duration-200 ease-in",loading:"lazy",src:t.imgUrls[0],alt:t.name}),T.jsx("p",{className:"absolute top-2 left-2 bg-[#10192D] text-[#e2e2e2] uppercase text-xs font-semibold rounded-md px-2 py-1 shadow-lg",children:Q(s).format("Do MMMM YYYY, h:mm a")}),T.jsxs("div",{className:"w-full p-3 relative",children:[T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx(vP,{className:"h-4 w-4 text-[#10192D]"}),T.jsx("p",{className:"font-semibold text-sm mb-[2px] text-[#202e3d]",children:t.address})]}),T.jsx("p",{className:" font-semibold m-o text-xl text-[#002470] truncate",children:t.name}),T.jsxs("p",{className:"text-[#457b9d] mt-2 font-semibold",children:["Ksh"," ",t.offer?t.discount.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):t.cost.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),t.type==="rent"&&" /month"]}),T.jsxs("div",{className:"flex items-center mt-2 gap-4",children:[T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx(tp,{}),T.jsx("p",{className:"font-bold text-sm",children:t.bedrooms>1?`${t.bedrooms} Beds`:"1 Bed"})]}),T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx(ep,{}),T.jsx("p",{className:"font-bold text-sm",children:t.restrooms>1?`${t.restrooms} Rests`:"1 Rest"})]})]})]})]}),T.jsx("div",{className:"absolute right-1 bottom-3",children:T.jsxs("div",{className:"flex gap-1",children:[n&&T.jsx(L8,{className:"text-[#081c47] z-30",onClick:()=>n(t.id)}),n&&T.jsx(P8,{className:"text-[#5a0909] z-30",onClick:()=>i(t.id)})]})})]})},O8=()=>{const t=Fi(),e=$i(),[n,i]=M.useState(!1),[r,s]=M.useState(null),[a,u]=M.useState(!0),[c,d]=M.useState({name:t.currentUser.displayName,email:t.currentUser.email}),{name:p,email:g}=c,y=()=>{t.signOut(),e("/"),ae.info(`See you Again, ${p}!`)},w=v=>{d(_=>({..._,[v.target.id]:v.target.value}))},E=async()=>{try{if(t.currentUser.displayName!==p){await oI(t.currentUser,{displayName:p});const v=vr(oi,"users",t.currentUser.uid);await gb(v,{name:p})}ae.success("Profile Details Updated!")}catch{ae.error("Could not update the Profile Details 😢")}};M.useEffect(()=>{(async()=>{const _=q_(oi,"listings"),S=ab(_,y$("userRef","==",t.currentUser.uid),lb("timestamp","desc")),k=await pb(S);let P=[];k.forEach(O=>P.push({id:O.id,data:O.data()})),s(P),u(!1)})()},[t.currentUser.uid]);const C=async v=>{if(window.confirm("Are you sure you want to delete?")){await T$(vr(oi,"listings",v));const _=r.filter(S=>S.id!==v);s(_),ae.success("Successfully Deleted Listing")}},b=v=>{e(`/edit-listing/${v}`)};return T.jsxs(T.Fragment,{children:[T.jsxs("section",{children:[T.jsx("img",{src:u5,className:"h-24 mt-4 m-auto",alt:"",style:{transform:"rotateY(180deg)"}}),T.jsx("h1",{className:"text-4xl mt-2 text-center font-bold text-[#202e3d]",children:"My Profile"}),T.jsxs("div",{className:"w-[95%] md:w-[50%] m-auto",children:[T.jsxs("form",{action:"",className:"mt-6",children:[T.jsx("input",{type:"text",id:"name",value:p,disabled:!n,onChange:w,className:`w-full py-2 text-3xl text-[#3c546e] text-center border-[#3c546e] transition ease-in-out rounded cursor-pointa ${n?"bg-[#16b0df] focus:bg-[#3c546e] focus:text-[#ffffff]":" bg-transparent"}`}),T.jsx("input",{type:"email",id:"email",value:g,disabled:!0,className:"w-full bg-transparent py-2 text-3xl text-[#3c546e] text-center border-[#3c546e] transition ease-in-out rounded cursor-pointa"}),T.jsxs("div",{className:"w-full flex justify-between whitespace-nowrap text-sm sm:text-lg mt-6 mb-6",children:[T.jsxs("p",{className:"text-[#172431] font-light items-center",children:["Want to change your name?",T.jsxs("span",{onClick:()=>{n&&E(),i(v=>!v)},className:"text-[#172431] text-xl font-semibold transition duration-500 ease-in-out hover:text-[#3c546e] cursor-pointc",children:[" ",n?"Apply Change":"Edit"]})]}),T.jsx("p",{onClick:y,className:"text-[#7e1e1e] text-xl font-semibold transition duration-500 ease-in-out hover:text-[#af4646] cursor-pointc",children:"Sign Out"})]})]}),T.jsx("button",{type:"submit",className:"w-full mt-4 bg-[#10192D] text-[#fff] font-medium uppercase shadow-lg hover:shadow-xl p-4 rounded cursor-pointc text-2xl hover:bg-[#192d41] transition duration-200 ease-in-out active:bg-[#10192D]",title:"Sell Or Rent your Home",children:T.jsxs(Zs,{to:"/add-listing",className:"flex justify-center items-center gap-4",children:[T.jsx(y0,{className:"text-4xl"})," Sell Or Rent"]})})]})]}),T.jsx("div",{className:"mt-6 px-3 max-w-6xl mx-auto",children:!a&&r.length>0&&T.jsxs(T.Fragment,{children:[T.jsx("h1",{className:"text-2xl text-center font-semibold text-[#202e3d]",children:"My Listings"}),T.jsx("ul",{className:"sm:grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 mt-4",children:r.map(v=>T.jsx(M8,{id:v.id,listing:v.data,onDelete:()=>C(v.id),onEdit:()=>b(v.id)},v.id))})]})})]})},A8=()=>T.jsx("div",{children:"Offers"}),R8="/assets/passwordamico-832c3046.svg";function D8(t){return On({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`}},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`}},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`}},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`}}]})(t)}const F0=()=>{const t=$i(),e=async()=>{try{const n=Fi(),i=new Qi,s=(await kF(n,i)).user,a=vr(oi,"users",s.uid);(await Gf(a)).exists()||await mb(a,{name:s.displayName,email:s.email,timestamp:Yf()}),t("/"),ae.success(`Welcome ${s.displayName}! 🎉`)}catch{ae.error("Could not authorize with Google 😢")}};return T.jsx("div",{children:T.jsx("button",{onClick:e,type:"button",className:"flex items-center justify-center w-full bg-[#2d1010] text-[#fff] font-medium uppercase shadow-lg hover:shadow-xl sha p-1 rounded cursor-pointc text-3xl hover:bg-[#411919] transition duration-200 ease-in-out active:bg-[#2d1010]",title:"Continue With Google",children:T.jsx(D8,{})})})},$8=()=>{const[t,e]=M.useState(""),n=r=>{e(r.target.value)},i=async r=>{r.preventDefault();try{const s=Fi();await eF(s,t),ae.success("Reset Password Email was Sent")}catch(s){const u=s.message.split(" ");u.includes("(auth/invalid-email).")&&ae.error("Invalid Email 😢"),u.includes("(auth/missing-email).")&&ae.error("Missing Email 😢"),u.includes("(auth/user-not-found).")&&ae.error("User Not Found 😢")}};return T.jsxs("section",{children:[T.jsx("h1",{className:"text-4xl text-center mt-6 font-bold text-[#202e3d]",children:"Forgot Password"}),T.jsxs("div",{className:"flex justify-center flex-wrap items-center p-6 max-w-6xl mx-auto",children:[T.jsx("div",{className:"md:w-[67%] lg:w-[45%] mb-12 mb:mb-6",children:T.jsx("img",{src:R8,alt:"Signin Image",className:"w-full"})}),T.jsx("div",{className:"w-full md:w-[67%] lg:w-[40%] lg:ml-20",children:T.jsxs("form",{action:"",onSubmit:i,children:[T.jsx("input",{type:"email",id:"email",value:t,onChange:n,placeholder:"Email Address",className:"mb-6 w-full px-4 py-2 text-xl text-[#ffffff] bg-[#3c546e] placeholder:text-[#808080] rounded transition ease-in-out"}),T.jsxs("div",{className:"flex justify-between whitespace-nowrap text-sm sm:text-lg",children:[T.jsxs("p",{className:"text-[#172431] font-light mb-6",children:["Don't Have an Account?",T.jsxs(Zs,{to:"/sign-up",className:"text-[#172431] text-xl font-semibold transition duration-500 ease-in-out hover:text-[#3c546e]",children:[" ","Register"]})]}),T.jsx("p",{children:T.jsx(Zs,{to:"/sign-in",className:"text-[#7e1e1e] text-xl font-semibold transition duration-500 ease-in-out hover:text-[#af4646]",children:"Back to Sign In"})})]}),T.jsx("button",{type:"submit",className:"w-full bg-[#10192D] text-[#fff] font-medium uppercase shadow-lg hover:shadow-xl sha p-2 rounded cursor-pointc text-xl hover:bg-[#192d41] transition duration-200 ease-in-out active:bg-[#10192D]",title:"Send Reset Password",children:"Send Reset Password"}),T.jsx("div",{className:"flex my-4 items-center before:border-t before:flex-1 before:border-[#6f859b] after:border-t after:flex-1 after:border-[#6f859b]",children:T.jsx("p",{className:"text-center font-semibold mx-4 text-[#42505e]",children:"OR"})}),T.jsx(F0,{})]})})]})]})},z8="/assets/keyamico-b861d903.svg",F8=()=>{const[t,e]=M.useState(!1),[n,i]=M.useState({email:"",password:""}),{email:r,password:s}=n,a=$i(),u=d=>{i(p=>({...p,[d.target.id]:d.target.value}))},c=async d=>{d.preventDefault();try{const p=Fi(),g=await nF(p,r,s);if(g.user){const y=g.user;console.log(y),a("/"),ae.success(`Welcome ${y.displayName}! 🎉`)}}catch(p){const y=p.message.split(" ");y.includes("(auth/invalid-email).")&&ae.error("Invalid Email 😢"),y.includes("(auth/missing-password).")&&ae.error("Missing Password 😢"),y.includes("(auth/user-not-found).")&&ae.error("User Not Found 😢"),y.includes("(auth/wrong-password).")&&ae.error("Wrong Password 😢")}};return T.jsxs("section",{children:[T.jsx("h1",{className:"text-4xl text-center mt-6 font-bold text-[#202e3d]",children:"Sign In"}),T.jsxs("div",{className:"flex justify-center flex-wrap items-center p-6 max-w-6xl mx-auto",children:[T.jsx("div",{className:"md:w-[67%] lg:w-[45%] mb-12 mb:mb-6",children:T.jsx("img",{src:z8,alt:"Signin Image",className:"w-full"})}),T.jsx("div",{className:"w-full md:w-[67%] lg:w-[40%] lg:ml-20",children:T.jsxs("form",{action:"",onSubmit:c,children:[T.jsx("input",{type:"email",id:"email",value:r,onChange:u,placeholder:"Email Address",className:"mb-6 w-full px-4 py-2 text-xl text-[#ffffff] bg-[#3c546e] placeholder:text-[#808080] rounded transition ease-in-out"}),T.jsxs("div",{className:"relative mb-6",children:[T.jsx("input",{type:t?"text":"password",id:"password",value:s,onChange:u,placeholder:"Password",className:"w-full px-4 py-2 text-xl text-[#ffffff] bg-[#3c546e] placeholder:text-[#808080] rounded transition ease-in-out"}),t?T.jsx(CI,{className:"absolute right-3 top-3 text-xl cursor-pointc",onClick:()=>e(d=>!d)}):T.jsx(EI,{className:"absolute right-3 top-3 text-xl cursor-pointc",onClick:()=>e(d=>!d)})]}),T.jsxs("div",{className:"flex justify-between whitespace-nowrap text-sm sm:text-lg mb-6",children:[T.jsxs("p",{className:"text-[#172431] font-light",children:["Don't Have an Account?",T.jsxs(Zs,{to:"/sign-up",className:"text-[#172431] text-xl font-semibold transition duration-500 ease-in-out hover:text-[#3c546e]",children:[" ","Register"]})]}),T.jsx("p",{children:T.jsx(Zs,{to:"/forgot-password",className:"text-[#7e1e1e] text-xl font-semibold transition duration-500 ease-in-out hover:text-[#af4646]",children:"Forgot Password?"})})]}),T.jsx("button",{type:"submit",className:"w-full bg-[#10192D] text-[#fff] font-medium uppercase shadow-lg hover:shadow-xl p-2 rounded cursor-pointc text-xl hover:bg-[#192d41] transition duration-200 ease-in-out active:bg-[#10192D]",title:"Sign In",children:"Sign In"}),T.jsx("div",{className:"flex my-4 items-center before:border-t before:flex-1 before:border-[#6f859b] after:border-t after:flex-1 after:border-[#6f859b]",children:T.jsx("p",{className:"text-center font-semibold mx-4 text-[#42505e]",children:"OR"})}),T.jsx(F0,{})]})})]})]})},U8="/assets/keypana-c21f0b6d.svg",j8=()=>{const[t,e]=M.useState(!1),[n,i]=M.useState({name:"",email:"",password:""}),{name:r,email:s,password:a}=n,u=$i(),c=p=>{i(g=>({...g,[p.target.id]:p.target.value}))},d=async p=>{p.preventDefault();try{const g=Fi(),y=await tF(g,s,a);oI(g.currentUser,{displayName:r});const w=y.user,E={...n};delete E.password,E.timestamp=Yf(),await mb(vr(oi,"users",w.uid),E),u("/"),ae.success(`Welcome ${r}! 🎉`)}catch(g){const w=g.message.split(" ");w.includes("(auth/invalid-email).")&&ae.error("Invalid Email 😢"),w.includes("(auth/missing-password).")&&ae.error("Missing Password 😢"),w.includes("(auth/weak-password).")&&ae.error("Weak Password 😢"),w.includes("(auth/email-already-in-use).")&&ae.error("Email Already in Use 😢")}};return T.jsxs("section",{children:[T.jsx("h1",{className:"text-4xl text-center mt-6 font-bold text-[#202e3d]",children:"Sign Up"}),T.jsxs("div",{className:"flex justify-center flex-wrap items-center p-6 max-w-6xl mx-auto",children:[T.jsx("div",{className:"md:w-[67%] lg:w-[45%] mb-12 mb:mb-6",children:T.jsx("img",{src:U8,alt:"Signin Image",className:"w-full"})}),T.jsx("div",{className:"w-full md:w-[67%] lg:w-[40%] lg:ml-20",children:T.jsxs("form",{action:"",onSubmit:d,children:[T.jsx("input",{type:"text",id:"name",value:r,onChange:c,placeholder:"Full Name",className:"mb-6 w-full px-4 py-2 text-xl text-[#ffffff] bg-[#3c546e] placeholder:text-[#808080] rounded transition ease-in-out"}),T.jsx("input",{type:"email",id:"email",value:s,onChange:c,placeholder:"Email Address",className:"mb-6 w-full px-4 py-2 text-xl text-[#ffffff] bg-[#3c546e] placeholder:text-[#808080] rounded transition ease-in-out"}),T.jsxs("div",{className:"relative mb-6",children:[T.jsx("input",{type:t?"text":"password",id:"password",value:a,onChange:c,placeholder:"Password",className:"w-full px-4 py-2 text-xl text-[#ffffff] bg-[#3c546e] placeholder:text-[#808080] rounded transition ease-in-out"}),t?T.jsx(CI,{className:"absolute right-3 top-3 text-xl cursor-pointc",onClick:()=>e(p=>!p)}):T.jsx(EI,{className:"absolute right-3 top-3 text-xl cursor-pointc",onClick:()=>e(p=>!p)})]}),T.jsx("div",{className:"flex justify-between whitespace-nowrap text-sm sm:text-lg",children:T.jsxs("p",{className:"text-[#172431] font-light mb-6",children:["Have an Account?",T.jsxs(Zs,{to:"/sign-in",className:"text-[#172431] text-xl font-semibold transition duration-500 ease-in-out hover:text-[#3c546e]",children:[" ","Sign In"]})]})}),T.jsx("button",{type:"submit",className:"w-full bg-[#10192D] text-[#fff] font-medium uppercase shadow-lg hover:shadow-xl sha p-2 rounded cursor-pointc text-xl hover:bg-[#192d41] transition duration-200 ease-in-out active:bg-[#10192D]",title:"Sign Up",children:"Sign Up"}),T.jsx("div",{className:"flex my-4 items-center before:border-t before:flex-1 before:border-[#6f859b] after:border-t after:flex-1 after:border-[#6f859b]",children:T.jsx("p",{className:"text-center font-semibold mx-4 text-[#42505e]",children:"OR"})}),T.jsx(F0,{})]})})]})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP="firebasestorage.googleapis.com",_P="storageBucket",B8=2*60*1e3,V8=10*60*1e3,H8=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot extends zi{constructor(e,n,i=0){super(rg(e),`Firebase Storage: ${n} (${rg(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ot.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return rg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ke;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ke||(Ke={}));function rg(t){return"storage/"+t}function U0(){const t="An unknown error occurred, please check the error payload for server response.";return new ot(Ke.UNKNOWN,t)}function W8(t){return new ot(Ke.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function G8(t){return new ot(Ke.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function q8(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ot(Ke.UNAUTHENTICATED,t)}function Y8(){return new ot(Ke.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Z8(t){return new ot(Ke.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function wP(){return new ot(Ke.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xP(){return new ot(Ke.CANCELED,"User canceled the upload/download.")}function K8(t){return new ot(Ke.INVALID_URL,"Invalid URL '"+t+"'.")}function Q8(t){return new ot(Ke.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function X8(){return new ot(Ke.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+_P+"' property when initializing the app?")}function SP(){return new ot(Ke.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function J8(){return new ot(Ke.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function eV(){return new ot(Ke.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function tV(t){return new ot(Ke.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Kv(t){return new ot(Ke.INVALID_ARGUMENT,t)}function TP(){return new ot(Ke.APP_DELETED,"The Firebase app was deleted.")}function nV(t){return new ot(Ke.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Zl(t,e){return new ot(Ke.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function vl(t){throw new ot(Ke.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=kn.makeFromUrl(e,n)}catch{return new kn(e,"")}if(i.path==="")return i;throw Q8(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function s(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const a="(/(.*))?$",u=new RegExp("^gs://"+r+a,"i"),c={bucket:1,path:3};function d(k){k.path_=decodeURIComponent(k.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",w=new RegExp(`^https?://${g}/${p}/b/${r}/o${y}`,"i"),E={bucket:1,path:3},C=n===yP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",v=new RegExp(`^https?://${C}/${r}/${b}`,"i"),S=[{regex:u,indices:c,postModify:s},{regex:w,indices:E,postModify:d},{regex:v,indices:{bucket:1,path:2},postModify:d}];for(let k=0;k<S.length;k++){const P=S[k],O=P.regex.exec(e);if(O){const z=O[P.indices.bucket];let N=O[P.indices.path];N||(N=""),i=new kn(z,N),P.postModify(i);break}}if(i==null)throw K8(e);return i}}class iV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(t,e,n){let i=1,r=null,s=null,a=!1,u=0;function c(){return u===2}let d=!1;function p(...b){d||(d=!0,e.apply(null,b))}function g(b){r=setTimeout(()=>{r=null,t(w,c())},b)}function y(){s&&clearTimeout(s)}function w(b,...v){if(d){y();return}if(b){y(),p.call(null,b,...v);return}if(c()||a){y(),p.call(null,b,...v);return}i<64&&(i*=2);let S;u===1?(u=2,S=0):S=(i+Math.random())*1e3,g(S)}let E=!1;function C(b){E||(E=!0,y(),!d&&(r!==null?(b||(u=2),clearTimeout(r),g(0)):b||(u=1)))}return g(0),s=setTimeout(()=>{a=!0,C(!0)},n),C}function sV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(t){return t!==void 0}function aV(t){return typeof t=="function"}function lV(t){return typeof t=="object"&&!Array.isArray(t)}function pp(t){return typeof t=="string"||t instanceof String}function rT(t){return j0()&&t instanceof Blob}function j0(){return typeof Blob<"u"&&!tR()}function sT(t,e,n,i){if(i<e)throw Kv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Kv(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function EP(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Vs||(Vs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||r||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,n,i,r,s,a,u,c,d,p,g,y=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=u,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=g,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,E)=>{this.resolve_=w,this.reject_=E,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new ph(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=u=>{const c=u.loaded,d=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const u=s.getErrorCode()===Vs.NO_ERROR,c=s.getStatus();if(!u||CP(c,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===Vs.ABORT;i(!1,new ph(!1,null,p));return}const d=this.successCodes_.indexOf(c)!==-1;i(!0,new ph(d,s))})},n=(i,r)=>{const s=this.resolve_,a=this.reject_,u=r.connection;if(r.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());oV(c)?s(c):s()}catch(c){a(c)}else if(u!==null){const c=U0();c.serverResponse=u.getErrorText(),this.errorCallback_?a(this.errorCallback_(u,c)):a(c)}else if(r.canceled){const c=this.appDelete_?TP():xP();a(c)}else{const c=wP();a(c)}};this.canceled_?n(!1,new ph(!1,null,!0)):this.backoffId_=rV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&sV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ph{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function cV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function hV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function dV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function fV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function pV(t,e,n,i,r,s,a=!0){const u=EP(t.urlParams),c=t.url+u,d=Object.assign({},t.headers);return dV(d,e),cV(d,n),hV(d,s),fV(d,i),new uV(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function gV(...t){const e=mV();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(j0())return new Blob(t);throw new ot(Ke.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function vV(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(t){if(typeof atob>"u")throw tV("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class sg{constructor(e,n){this.data=e,this.contentType=n||null}}function _V(t,e){switch(t){case ki.RAW:return new sg(kP(e));case ki.BASE64:case ki.BASE64URL:return new sg(bP(t,e));case ki.DATA_URL:return new sg(xV(e),SV(e))}throw U0()}function kP(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=i,a=t.charCodeAt(++n);i=65536|(s&1023)<<10|a&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function wV(t){let e;try{e=decodeURIComponent(t)}catch{throw Zl(ki.DATA_URL,"Malformed data URL.")}return kP(e)}function bP(t,e){switch(t){case ki.BASE64:{const r=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(r||s)throw Zl(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case ki.BASE64URL:{const r=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(r||s)throw Zl(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=yV(e)}catch(r){throw r.message.includes("polyfill")?r:Zl(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class IP{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Zl(ki.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=TV(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function xV(t){const e=new IP(t);return e.base64?bP(ki.BASE64,e.rest):wV(e.rest)}function SV(t){return new IP(t).contentType}function TV(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n){let i=0,r="";rT(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(rT(this.data_)){const i=this.data_,r=vV(i,e,n);return r===null?null:new Rr(r)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new Rr(i,!0)}}static getBlob(...e){if(j0()){const n=e.map(i=>i instanceof Rr?i.data_:i);return new Rr(gV.apply(null,n))}else{const n=e.map(a=>pp(a)?_V(ki.RAW,a).data:a.data_);let i=0;n.forEach(a=>{i+=a.byteLength});const r=new Uint8Array(i);let s=0;return n.forEach(a=>{for(let u=0;u<a.length;u++)r[s++]=a[u]}),new Rr(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(t){let e;try{e=JSON.parse(t)}catch{return null}return lV(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function CV(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function LP(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(t,e){return e}class tn{constructor(e,n,i,r){this.server=e,this.local=n||e,this.writable=!!i,this.xform=r||kV}}let mh=null;function bV(t){return!pp(t)||t.length<2?t:LP(t)}function NP(){if(mh)return mh;const t=[];t.push(new tn("bucket")),t.push(new tn("generation")),t.push(new tn("metageneration")),t.push(new tn("name","fullPath",!0));function e(s,a){return bV(a)}const n=new tn("name");n.xform=e,t.push(n);function i(s,a){return a!==void 0?Number(a):a}const r=new tn("size");return r.xform=i,t.push(r),t.push(new tn("timeCreated")),t.push(new tn("updated")),t.push(new tn("md5Hash",null,!0)),t.push(new tn("cacheControl",null,!0)),t.push(new tn("contentDisposition",null,!0)),t.push(new tn("contentEncoding",null,!0)),t.push(new tn("contentLanguage",null,!0)),t.push(new tn("contentType",null,!0)),t.push(new tn("metadata","customMetadata",!0)),mh=t,mh}function IV(t,e){function n(){const i=t.bucket,r=t.fullPath,s=new kn(i,r);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function PV(t,e,n){const i={};i.type="file";const r=n.length;for(let s=0;s<r;s++){const a=n[s];i[a.local]=a.xform(i,e[a.server])}return IV(i,t),i}function MP(t,e,n){const i=PP(e);return i===null?null:PV(t,i,n)}function LV(t,e,n,i){const r=PP(e);if(r===null||!pp(r.downloadTokens))return null;const s=r.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(d=>{const p=t.bucket,g=t.fullPath,y="/b/"+a(p)+"/o/"+a(g),w=pc(y,n,i),E=EP({alt:"media",token:d});return w+E})[0]}function OP(t,e){const n={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Va{constructor(e,n,i,r){this.url=e,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(t){if(!t)throw U0()}function B0(t,e){function n(i,r){const s=MP(t,r,e);return lr(s!==null),s}return n}function NV(t,e){function n(i,r){const s=MP(t,r,e);return lr(s!==null),LV(s,r,t.host,t._protocol)}return n}function mc(t){function e(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=Y8():r=q8():n.getStatus()===402?r=G8(t.bucket):n.getStatus()===403?r=Z8(t.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return e}function AP(t){const e=mc(t);function n(i,r){let s=e(i,r);return i.getStatus()===404&&(s=W8(t.path)),s.serverResponse=r.serverResponse,s}return n}function MV(t,e,n){const i=e.fullServerUrl(),r=pc(i,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,u=new Va(r,s,B0(t,n),a);return u.errorHandler=AP(e),u}function OV(t,e,n){const i=e.fullServerUrl(),r=pc(i,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,u=new Va(r,s,NV(t,n),a);return u.errorHandler=AP(e),u}function AV(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function RP(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=AV(null,e)),i}function RV(t,e,n,i,r){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function u(){let S="";for(let k=0;k<2;k++)S=S+Math.random().toString().slice(2);return S}const c=u();a["Content-Type"]="multipart/related; boundary="+c;const d=RP(e,i,r),p=OP(d,n),g="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,y=`\r
--`+c+"--",w=Rr.getBlob(g,i,y);if(w===null)throw SP();const E={name:d.fullPath},C=pc(s,t.host,t._protocol),b="POST",v=t.maxUploadRetryTime,_=new Va(C,b,B0(t,n),v);return _.urlParams=E,_.headers=a,_.body=w.uploadData(),_.errorHandler=mc(e),_}class Gd{constructor(e,n,i,r){this.current=e,this.total=n,this.finalized=!!i,this.metadata=r||null}}function V0(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{lr(!1)}return lr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function DV(t,e,n,i,r){const s=e.bucketOnlyServerUrl(),a=RP(e,i,r),u={name:a.fullPath},c=pc(s,t.host,t._protocol),d="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},g=OP(a,n),y=t.maxUploadRetryTime;function w(C){V0(C);let b;try{b=C.getResponseHeader("X-Goog-Upload-URL")}catch{lr(!1)}return lr(pp(b)),b}const E=new Va(c,d,w,y);return E.urlParams=u,E.headers=p,E.body=g,E.errorHandler=mc(e),E}function $V(t,e,n,i){const r={"X-Goog-Upload-Command":"query"};function s(d){const p=V0(d,["active","final"]);let g=null;try{g=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{lr(!1)}g||lr(!1);const y=Number(g);return lr(!isNaN(y)),new Gd(y,i.size(),p==="final")}const a="POST",u=t.maxUploadRetryTime,c=new Va(n,a,s,u);return c.headers=r,c.errorHandler=mc(e),c}const oT=256*1024;function zV(t,e,n,i,r,s,a,u){const c=new Gd(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=i.size()),i.size()!==c.total)throw J8();const d=c.total-c.current;let p=d;r>0&&(p=Math.min(p,r));const g=c.current,y=g+p;let w="";p===0?w="finalize":d===p?w="upload, finalize":w="upload";const E={"X-Goog-Upload-Command":w,"X-Goog-Upload-Offset":`${c.current}`},C=i.slice(g,y);if(C===null)throw SP();function b(k,P){const O=V0(k,["active","final"]),z=c.current+p,N=i.size();let j;return O==="final"?j=B0(e,s)(k,P):j=null,new Gd(z,N,O==="final",j)}const v="POST",_=e.maxUploadRetryTime,S=new Va(n,v,b,_);return S.headers=E,S.body=C.uploadData(),S.progressCallback=u||null,S.errorHandler=mc(t),S}const dn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function og(t){switch(t){case"running":case"pausing":case"canceling":return dn.RUNNING;case"paused":return dn.PAUSED;case"success":return dn.SUCCESS;case"canceled":return dn.CANCELED;case"error":return dn.ERROR;default:return dn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e,n,i){if(aV(e)||n!=null||i!=null)this.next=e,this.error=n??void 0,this.complete=i??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class UV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Vs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Vs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Vs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,r){if(this.sent_)throw vl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),r!==void 0)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw vl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class jV extends UV{initXhr(){this.xhr_.responseType="text"}}function Oo(){return new jV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,n,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=i,this._mappings=NP(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(Ke.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(CP(r.status,[]))if(s)r=wP();else{this.sleepTime=Math.max(this.sleepTime*2,H8),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(Ke.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,i])=>{switch(this._state){case"running":e(n,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const i=DV(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Oo,e,n);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,i)=>{const r=$V(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,Oo,n,i);this._request=s,s.getPromise().then(a=>{a=a,this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=oT*this._chunkMultiplier,n=new Gd(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let a;try{a=zV(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}const u=this._ref.storage._makeRequest(a,Oo,r,s,!1);this._request=u,u.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){oT*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const i=MV(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Oo,e,n);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const i=RV(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Oo,e,n);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=xP(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=og(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,i,r){const s=new FV(n||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(og(this._state)){case dn.SUCCESS:Po(this._resolve.bind(null,this.snapshot))();break;case dn.CANCELED:case dn.ERROR:const n=this._reject;Po(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(og(this._state)){case dn.RUNNING:case dn.PAUSED:e.next&&Po(e.next.bind(e,this.snapshot))();break;case dn.SUCCESS:e.complete&&Po(e.complete.bind(e))();break;case dn.CANCELED:case dn.ERROR:e.error&&Po(e.error.bind(e,this._error))();break;default:e.error&&Po(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n){this._service=e,n instanceof kn?this._location=n:this._location=kn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new oo(e,n)}get root(){const e=new kn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return LP(this._location.path)}get storage(){return this._service}get parent(){const e=EV(this._location.path);if(e===null)return null;const n=new kn(this._location.bucket,e);return new oo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw nV(e)}}function VV(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new BV(t,new Rr(e),n)}function HV(t){t._throwIfRoot("getDownloadURL");const e=OV(t.storage,t._location,NP());return t.storage.makeRequestWithTokens(e,Oo).then(n=>{if(n===null)throw eV();return n})}function WV(t,e){const n=CV(t._location.path,e),i=new kn(t._location.bucket,n);return new oo(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(t){return/^[A-Za-z]+:\/\//.test(t)}function qV(t,e){return new oo(t,e)}function DP(t,e){if(t instanceof H0){const n=t;if(n._bucket==null)throw X8();const i=new oo(n,n._bucket);return e!=null?DP(i,e):i}else return e!==void 0?WV(t,e):t}function YV(t,e){if(e&&GV(e)){if(t instanceof H0)return qV(t,e);throw Kv("To use ref(service, url), the first argument must be a Storage instance.")}else return DP(t,e)}function aT(t,e){const n=e==null?void 0:e[_P];return n==null?null:kn.makeFromBucketSpec(n,t)}function ZV(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:UC(r,t.app.options.projectId))}class H0{constructor(e,n,i,r,s){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=yP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=B8,this._maxUploadRetryTime=V8,this._requests=new Set,r!=null?this._bucket=kn.makeFromBucketSpec(r,this._host):this._bucket=aT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=kn.makeFromBucketSpec(this._url,e):this._bucket=aT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){sT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){sT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new oo(this,e)}_makeRequest(e,n,i,r,s=!0){if(this._deleted)return new iV(TP());{const a=pV(e,this._appId,i,r,n,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const lT="@firebase/storage",uT="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P="storage";function zP(t,e,n){return t=lt(t),VV(t,e,n)}function FP(t){return t=lt(t),HV(t)}function UP(t,e){return t=lt(t),YV(t,e)}function jP(t=e_(),e){t=lt(t);const i=df(t,$P).getImmediate({identifier:e}),r=$C("storage");return r&&KV(i,...r),i}function KV(t,e,n,i={}){ZV(t,e,n,i)}function QV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new H0(n,i,r,e,uo)}function XV(){Qs(new as($P,QV,"PUBLIC").setMultipleInstances(!0)),Pi(lT,uT,""),Pi(lT,uT,"esm2017")}XV();let gh;const JV=new Uint8Array(16);function e7(){if(!gh&&(gh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!gh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return gh(JV)}const Nt=[];for(let t=0;t<256;++t)Nt.push((t+256).toString(16).slice(1));function t7(t,e=0){return(Nt[t[e+0]]+Nt[t[e+1]]+Nt[t[e+2]]+Nt[t[e+3]]+"-"+Nt[t[e+4]]+Nt[t[e+5]]+"-"+Nt[t[e+6]]+Nt[t[e+7]]+"-"+Nt[t[e+8]]+Nt[t[e+9]]+"-"+Nt[t[e+10]]+Nt[t[e+11]]+Nt[t[e+12]]+Nt[t[e+13]]+Nt[t[e+14]]+Nt[t[e+15]]).toLowerCase()}const n7=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),cT={randomUUID:n7};function BP(t,e,n){if(cT.randomUUID&&!e&&!t)return cT.randomUUID();t=t||{};const i=t.random||(t.rng||e7)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){n=n||0;for(let r=0;r<16;++r)e[n+r]=i[r];return e}return t7(i)}const i7=()=>{const t=$i(),e=Fi(),[n,i]=M.useState(!0),[r,s]=M.useState(!1),[a,u]=M.useState({type:"rent",name:"",restrooms:1,bedrooms:1,parking:!1,furnish:!1,address:"",description:"",offer:!0,cost:50,discount:50,latitude:0,longitude:0,images:{}}),{type:c,name:d,restrooms:p,bedrooms:g,parking:y,furnish:w,address:E,description:C,offer:b,cost:v,discount:_,latitude:S,longitude:k,images:P}=a,O=N=>{let j=null;N.target.value==="true"&&(j=!0),N.target.value==="false"&&(j=!1),N.target.files&&u(Y=>({...Y,images:N.target.files})),N.target.files||u(Y=>({...Y,[N.target.id]:j??N.target.value}))},z=async N=>{if(N.preventDefault(),s(!0),b===!0&&Number(_)>=Number(v)){s(!1),ae.error("Discounted Cost needs to be less than Regular Cost 💰");return}if(P.length>6){ae.error("Maximum of 6 Images Allowed");return}let j={};const Y=async ie=>new Promise((Ce,ee)=>{const _e=jP(),D=`${e.currentUser.uid}-${ie.name}-${BP()}`,Z=UP(_e,`homeimages/${D}`),V=zP(Z,ie);V.on("state_changed",se=>{const Se=se.bytesTransferred/se.totalBytes*100;switch(console.log("Upload is "+Se+"% done"),se.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running");break}},se=>{ee(se)},()=>{FP(V.snapshot.ref).then(se=>{Ce(se)})})}),F=await Promise.all([...P].map(ie=>Y(ie))).catch(ie=>{s(!1),ae.error("Images not Uploaded")}),$={...a,imgUrls:F,geolocation:j,timestamp:Yf(),userRef:e.currentUser.uid};delete $.images,!$.offer&&delete $.discount,delete $.latitude,delete $.longitude;const q=await E$(q_(oi,"listings"),$);s(!1),ae.success("Listing Created 🎉"),t(`/category/${$.type}/${q.id}`)};return r?T.jsx(sc,{}):T.jsxs("main",{className:"max-w-lg px-2 mx-auto",children:[T.jsx(y0,{className:"mt-4 m-auto text-4xl text-[#10192D]"}),T.jsx("h1",{className:"text-4xl text-center font-bold text-[#202e3d]",children:"Add Listing"}),T.jsxs("form",{action:"",onSubmit:z,className:"",children:[T.jsx("p",{className:"text-xl mt-6 mb-2 text-center font-semibold text-[#202e3d]",children:"Sell / Rent"}),T.jsxs("div",{className:"flex gap-5",children:[T.jsx("button",{type:"button",id:"type",value:"sale",onClick:O,className:`px-7 py-2 font-medium text-base uppercase shadow-lg rounded hover:shadow-xl focus:shadow-xl active:shadow-xl transition duration-150 ease-in-out w-full cursor-pointc ${c==="rent"?"bg-[#fff] text-[#172431]":"bg-[#395672] text-[#fff]"}`,children:"Sell"}),T.jsx("button",{type:"button",id:"type",value:"rent",onClick:O,className:`px-7 py-2 font-medium text-base uppercase shadow-lg rounded hover:shadow-xl focus:shadow-xl active:shadow-xl transition duration-150 ease-in-out w-full cursor-pointc ${c!=="rent"?"bg-[#fff] text-[#172431]":"bg-[#395672] text-[#fff]"}`,children:"Rent"})]}),T.jsx("p",{className:"text-xl mt-6 mb-2 text-center font-semibold text-[#202e3d]",children:"Property Name"}),T.jsx("input",{type:"text",id:"name",value:d,onChange:O,placeholder:"Enter Property Name",maxLength:"32",minLength:"10",required:!0,className:"w-full text-center text-xl placeholder:text-[#808080] border-[#808080] hover:shadow-xl hover:bg-[#fff] focus:shadow-xl active:shadow-xl rounded transition ease-in-out"}),T.jsxs("div",{className:"flex justify-between mx-10 mt-6 mb-3",children:[T.jsxs("div",{children:[T.jsxs("div",{className:"flex justify-center items-center gap-1",children:[T.jsx(tp,{className:"text-[#202e3d]"}),T.jsx("p",{className:"text-xl mb-2 text-center font-semibold text-[#202e3d]",children:"Beds"})]}),T.jsx("input",{type:"number",id:"bedrooms",value:g,onChange:O,min:"1",max:"50",required:!0,className:"text-center w-full text-xl border-[#808080] hover:shadow-xl hover:bg-[#fff] focus:shadow-xl active:shadow-xl rounded transition ease-in-out"})]}),T.jsxs("div",{children:[T.jsxs("div",{className:"flex justify-center items-center gap-1",children:[T.jsx(ep,{className:"text-[#202e3d]"}),T.jsx("p",{className:"text-xl mb-2 text-center font-semibold text-[#202e3d]",children:"Rests"})]}),T.jsx("input",{type:"number",id:"restrooms",value:p,onChange:O,min:"1",max:"50",required:!0,className:"text-center w-full text-xl border-[#808080] hover:shadow-xl hover:bg-[#fff] focus:shadow-xl active:shadow-xl rounded transition ease-in-out"})]})]}),T.jsx("p",{className:"text-xl mb-2 text-center font-semibold text-[#202e3d]",children:"Parking Spot"}),T.jsxs("div",{className:"flex gap-5",children:[T.jsx("button",{type:"button",id:"parking",value:!0,onClick:O,className:`px-7 py-2 font-medium text-base uppercase shadow-lg rounded hover:shadow-xl focus:shadow-xl active:shadow-xl transition duration-150 ease-in-out w-full cursor-pointc ${y?"bg-[#395672] text-[#fff]":"bg-[#fff] text-[#172431]"}`,children:"Yes"}),T.jsx("button",{type:"button",id:"parking",value:!1,onClick:O,className:`px-7 py-2 font-medium text-base uppercase shadow-lg rounded hover:shadow-xl focus:shadow-xl active:shadow-xl transition duration-150 ease-in-out w-full cursor-pointc ${y?"bg-[#fff] text-[#172431]":"bg-[#395672] text-[#fff]"}`,children:"No"})]}),T.jsx("p",{className:"text-xl mt-6 mb-2 text-center font-semibold text-[#202e3d]",children:"Furnished"}),T.jsxs("div",{className:"flex gap-5",children:[T.jsx("button",{type:"button",id:"furnish",value:!0,onClick:O,className:`px-7 py-2 font-medium text-base uppercase shadow-lg rounded hover:shadow-xl focus:shadow-xl active:shadow-xl transition duration-150 ease-in-out w-full cursor-pointc ${w?"bg-[#395672] text-[#fff]":"bg-[#fff] text-[#172431]"}`,children:"Yes"}),T.jsx("button",{type:"button",id:"furnish",value:!1,onClick:O,className:`px-7 py-2 font-medium text-base uppercase shadow-lg rounded hover:shadow-xl focus:shadow-xl active:shadow-xl transition duration-150 ease-in-out w-full cursor-pointc ${w?"bg-[#fff] text-[#172431]":"bg-[#395672] text-[#fff]"}`,children:"No"})]}),T.jsx("p",{className:"text-xl mt-6 mb-2 text-center font-semibold text-[#202e3d]",children:"Address"}),T.jsx("textarea",{type:"text",id:"address",value:E,onChange:O,placeholder:"Enter Address of the Property",required:!0,className:"w-full text-center text-xl placeholder:text-[#808080] border-[#808080] hover:shadow-xl hover:bg-[#fff] focus:shadow-xl active:shadow-xl rounded transition ease-in-out"}),!n&&T.jsxs("div",{className:"flex justify-between mx-10 mt-6 mb-3",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-xl mb-2 text-center font-semibold text-[#202e3d]",children:"Latitude"}),T.jsx("input",{type:"number",id:"latitude",value:S,onChange:O,min:"-90",max:"90",required:!0,className:"text-center w-full text-xl border-[#808080] hover:shadow-xl hover:bg-[#fff] focus:shadow-xl active:shadow-xl rounded transition ease-in-out"})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-xl mb-2 text-center font-semibold text-[#202e3d]",children:"Longitude"}),T.jsx("input",{type:"number",id:"longitude",value:k,onChange:O,min:"-180",max:"180",required:!0,className:"text-center w-full text-xl border-[#808080] hover:shadow-xl hover:bg-[#fff] focus:shadow-xl active:shadow-xl rounded transition ease-in-out"})]})]}),T.jsx("p",{className:"text-xl mt-6 mb-2 text-center font-semibold text-[#202e3d]",children:"Description"}),T.jsx("textarea",{type:"text",id:"description",value:C,onChange:O,placeholder:"Describe the Property",required:!0,className:"w-full text-center text-xl placeholder:text-[#808080] border-[#808080] hover:shadow-xl hover:bg-[#fff] focus:shadow-xl active:shadow-xl rounded transition ease-in-out"}),T.jsx("p",{className:"text-xl mt-6 mb-2 text-center font-semibold text-[#202e3d]",children:"Offer"}),T.jsxs("div",{className:"flex gap-5",children:[T.jsx("button",{type:"button",id:"offer",value:!0,onClick:O,className:`px-7 py-2 font-medium text-base uppercase shadow-lg rounded hover:shadow-xl focus:shadow-xl active:shadow-xl transition duration-150 ease-in-out w-full cursor-pointc ${b?"bg-[#395672] text-[#fff]":"bg-[#fff] text-[#172431]"}`,children:"Yes"}),T.jsx("button",{type:"button",id:"offer",value:!1,onClick:O,className:`px-7 py-2 font-medium text-base uppercase shadow-lg rounded hover:shadow-xl focus:shadow-xl active:shadow-xl transition duration-150 ease-in-out w-full cursor-pointc ${b?"bg-[#fff] text-[#172431]":"bg-[#395672] text-[#fff]"}`,children:"No"})]}),T.jsx("div",{className:"my-6",children:T.jsxs("div",{className:"flex flex-col justify-center md:justify-between md:flex-row ",children:[T.jsxs("div",{className:"mb-3 md:mb-0",children:[T.jsx("p",{className:"text-xl mb-2 font-semibold text-[#202e3d]",children:"Regular Cost"}),T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx("input",{type:"number",id:"cost",value:v,onChange:O,min:"50",max:"50000000",required:!0,className:"text-center text-xl border-[#808080] hover:shadow-xl hover:bg-[#fff] focus:shadow-xl active:shadow-xl rounded transition ease-in-out"}),c==="rent"&&T.jsx("p",{className:"text-[#172431] font-medium items-center",children:"Ksh / Month"})]})]}),b&&T.jsxs("div",{children:[T.jsx("p",{className:"text-xl mb-2 font-semibold text-[#202e3d]",children:"Discounted Cost"}),T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx("input",{type:"number",id:"discount",value:_,onChange:O,min:"50",max:"50000000",required:b,className:"text-center text-xl border-[#808080] hover:shadow-xl hover:bg-[#fff] focus:shadow-xl active:shadow-xl rounded transition ease-in-out"}),c==="rent"&&T.jsx("p",{className:"text-[#172431] font-medium items-center",children:"Ksh / Month"})]})]})]})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-xl text-center font-semibold text-[#202e3d]",children:"Images"}),T.jsx("p",{className:"text-lg italic mb-2 text-center font-light text-[#202e3d]",children:"The first Image will be the cover (max 6)"}),T.jsx("div",{className:" w-[90%] flex justify-center items-center m-auto bg-[#fff] border-[#808080] rounded hover:shadow-xl hover:bg-[#fff] focus:shadow-xl active:shadow-xl transition duration-150 ease-in-out",children:T.jsx("input",{type:"file",id:"images",onChange:O,accept:".jpg, .png, .jpeg, .webp",multiple:!0,required:!0,className:"py-3 text-[#808080] cursor-pointc"})})]}),T.jsx("button",{type:"submit",className:"w-full mt-10 mb-6 bg-[#10192D] text-[#fff] font-medium uppercase shadow-lg hover:shadow-xl p-2 rounded cursor-pointc text-2xl hover:bg-[#192d41] transition duration-200 ease-in-out active:bg-[#10192D]",title:"Sell Or Rent your Home",children:"Create Listing"})]})]})},r7=()=>{const t=$i(),e=Fi(),[n,i]=M.useState(!0),[r,s]=M.useState(!1),[a,u]=M.useState(null),[c,d]=M.useState({type:"rent",name:"",restrooms:1,bedrooms:1,parking:!1,furnish:!1,address:"",description:"",offer:!0,cost:50,discount:50,latitude:0,longitude:0,images:{}}),{type:p,name:g,restrooms:y,bedrooms:w,parking:E,furnish:C,address:b,description:v,offer:_,cost:S,discount:k,latitude:P,longitude:O,images:z}=c,N=LC();M.useEffect(()=>{a&&a.userRef!==e.currentUser.uid&&(ae.error("You cannot edit this listing"),t("/"))},[e.currentUser.uid,a,t]),M.useEffect(()=>{s(!0),(async()=>{const $=vr(oi,"listings",N.listingId),q=await Gf($);q.exists()?(u(q.data()),d({...q.data()}),s(!1)):(t("/"),ae.error("Listing does not exist"))})()},[t,N.listingId]);const j=F=>{let $=null;F.target.value==="true"&&($=!0),F.target.value==="false"&&($=!1),F.target.files&&d(q=>({...q,images:F.target.files})),F.target.files||d(q=>({...q,[F.target.id]:$??F.target.value}))},Y=async F=>{if(F.preventDefault(),s(!0),_===!0&&Number(k)>=Number(S)){s(!1),ae.error("Discounted Cost needs to be less than Regular Cost 💰");return}if(z.length>6){ae.error("Maximum of 6 Images Allowed");return}let $={};const q=async _e=>new Promise((D,Z)=>{const V=jP(),se=`${e.currentUser.uid}-${_e.name}-${BP()}`,Se=UP(V,`homeimages/${se}`),Xe=zP(Se,_e);Xe.on("state_changed",ke=>{const Pe=ke.bytesTransferred/ke.totalBytes*100;switch(console.log("Upload is "+Pe+"% done"),ke.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running");break}},ke=>{Z(ke)},()=>{FP(Xe.snapshot.ref).then(ke=>{D(ke)})})}),ie=await Promise.all([...z].map(_e=>q(_e))).catch(_e=>{s(!1),ae.error("Images not Uploaded")}),Ce={...c,imgUrls:ie,geolocation:$,timestamp:Yf(),userRef:e.currentUser.uid};delete Ce.images,!Ce.offer&&delete Ce.discount,delete Ce.latitude,delete Ce.longitude;const ee=vr(oi,"listings",N.listingId);await gb(ee,Ce),s(!1),ae.success("Listing Updated 🎉"),t(`/category/${Ce.type}/${ee.id}`)};return r?T.jsx(sc,{}):T.jsxs("main",{className:"max-w-lg px-2 mx-auto",children:[T.jsx(y0,{className:"mt-4 m-auto text-4xl text-[#10192D]"}),T.jsx("h1",{className:"text-4xl text-center font-bold text-[#202e3d]",children:"Edit Listing"}),T.jsxs("form",{action:"",onSubmit:Y,className:"",children:[T.jsx("p",{className:"text-xl mt-6 mb-2 text-center font-semibold text-[#202e3d]",children:"Sell / Rent"}),T.jsxs("div",{className:"flex gap-5",children:[T.jsx("button",{type:"button",id:"type",value:"sale",onClick:j,className:`px-7 py-2 font-medium text-base uppercase shadow-lg rounded hover:shadow-xl focus:shadow-xl active:shadow-xl transition duration-150 ease-in-out w-full cursor-pointc ${p==="rent"?"bg-[#fff] text-[#172431]":"bg-[#395672] text-[#fff]"}`,children:"Sell"}),T.jsx("button",{type:"button",id:"type",value:"rent",onClick:j,className:`px-7 py-2 font-medium text-base uppercase shadow-lg rounded hover:shadow-xl focus:shadow-xl active:shadow-xl transition duration-150 ease-in-out w-full cursor-pointc ${p!=="rent"?"bg-[#fff] text-[#172431]":"bg-[#395672] text-[#fff]"}`,children:"Rent"})]}),T.jsx("p",{className:"text-xl mt-6 mb-2 text-center font-semibold text-[#202e3d]",children:"Property Name"}),T.jsx("input",{type:"text",id:"name",value:g,onChange:j,placeholder:"Enter Property Name",maxLength:"32",minLength:"10",required:!0,className:"w-full text-center text-xl placeholder:text-[#808080] border-[#808080] hover:shadow-xl hover:bg-[#fff] focus:shadow-xl active:shadow-xl rounded transition ease-in-out"}),T.jsxs("div",{className:"flex justify-between mx-10 mt-6 mb-3",children:[T.jsxs("div",{children:[T.jsxs("div",{className:"flex justify-center items-center gap-1",children:[T.jsx(tp,{className:"text-[#202e3d]"}),T.jsx("p",{className:"text-xl mb-2 text-center font-semibold text-[#202e3d]",children:"Beds"})]}),T.jsx("input",{type:"number",id:"bedrooms",value:w,onChange:j,min:"1",max:"50",required:!0,className:"text-center w-full text-xl border-[#808080] hover:shadow-xl hover:bg-[#fff] focus:shadow-xl active:shadow-xl rounded transition ease-in-out"})]}),T.jsxs("div",{children:[T.jsxs("div",{className:"flex justify-center items-center gap-1",children:[T.jsx(ep,{className:"text-[#202e3d]"}),T.jsx("p",{className:"text-xl mb-2 text-center font-semibold text-[#202e3d]",children:"Rests"})]}),T.jsx("input",{type:"number",id:"restrooms",value:y,onChange:j,min:"1",max:"50",required:!0,className:"text-center w-full text-xl border-[#808080] hover:shadow-xl hover:bg-[#fff] focus:shadow-xl active:shadow-xl rounded transition ease-in-out"})]})]}),T.jsx("p",{className:"text-xl mb-2 text-center font-semibold text-[#202e3d]",children:"Parking Spot"}),T.jsxs("div",{className:"flex gap-5",children:[T.jsx("button",{type:"button",id:"parking",value:!0,onClick:j,className:`px-7 py-2 font-medium text-base uppercase shadow-lg rounded hover:shadow-xl focus:shadow-xl active:shadow-xl transition duration-150 ease-in-out w-full cursor-pointc ${E?"bg-[#395672] text-[#fff]":"bg-[#fff] text-[#172431]"}`,children:"Yes"}),T.jsx("button",{type:"button",id:"parking",value:!1,onClick:j,className:`px-7 py-2 font-medium text-base uppercase shadow-lg rounded hover:shadow-xl focus:shadow-xl active:shadow-xl transition duration-150 ease-in-out w-full cursor-pointc ${E?"bg-[#fff] text-[#172431]":"bg-[#395672] text-[#fff]"}`,children:"No"})]}),T.jsx("p",{className:"text-xl mt-6 mb-2 text-center font-semibold text-[#202e3d]",children:"Furnished"}),T.jsxs("div",{className:"flex gap-5",children:[T.jsx("button",{type:"button",id:"furnish",value:!0,onClick:j,className:`px-7 py-2 font-medium text-base uppercase shadow-lg rounded hover:shadow-xl focus:shadow-xl active:shadow-xl transition duration-150 ease-in-out w-full cursor-pointc ${C?"bg-[#395672] text-[#fff]":"bg-[#fff] text-[#172431]"}`,children:"Yes"}),T.jsx("button",{type:"button",id:"furnish",value:!1,onClick:j,className:`px-7 py-2 font-medium text-base uppercase shadow-lg rounded hover:shadow-xl focus:shadow-xl active:shadow-xl transition duration-150 ease-in-out w-full cursor-pointc ${C?"bg-[#fff] text-[#172431]":"bg-[#395672] text-[#fff]"}`,children:"No"})]}),T.jsx("p",{className:"text-xl mt-6 mb-2 text-center font-semibold text-[#202e3d]",children:"Address"}),T.jsx("textarea",{type:"text",id:"address",value:b,onChange:j,placeholder:"Enter Address of the Property",required:!0,className:"w-full text-center text-xl placeholder:text-[#808080] border-[#808080] hover:shadow-xl hover:bg-[#fff] focus:shadow-xl active:shadow-xl rounded transition ease-in-out"}),!n&&T.jsxs("div",{className:"flex justify-between mx-10 mt-6 mb-3",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-xl mb-2 text-center font-semibold text-[#202e3d]",children:"Latitude"}),T.jsx("input",{type:"number",id:"latitude",value:P,onChange:j,min:"-90",max:"90",required:!0,className:"text-center w-full text-xl border-[#808080] hover:shadow-xl hover:bg-[#fff] focus:shadow-xl active:shadow-xl rounded transition ease-in-out"})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-xl mb-2 text-center font-semibold text-[#202e3d]",children:"Longitude"}),T.jsx("input",{type:"number",id:"longitude",value:O,onChange:j,min:"-180",max:"180",required:!0,className:"text-center w-full text-xl border-[#808080] hover:shadow-xl hover:bg-[#fff] focus:shadow-xl active:shadow-xl rounded transition ease-in-out"})]})]}),T.jsx("p",{className:"text-xl mt-6 mb-2 text-center font-semibold text-[#202e3d]",children:"Description"}),T.jsx("textarea",{type:"text",id:"description",value:v,onChange:j,placeholder:"Describe the Property",required:!0,className:"w-full text-center text-xl placeholder:text-[#808080] border-[#808080] hover:shadow-xl hover:bg-[#fff] focus:shadow-xl active:shadow-xl rounded transition ease-in-out"}),T.jsx("p",{className:"text-xl mt-6 mb-2 text-center font-semibold text-[#202e3d]",children:"Offer"}),T.jsxs("div",{className:"flex gap-5",children:[T.jsx("button",{type:"button",id:"offer",value:!0,onClick:j,className:`px-7 py-2 font-medium text-base uppercase shadow-lg rounded hover:shadow-xl focus:shadow-xl active:shadow-xl transition duration-150 ease-in-out w-full cursor-pointc ${_?"bg-[#395672] text-[#fff]":"bg-[#fff] text-[#172431]"}`,children:"Yes"}),T.jsx("button",{type:"button",id:"offer",value:!1,onClick:j,className:`px-7 py-2 font-medium text-base uppercase shadow-lg rounded hover:shadow-xl focus:shadow-xl active:shadow-xl transition duration-150 ease-in-out w-full cursor-pointc ${_?"bg-[#fff] text-[#172431]":"bg-[#395672] text-[#fff]"}`,children:"No"})]}),T.jsx("div",{className:"my-6",children:T.jsxs("div",{className:"flex flex-col justify-center md:justify-between md:flex-row ",children:[T.jsxs("div",{className:"mb-3 md:mb-0",children:[T.jsx("p",{className:"text-xl mb-2 font-semibold text-[#202e3d]",children:"Regular Cost"}),T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx("input",{type:"number",id:"cost",value:S,onChange:j,min:"50",max:"50000000",required:!0,className:"text-center text-xl border-[#808080] hover:shadow-xl hover:bg-[#fff] focus:shadow-xl active:shadow-xl rounded transition ease-in-out"}),p==="rent"&&T.jsx("p",{className:"text-[#172431] font-medium items-center",children:"Ksh / Month"})]})]}),_&&T.jsxs("div",{children:[T.jsx("p",{className:"text-xl mb-2 font-semibold text-[#202e3d]",children:"Discounted Cost"}),T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx("input",{type:"number",id:"discount",value:k,onChange:j,min:"50",max:"50000000",required:_,className:"text-center text-xl border-[#808080] hover:shadow-xl hover:bg-[#fff] focus:shadow-xl active:shadow-xl rounded transition ease-in-out"}),p==="rent"&&T.jsx("p",{className:"text-[#172431] font-medium items-center",children:"Ksh / Month"})]})]})]})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-xl text-center font-semibold text-[#202e3d]",children:"Images"}),T.jsx("p",{className:"text-lg italic mb-2 text-center font-light text-[#202e3d]",children:"The first Image will be the cover (max 6)"}),T.jsx("div",{className:" w-[90%] flex justify-center items-center m-auto bg-[#fff] border-[#808080] rounded hover:shadow-xl hover:bg-[#fff] focus:shadow-xl active:shadow-xl transition duration-150 ease-in-out",children:T.jsx("input",{type:"file",id:"images",onChange:j,accept:".jpg, .png, .jpeg, .webp",multiple:!0,required:!0,className:"py-3 text-[#808080] cursor-pointc"})})]}),T.jsx("button",{type:"submit",className:"w-full mt-10 mb-6 bg-[#10192D] text-[#fff] font-medium uppercase shadow-lg hover:shadow-xl p-2 rounded cursor-pointc text-2xl hover:bg-[#192d41] transition duration-200 ease-in-out active:bg-[#10192D]",title:"Sell Or Rent your Home",children:"Edit Listing"})]})]})};function s7(){const[t,e]=M.useState(!1),[n,i]=M.useState(!0);return M.useEffect(()=>{const r=Fi();aI(r,s=>{s&&e(!0),i(!1)})},[]),{loggedIn:t,checkingStatus:n}}const ag=()=>{const{loggedIn:t,checkingStatus:e}=s7();return e?T.jsx(sc,{}):t?T.jsx(RA,{}):T.jsx(AA,{to:"/sign-in"})};function o7(t){return On({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5z"}}]})(t)}const a7=({userRef:t,listing:e})=>{const[n,i]=M.useState(null),[r,s]=M.useState("");M.useEffect(()=>{(async()=>{const c=vr(oi,"users",t),d=await Gf(c);d.exists()?i(d.data()):ae.error("Could not get landlord data")})()},[t]);const a=u=>{s(u.target.value)};return T.jsx(T.Fragment,{children:n!==null&&T.jsxs("div",{className:"flex flex-col w-full",children:[T.jsxs("p",{className:" font-medium ",children:["Contact"," ",T.jsx("span",{className:"font-bold text-lg text-[#002470] capitalize",children:n.name})," ","for the"," ",T.jsx("span",{className:" font-bold text-lg text-[#002470] capitalize",children:e.name})," ","property."]}),T.jsx("div",{children:T.jsx("textarea",{name:"message",id:"message",rows:"2",value:r,onChange:a,placeholder:"Enter Message",required:!0,className:" w-full mt-3 mb-1 text-lg placeholder:text-[#808080] border-[#808080] hover:shadow-xl hover:bg-[#fff] focus:shadow-xl active:shadow-xl rounded transition ease-in-out"})}),T.jsx("a",{href:`mailto:${n.email}?.Subject=${e.name}&body=${r}`,children:T.jsx("button",{type:"button",className:"w-full bg-[#10192D] text-[#fff] font-medium uppercase shadow-md hover:shadow-lg px-7 py-3 rounded cursor-pointc text-base hover:bg-[#192d41] transition duration-150 ease-in-out focus:bg-[#10192D] focus:shadow-lg text-center",children:"Send Message"})})]})})};function VP(t,e){const n=M.useRef(e);M.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const l7=1;function u7(t){return Object.freeze({__version:l7,map:t})}function c7(t,e){return Object.freeze({...t,...e})}const HP=M.createContext(null),WP=HP.Provider;function GP(){const t=M.useContext(HP);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function h7(t){function e(n,i){const{instance:r,context:s}=t(n).current;return M.useImperativeHandle(i,()=>r),n.children==null?null:le.createElement(WP,{value:s},n.children)}return M.forwardRef(e)}function d7(t){function e(n,i){const[r,s]=M.useState(!1),{instance:a}=t(n,s).current;M.useImperativeHandle(i,()=>a),M.useEffect(function(){r&&a.update()},[a,r,n.children]);const u=a._contentNode;return u?EC.createPortal(n.children,u):null}return M.forwardRef(e)}function f7(t){function e(n,i){const{instance:r}=t(n).current;return M.useImperativeHandle(i,()=>r),null}return M.forwardRef(e)}function qP(t,e){const n=M.useRef();M.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function W0(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function p7(t,e){return function(i,r){const s=GP(),a=t(W0(i,s),s);return VP(s.map,i.attribution),qP(a.current,i.eventHandlers),e(a.current,s,i,r),a}}var Qv={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,i){i(e)})(wN,function(n){var i="1.9.4";function r(o){var l,h,f,m;for(h=1,f=arguments.length;h<f;h++){m=arguments[h];for(l in m)o[l]=m[l]}return o}var s=Object.create||function(){function o(){}return function(l){return o.prototype=l,new o}}();function a(o,l){var h=Array.prototype.slice;if(o.bind)return o.bind.apply(o,h.call(arguments,1));var f=h.call(arguments,2);return function(){return o.apply(l,f.length?f.concat(h.call(arguments)):arguments)}}var u=0;function c(o){return"_leaflet_id"in o||(o._leaflet_id=++u),o._leaflet_id}function d(o,l,h){var f,m,x,I;return I=function(){f=!1,m&&(x.apply(h,m),m=!1)},x=function(){f?m=arguments:(o.apply(h,arguments),setTimeout(I,l),f=!0)},x}function p(o,l,h){var f=l[1],m=l[0],x=f-m;return o===f&&h?o:((o-m)%x+x)%x+m}function g(){return!1}function y(o,l){if(l===!1)return o;var h=Math.pow(10,l===void 0?6:l);return Math.round(o*h)/h}function w(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function E(o){return w(o).split(/\s+/)}function C(o,l){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?s(o.options):{});for(var h in l)o.options[h]=l[h];return o.options}function b(o,l,h){var f=[];for(var m in o)f.push(encodeURIComponent(h?m.toUpperCase():m)+"="+encodeURIComponent(o[m]));return(!l||l.indexOf("?")===-1?"?":"&")+f.join("&")}var v=/\{ *([\w_ -]+) *\}/g;function _(o,l){return o.replace(v,function(h,f){var m=l[f];if(m===void 0)throw new Error("No value provided for variable "+h);return typeof m=="function"&&(m=m(l)),m})}var S=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function k(o,l){for(var h=0;h<o.length;h++)if(o[h]===l)return h;return-1}var P="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function O(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var z=0;function N(o){var l=+new Date,h=Math.max(0,16-(l-z));return z=l+h,window.setTimeout(o,h)}var j=window.requestAnimationFrame||O("RequestAnimationFrame")||N,Y=window.cancelAnimationFrame||O("CancelAnimationFrame")||O("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function F(o,l,h){if(h&&j===N)o.call(l);else return j.call(window,a(o,l))}function $(o){o&&Y.call(window,o)}var q={__proto__:null,extend:r,create:s,bind:a,get lastId(){return u},stamp:c,throttle:d,wrapNum:p,falseFn:g,formatNum:y,trim:w,splitWords:E,setOptions:C,getParamString:b,template:_,isArray:S,indexOf:k,emptyImageUrl:P,requestFn:j,cancelFn:Y,requestAnimFrame:F,cancelAnimFrame:$};function ie(){}ie.extend=function(o){var l=function(){C(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,f=s(h);f.constructor=l,l.prototype=f;for(var m in this)Object.prototype.hasOwnProperty.call(this,m)&&m!=="prototype"&&m!=="__super__"&&(l[m]=this[m]);return o.statics&&r(l,o.statics),o.includes&&(Ce(o.includes),r.apply(null,[f].concat(o.includes))),r(f,o),delete f.statics,delete f.includes,f.options&&(f.options=h.options?s(h.options):{},r(f.options,o.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var x=0,I=f._initHooks.length;x<I;x++)f._initHooks[x].call(this)}},l},ie.include=function(o){var l=this.prototype.options;return r(this.prototype,o),o.options&&(this.prototype.options=l,this.mergeOptions(o.options)),this},ie.mergeOptions=function(o){return r(this.prototype.options,o),this},ie.addInitHook=function(o){var l=Array.prototype.slice.call(arguments,1),h=typeof o=="function"?o:function(){this[o].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function Ce(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=S(o)?o:[o];for(var l=0;l<o.length;l++)o[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ee={on:function(o,l,h){if(typeof o=="object")for(var f in o)this._on(f,o[f],l);else{o=E(o);for(var m=0,x=o.length;m<x;m++)this._on(o[m],l,h)}return this},off:function(o,l,h){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var f in o)this._off(f,o[f],l);else{o=E(o);for(var m=arguments.length===1,x=0,I=o.length;x<I;x++)m?this._off(o[x]):this._off(o[x],l,h)}return this},_on:function(o,l,h,f){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(o,l,h)===!1){h===this&&(h=void 0);var m={fn:l,ctx:h};f&&(m.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(m)}},_off:function(o,l,h){var f,m,x;if(this._events&&(f=this._events[o],!!f)){if(arguments.length===1){if(this._firingCount)for(m=0,x=f.length;m<x;m++)f[m].fn=g;delete this._events[o];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var I=this._listens(o,l,h);if(I!==!1){var A=f[I];this._firingCount&&(A.fn=g,this._events[o]=f=f.slice()),f.splice(I,1)}}},fire:function(o,l,h){if(!this.listens(o,h))return this;var f=r({},l,{type:o,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var m=this._events[o];if(m){this._firingCount=this._firingCount+1||1;for(var x=0,I=m.length;x<I;x++){var A=m[x],R=A.fn;A.once&&this.off(o,R,A.ctx),R.call(A.ctx||this,f)}this._firingCount--}}return h&&this._propagateEvent(f),this},listens:function(o,l,h,f){typeof o!="string"&&console.warn('"string" type argument expected');var m=l;typeof l!="function"&&(f=!!l,m=void 0,h=void 0);var x=this._events&&this._events[o];if(x&&x.length&&this._listens(o,m,h)!==!1)return!0;if(f){for(var I in this._eventParents)if(this._eventParents[I].listens(o,l,h,f))return!0}return!1},_listens:function(o,l,h){if(!this._events)return!1;var f=this._events[o]||[];if(!l)return!!f.length;h===this&&(h=void 0);for(var m=0,x=f.length;m<x;m++)if(f[m].fn===l&&f[m].ctx===h)return m;return!1},once:function(o,l,h){if(typeof o=="object")for(var f in o)this._on(f,o[f],l,!0);else{o=E(o);for(var m=0,x=o.length;m<x;m++)this._on(o[m],l,h,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[c(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[c(o)],this},_propagateEvent:function(o){for(var l in this._eventParents)this._eventParents[l].fire(o.type,r({layer:o.target,propagatedFrom:o.target},o),!0)}};ee.addEventListener=ee.on,ee.removeEventListener=ee.clearAllEventListeners=ee.off,ee.addOneTimeEventListener=ee.once,ee.fireEvent=ee.fire,ee.hasEventListeners=ee.listens;var _e=ie.extend(ee);function D(o,l,h){this.x=h?Math.round(o):o,this.y=h?Math.round(l):l}var Z=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};D.prototype={clone:function(){return new D(this.x,this.y)},add:function(o){return this.clone()._add(V(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(V(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new D(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new D(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Z(this.x),this.y=Z(this.y),this},distanceTo:function(o){o=V(o);var l=o.x-this.x,h=o.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(o){return o=V(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=V(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function V(o,l,h){return o instanceof D?o:S(o)?new D(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new D(o.x,o.y):new D(o,l,h)}function se(o,l){if(o)for(var h=l?[o,l]:o,f=0,m=h.length;f<m;f++)this.extend(h[f])}se.prototype={extend:function(o){var l,h;if(!o)return this;if(o instanceof D||typeof o[0]=="number"||"x"in o)l=h=V(o);else if(o=Se(o),l=o.min,h=o.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(o){return V((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return V(this.min.x,this.max.y)},getTopRight:function(){return V(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var l,h;return typeof o[0]=="number"||o instanceof D?o=V(o):o=Se(o),o instanceof se?(l=o.min,h=o.max):l=h=o,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(o){o=Se(o);var l=this.min,h=this.max,f=o.min,m=o.max,x=m.x>=l.x&&f.x<=h.x,I=m.y>=l.y&&f.y<=h.y;return x&&I},overlaps:function(o){o=Se(o);var l=this.min,h=this.max,f=o.min,m=o.max,x=m.x>l.x&&f.x<h.x,I=m.y>l.y&&f.y<h.y;return x&&I},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var l=this.min,h=this.max,f=Math.abs(l.x-h.x)*o,m=Math.abs(l.y-h.y)*o;return Se(V(l.x-f,l.y-m),V(h.x+f,h.y+m))},equals:function(o){return o?(o=Se(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function Se(o,l){return!o||o instanceof se?o:new se(o,l)}function Xe(o,l){if(o)for(var h=l?[o,l]:o,f=0,m=h.length;f<m;f++)this.extend(h[f])}Xe.prototype={extend:function(o){var l=this._southWest,h=this._northEast,f,m;if(o instanceof Pe)f=o,m=o;else if(o instanceof Xe){if(f=o._southWest,m=o._northEast,!f||!m)return this}else return o?this.extend(ge(o)||ke(o)):this;return!l&&!h?(this._southWest=new Pe(f.lat,f.lng),this._northEast=new Pe(m.lat,m.lng)):(l.lat=Math.min(f.lat,l.lat),l.lng=Math.min(f.lng,l.lng),h.lat=Math.max(m.lat,h.lat),h.lng=Math.max(m.lng,h.lng)),this},pad:function(o){var l=this._southWest,h=this._northEast,f=Math.abs(l.lat-h.lat)*o,m=Math.abs(l.lng-h.lng)*o;return new Xe(new Pe(l.lat-f,l.lng-m),new Pe(h.lat+f,h.lng+m))},getCenter:function(){return new Pe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Pe(this.getNorth(),this.getWest())},getSouthEast:function(){return new Pe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof Pe||"lat"in o?o=ge(o):o=ke(o);var l=this._southWest,h=this._northEast,f,m;return o instanceof Xe?(f=o.getSouthWest(),m=o.getNorthEast()):f=m=o,f.lat>=l.lat&&m.lat<=h.lat&&f.lng>=l.lng&&m.lng<=h.lng},intersects:function(o){o=ke(o);var l=this._southWest,h=this._northEast,f=o.getSouthWest(),m=o.getNorthEast(),x=m.lat>=l.lat&&f.lat<=h.lat,I=m.lng>=l.lng&&f.lng<=h.lng;return x&&I},overlaps:function(o){o=ke(o);var l=this._southWest,h=this._northEast,f=o.getSouthWest(),m=o.getNorthEast(),x=m.lat>l.lat&&f.lat<h.lat,I=m.lng>l.lng&&f.lng<h.lng;return x&&I},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,l){return o?(o=ke(o),this._southWest.equals(o.getSouthWest(),l)&&this._northEast.equals(o.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ke(o,l){return o instanceof Xe?o:new Xe(o,l)}function Pe(o,l,h){if(isNaN(o)||isNaN(l))throw new Error("Invalid LatLng object: ("+o+", "+l+")");this.lat=+o,this.lng=+l,h!==void 0&&(this.alt=+h)}Pe.prototype={equals:function(o,l){if(!o)return!1;o=ge(o);var h=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return h<=(l===void 0?1e-9:l)},toString:function(o){return"LatLng("+y(this.lat,o)+", "+y(this.lng,o)+")"},distanceTo:function(o){return Tr.distance(this,ge(o))},wrap:function(){return Tr.wrapLatLng(this)},toBounds:function(o){var l=180*o/40075017,h=l/Math.cos(Math.PI/180*this.lat);return ke([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new Pe(this.lat,this.lng,this.alt)}};function ge(o,l,h){return o instanceof Pe?o:S(o)&&typeof o[0]!="object"?o.length===3?new Pe(o[0],o[1],o[2]):o.length===2?new Pe(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new Pe(o.lat,"lng"in o?o.lng:o.lon,o.alt):l===void 0?null:new Pe(o,l,h)}var un={latLngToPoint:function(o,l){var h=this.projection.project(o),f=this.scale(l);return this.transformation._transform(h,f)},pointToLatLng:function(o,l){var h=this.scale(l),f=this.transformation.untransform(o,h);return this.projection.unproject(f)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(o),f=this.transformation.transform(l.min,h),m=this.transformation.transform(l.max,h);return new se(f,m)},infinite:!1,wrapLatLng:function(o){var l=this.wrapLng?p(o.lng,this.wrapLng,!0):o.lng,h=this.wrapLat?p(o.lat,this.wrapLat,!0):o.lat,f=o.alt;return new Pe(h,l,f)},wrapLatLngBounds:function(o){var l=o.getCenter(),h=this.wrapLatLng(l),f=l.lat-h.lat,m=l.lng-h.lng;if(f===0&&m===0)return o;var x=o.getSouthWest(),I=o.getNorthEast(),A=new Pe(x.lat-f,x.lng-m),R=new Pe(I.lat-f,I.lng-m);return new Xe(A,R)}},Tr=r({},un,{wrapLng:[-180,180],R:6371e3,distance:function(o,l){var h=Math.PI/180,f=o.lat*h,m=l.lat*h,x=Math.sin((l.lat-o.lat)*h/2),I=Math.sin((l.lng-o.lng)*h/2),A=x*x+Math.cos(f)*Math.cos(m)*I*I,R=2*Math.atan2(Math.sqrt(A),Math.sqrt(1-A));return this.R*R}}),Y0=6378137,gp={R:Y0,MAX_LATITUDE:85.0511287798,project:function(o){var l=Math.PI/180,h=this.MAX_LATITUDE,f=Math.max(Math.min(h,o.lat),-h),m=Math.sin(f*l);return new D(this.R*o.lng*l,this.R*Math.log((1+m)/(1-m))/2)},unproject:function(o){var l=180/Math.PI;return new Pe((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*l,o.x*l/this.R)},bounds:function(){var o=Y0*Math.PI;return new se([-o,-o],[o,o])}()};function vp(o,l,h,f){if(S(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=l,this._c=h,this._d=f}vp.prototype={transform:function(o,l){return this._transform(o.clone(),l)},_transform:function(o,l){return l=l||1,o.x=l*(this._a*o.x+this._b),o.y=l*(this._c*o.y+this._d),o},untransform:function(o,l){return l=l||1,new D((o.x/l-this._b)/this._a,(o.y/l-this._d)/this._c)}};function Ha(o,l,h,f){return new vp(o,l,h,f)}var yp=r({},Tr,{code:"EPSG:3857",projection:gp,transformation:function(){var o=.5/(Math.PI*gp.R);return Ha(o,.5,-o,.5)}()}),ZP=r({},yp,{code:"EPSG:900913"});function Z0(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function K0(o,l){var h="",f,m,x,I,A,R;for(f=0,x=o.length;f<x;f++){for(A=o[f],m=0,I=A.length;m<I;m++)R=A[m],h+=(m?"L":"M")+R.x+" "+R.y;h+=l?oe.svg?"z":"x":""}return h||"M0 0"}var _p=document.documentElement.style,gc="ActiveXObject"in window,KP=gc&&!document.addEventListener,Q0="msLaunchUri"in navigator&&!("documentMode"in document),wp=pi("webkit"),X0=pi("android"),J0=pi("android 2")||pi("android 3"),QP=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),XP=X0&&pi("Google")&&QP<537&&!("AudioNode"in window),xp=!!window.opera,ew=!Q0&&pi("chrome"),tw=pi("gecko")&&!wp&&!xp&&!gc,JP=!ew&&pi("safari"),nw=pi("phantom"),iw="OTransition"in _p,eL=navigator.platform.indexOf("Win")===0,rw=gc&&"transition"in _p,Sp="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!J0,sw="MozPerspective"in _p,tL=!window.L_DISABLE_3D&&(rw||Sp||sw)&&!iw&&!nw,Wa=typeof orientation<"u"||pi("mobile"),nL=Wa&&wp,iL=Wa&&Sp,ow=!window.PointerEvent&&window.MSPointerEvent,aw=!!(window.PointerEvent||ow),lw="ontouchstart"in window||!!window.TouchEvent,rL=!window.L_NO_TOUCH&&(lw||aw),sL=Wa&&xp,oL=Wa&&tw,aL=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,lL=function(){var o=!1;try{var l=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",g,l),window.removeEventListener("testPassiveEventSupport",g,l)}catch{}return o}(),uL=function(){return!!document.createElement("canvas").getContext}(),Tp=!!(document.createElementNS&&Z0("svg").createSVGRect),cL=!!Tp&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),hL=!Tp&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var l=o.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),dL=navigator.platform.indexOf("Mac")===0,fL=navigator.platform.indexOf("Linux")===0;function pi(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var oe={ie:gc,ielt9:KP,edge:Q0,webkit:wp,android:X0,android23:J0,androidStock:XP,opera:xp,chrome:ew,gecko:tw,safari:JP,phantom:nw,opera12:iw,win:eL,ie3d:rw,webkit3d:Sp,gecko3d:sw,any3d:tL,mobile:Wa,mobileWebkit:nL,mobileWebkit3d:iL,msPointer:ow,pointer:aw,touch:rL,touchNative:lw,mobileOpera:sL,mobileGecko:oL,retina:aL,passiveEvents:lL,canvas:uL,svg:Tp,vml:hL,inlineSvg:cL,mac:dL,linux:fL},uw=oe.msPointer?"MSPointerDown":"pointerdown",cw=oe.msPointer?"MSPointerMove":"pointermove",hw=oe.msPointer?"MSPointerUp":"pointerup",dw=oe.msPointer?"MSPointerCancel":"pointercancel",Ep={touchstart:uw,touchmove:cw,touchend:hw,touchcancel:dw},fw={touchstart:_L,touchmove:vc,touchend:vc,touchcancel:vc},vo={},pw=!1;function pL(o,l,h){return l==="touchstart"&&yL(),fw[l]?(h=fw[l].bind(this,h),o.addEventListener(Ep[l],h,!1),h):(console.warn("wrong event specified:",l),g)}function mL(o,l,h){if(!Ep[l]){console.warn("wrong event specified:",l);return}o.removeEventListener(Ep[l],h,!1)}function gL(o){vo[o.pointerId]=o}function vL(o){vo[o.pointerId]&&(vo[o.pointerId]=o)}function mw(o){delete vo[o.pointerId]}function yL(){pw||(document.addEventListener(uw,gL,!0),document.addEventListener(cw,vL,!0),document.addEventListener(hw,mw,!0),document.addEventListener(dw,mw,!0),pw=!0)}function vc(o,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in vo)l.touches.push(vo[h]);l.changedTouches=[l],o(l)}}function _L(o,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&Lt(l),vc(o,l)}function wL(o){var l={},h,f;for(f in o)h=o[f],l[f]=h&&h.bind?h.bind(o):h;return o=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var xL=200;function SL(o,l){o.addEventListener("dblclick",l);var h=0,f;function m(x){if(x.detail!==1){f=x.detail;return}if(!(x.pointerType==="mouse"||x.sourceCapabilities&&!x.sourceCapabilities.firesTouchEvents)){var I=ww(x);if(!(I.some(function(R){return R instanceof HTMLLabelElement&&R.attributes.for})&&!I.some(function(R){return R instanceof HTMLInputElement||R instanceof HTMLSelectElement}))){var A=Date.now();A-h<=xL?(f++,f===2&&l(wL(x))):f=1,h=A}}}return o.addEventListener("click",m),{dblclick:l,simDblclick:m}}function TL(o,l){o.removeEventListener("dblclick",l.dblclick),o.removeEventListener("click",l.simDblclick)}var Cp=wc(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ga=wc(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),gw=Ga==="webkitTransition"||Ga==="OTransition"?Ga+"End":"transitionend";function vw(o){return typeof o=="string"?document.getElementById(o):o}function qa(o,l){var h=o.style[l]||o.currentStyle&&o.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(o,null);h=f?f[l]:null}return h==="auto"?null:h}function Ae(o,l,h){var f=document.createElement(o);return f.className=l||"",h&&h.appendChild(f),f}function tt(o){var l=o.parentNode;l&&l.removeChild(o)}function yc(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function yo(o){var l=o.parentNode;l&&l.lastChild!==o&&l.appendChild(o)}function _o(o){var l=o.parentNode;l&&l.firstChild!==o&&l.insertBefore(o,l.firstChild)}function kp(o,l){if(o.classList!==void 0)return o.classList.contains(l);var h=_c(o);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function xe(o,l){if(o.classList!==void 0)for(var h=E(l),f=0,m=h.length;f<m;f++)o.classList.add(h[f]);else if(!kp(o,l)){var x=_c(o);bp(o,(x?x+" ":"")+l)}}function ct(o,l){o.classList!==void 0?o.classList.remove(l):bp(o,w((" "+_c(o)+" ").replace(" "+l+" "," ")))}function bp(o,l){o.className.baseVal===void 0?o.className=l:o.className.baseVal=l}function _c(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function Rn(o,l){"opacity"in o.style?o.style.opacity=l:"filter"in o.style&&EL(o,l)}function EL(o,l){var h=!1,f="DXImageTransform.Microsoft.Alpha";try{h=o.filters.item(f)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):o.style.filter+=" progid:"+f+"(opacity="+l+")"}function wc(o){for(var l=document.documentElement.style,h=0;h<o.length;h++)if(o[h]in l)return o[h];return!1}function ws(o,l,h){var f=l||new D(0,0);o.style[Cp]=(oe.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(h?" scale("+h+")":"")}function pt(o,l){o._leaflet_pos=l,oe.any3d?ws(o,l):(o.style.left=l.x+"px",o.style.top=l.y+"px")}function xs(o){return o._leaflet_pos||new D(0,0)}var Ya,Za,Ip;if("onselectstart"in document)Ya=function(){ve(window,"selectstart",Lt)},Za=function(){Be(window,"selectstart",Lt)};else{var Ka=wc(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ya=function(){if(Ka){var o=document.documentElement.style;Ip=o[Ka],o[Ka]="none"}},Za=function(){Ka&&(document.documentElement.style[Ka]=Ip,Ip=void 0)}}function Pp(){ve(window,"dragstart",Lt)}function Lp(){Be(window,"dragstart",Lt)}var xc,Np;function Mp(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(Sc(),xc=o,Np=o.style.outlineStyle,o.style.outlineStyle="none",ve(window,"keydown",Sc))}function Sc(){xc&&(xc.style.outlineStyle=Np,xc=void 0,Np=void 0,Be(window,"keydown",Sc))}function yw(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function Op(o){var l=o.getBoundingClientRect();return{x:l.width/o.offsetWidth||1,y:l.height/o.offsetHeight||1,boundingClientRect:l}}var CL={__proto__:null,TRANSFORM:Cp,TRANSITION:Ga,TRANSITION_END:gw,get:vw,getStyle:qa,create:Ae,remove:tt,empty:yc,toFront:yo,toBack:_o,hasClass:kp,addClass:xe,removeClass:ct,setClass:bp,getClass:_c,setOpacity:Rn,testProp:wc,setTransform:ws,setPosition:pt,getPosition:xs,get disableTextSelection(){return Ya},get enableTextSelection(){return Za},disableImageDrag:Pp,enableImageDrag:Lp,preventOutline:Mp,restoreOutline:Sc,getSizedParentNode:yw,getScale:Op};function ve(o,l,h,f){if(l&&typeof l=="object")for(var m in l)Rp(o,m,l[m],h);else{l=E(l);for(var x=0,I=l.length;x<I;x++)Rp(o,l[x],h,f)}return this}var mi="_leaflet_events";function Be(o,l,h,f){if(arguments.length===1)_w(o),delete o[mi];else if(l&&typeof l=="object")for(var m in l)Dp(o,m,l[m],h);else if(l=E(l),arguments.length===2)_w(o,function(A){return k(l,A)!==-1});else for(var x=0,I=l.length;x<I;x++)Dp(o,l[x],h,f);return this}function _w(o,l){for(var h in o[mi]){var f=h.split(/\d/)[0];(!l||l(f))&&Dp(o,f,null,null,h)}}var Ap={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Rp(o,l,h,f){var m=l+c(h)+(f?"_"+c(f):"");if(o[mi]&&o[mi][m])return this;var x=function(A){return h.call(f||o,A||window.event)},I=x;!oe.touchNative&&oe.pointer&&l.indexOf("touch")===0?x=pL(o,l,x):oe.touch&&l==="dblclick"?x=SL(o,x):"addEventListener"in o?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?o.addEventListener(Ap[l]||l,x,oe.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(x=function(A){A=A||window.event,zp(o,A)&&I(A)},o.addEventListener(Ap[l],x,!1)):o.addEventListener(l,I,!1):o.attachEvent("on"+l,x),o[mi]=o[mi]||{},o[mi][m]=x}function Dp(o,l,h,f,m){m=m||l+c(h)+(f?"_"+c(f):"");var x=o[mi]&&o[mi][m];if(!x)return this;!oe.touchNative&&oe.pointer&&l.indexOf("touch")===0?mL(o,l,x):oe.touch&&l==="dblclick"?TL(o,x):"removeEventListener"in o?o.removeEventListener(Ap[l]||l,x,!1):o.detachEvent("on"+l,x),o[mi][m]=null}function Ss(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function $p(o){return Rp(o,"wheel",Ss),this}function Qa(o){return ve(o,"mousedown touchstart dblclick contextmenu",Ss),o._leaflet_disable_click=!0,this}function Lt(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function Ts(o){return Lt(o),Ss(o),this}function ww(o){if(o.composedPath)return o.composedPath();for(var l=[],h=o.target;h;)l.push(h),h=h.parentNode;return l}function xw(o,l){if(!l)return new D(o.clientX,o.clientY);var h=Op(l),f=h.boundingClientRect;return new D((o.clientX-f.left)/h.x-l.clientLeft,(o.clientY-f.top)/h.y-l.clientTop)}var kL=oe.linux&&oe.chrome?window.devicePixelRatio:oe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Sw(o){return oe.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/kL:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function zp(o,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==o;)h=h.parentNode}catch{return!1}return h!==o}var bL={__proto__:null,on:ve,off:Be,stopPropagation:Ss,disableScrollPropagation:$p,disableClickPropagation:Qa,preventDefault:Lt,stop:Ts,getPropagationPath:ww,getMousePosition:xw,getWheelDelta:Sw,isExternalTarget:zp,addListener:ve,removeListener:Be},Tw=_e.extend({run:function(o,l,h,f){this.stop(),this._el=o,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=xs(o),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=F(this._animate,this),this._step()},_step:function(o){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),o):(this._runFrame(1),this._complete())},_runFrame:function(o,l){var h=this._startPos.add(this._offset.multiplyBy(o));l&&h._round(),pt(this._el,h),this.fire("step")},_complete:function(){$(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Le=_e.extend({options:{crs:yp,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,l){l=C(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(ge(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ga&&oe.any3d&&!oe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ve(this._proxy,gw,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),o=this._limitCenter(ge(o),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=r({animate:h.animate},h.zoom),h.pan=r({animate:h.animate,duration:h.duration},h.pan));var f=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,l,h.zoom):this._tryAnimatedPan(o,h.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(o,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(o,l){return this._loaded?this.setView(this.getCenter(),o,{zoom:l}):(this._zoom=o,this)},zoomIn:function(o,l){return o=o||(oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,l)},zoomOut:function(o,l){return o=o||(oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,l)},setZoomAround:function(o,l,h){var f=this.getZoomScale(l),m=this.getSize().divideBy(2),x=o instanceof D?o:this.latLngToContainerPoint(o),I=x.subtract(m).multiplyBy(1-1/f),A=this.containerPointToLatLng(m.add(I));return this.setView(A,l,{zoom:h})},_getBoundsCenterZoom:function(o,l){l=l||{},o=o.getBounds?o.getBounds():ke(o);var h=V(l.paddingTopLeft||l.padding||[0,0]),f=V(l.paddingBottomRight||l.padding||[0,0]),m=this.getBoundsZoom(o,!1,h.add(f));if(m=typeof l.maxZoom=="number"?Math.min(l.maxZoom,m):m,m===1/0)return{center:o.getCenter(),zoom:m};var x=f.subtract(h).divideBy(2),I=this.project(o.getSouthWest(),m),A=this.project(o.getNorthEast(),m),R=this.unproject(I.add(A).divideBy(2).add(x),m);return{center:R,zoom:m}},fitBounds:function(o,l){if(o=ke(o),!o.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(o,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,l){return this.setView(o,this._zoom,{pan:l})},panBy:function(o,l){if(o=V(o).round(),l=l||{},!o.x&&!o.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Tw,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){xe(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,l,h){if(h=h||{},h.animate===!1||!oe.any3d)return this.setView(o,l,h);this._stop();var f=this.project(this.getCenter()),m=this.project(o),x=this.getSize(),I=this._zoom;o=ge(o),l=l===void 0?I:l;var A=Math.max(x.x,x.y),R=A*this.getZoomScale(I,l),B=m.distanceTo(f)||1,X=1.42,de=X*X;function Te(mt){var Ac=mt?-1:1,mN=mt?R:A,gN=R*R-A*A+Ac*de*de*B*B,vN=2*mN*de*B,Zp=gN/vN,i1=Math.sqrt(Zp*Zp+1)-Zp,yN=i1<1e-9?-18:Math.log(i1);return yN}function en(mt){return(Math.exp(mt)-Math.exp(-mt))/2}function Et(mt){return(Math.exp(mt)+Math.exp(-mt))/2}function $n(mt){return en(mt)/Et(mt)}var cn=Te(0);function Co(mt){return A*(Et(cn)/Et(cn+X*mt))}function hN(mt){return A*(Et(cn)*$n(cn+X*mt)-en(cn))/de}function dN(mt){return 1-Math.pow(1-mt,1.5)}var fN=Date.now(),t1=(Te(1)-cn)/X,pN=h.duration?1e3*h.duration:1e3*t1*.8;function n1(){var mt=(Date.now()-fN)/pN,Ac=dN(mt)*t1;mt<=1?(this._flyToFrame=F(n1,this),this._move(this.unproject(f.add(m.subtract(f).multiplyBy(hN(Ac)/B)),I),this.getScaleZoom(A/Co(Ac),I),{flyTo:!0})):this._move(o,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),n1.call(this),this},flyToBounds:function(o,l){var h=this._getBoundsCenterZoom(o,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(o){return o=ke(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var l=this.options.minZoom;return this.options.minZoom=o,this._loaded&&l!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var l=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&l!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,l){this._enforcingBounds=!0;var h=this.getCenter(),f=this._limitCenter(h,this._zoom,ke(o));return h.equals(f)||this.panTo(f,l),this._enforcingBounds=!1,this},panInside:function(o,l){l=l||{};var h=V(l.paddingTopLeft||l.padding||[0,0]),f=V(l.paddingBottomRight||l.padding||[0,0]),m=this.project(this.getCenter()),x=this.project(o),I=this.getPixelBounds(),A=Se([I.min.add(h),I.max.subtract(f)]),R=A.getSize();if(!A.contains(x)){this._enforcingBounds=!0;var B=x.subtract(A.getCenter()),X=A.extend(x).getSize().subtract(R);m.x+=B.x<0?-X.x:X.x,m.y+=B.y<0?-X.y:X.y,this.panTo(this.unproject(m),l),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=r({animate:!1,pan:!0},o===!0?{animate:!0}:o);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),f=l.divideBy(2).round(),m=h.divideBy(2).round(),x=f.subtract(m);return!x.x&&!x.y?this:(o.animate&&o.pan?this.panBy(x):(o.pan&&this._rawPanBy(x),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=r({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=a(this._handleGeolocationResponse,this),h=a(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,o):navigator.geolocation.getCurrentPosition(l,h,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var l=o.code,h=o.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var l=o.coords.latitude,h=o.coords.longitude,f=new Pe(l,h),m=f.toBounds(o.coords.accuracy*2),x=this._locateOptions;if(x.setView){var I=this.getBoundsZoom(m);this.setView(f,x.maxZoom?Math.min(I,x.maxZoom):I)}var A={latlng:f,bounds:m,timestamp:o.timestamp};for(var R in o.coords)typeof o.coords[R]=="number"&&(A[R]=o.coords[R]);this.fire("locationfound",A)}},addHandler:function(o,l){if(!l)return this;var h=this[o]=new l(this);return this._handlers.push(h),this.options[o]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),tt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&($(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)tt(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,l){var h="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),f=Ae("div",h,l||this._mapPane);return o&&(this._panes[o]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),l=this.unproject(o.getBottomLeft()),h=this.unproject(o.getTopRight());return new Xe(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,l,h){o=ke(o),h=V(h||[0,0]);var f=this.getZoom()||0,m=this.getMinZoom(),x=this.getMaxZoom(),I=o.getNorthWest(),A=o.getSouthEast(),R=this.getSize().subtract(h),B=Se(this.project(A,f),this.project(I,f)).getSize(),X=oe.any3d?this.options.zoomSnap:1,de=R.x/B.x,Te=R.y/B.y,en=l?Math.max(de,Te):Math.min(de,Te);return f=this.getScaleZoom(en,f),X&&(f=Math.round(f/(X/100))*(X/100),f=l?Math.ceil(f/X)*X:Math.floor(f/X)*X),Math.max(m,Math.min(x,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new D(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,l){var h=this._getTopLeftPoint(o,l);return new se(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(o)/h.scale(l)},getScaleZoom:function(o,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var f=h.zoom(o*h.scale(l));return isNaN(f)?1/0:f},project:function(o,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(ge(o),l)},unproject:function(o,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(V(o),l)},layerPointToLatLng:function(o){var l=V(o).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(o){var l=this.project(ge(o))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(ge(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(ke(o))},distance:function(o,l){return this.options.crs.distance(ge(o),ge(l))},containerPointToLayerPoint:function(o){return V(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return V(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var l=this.containerPointToLayerPoint(V(o));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ge(o)))},mouseEventToContainerPoint:function(o){return xw(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var l=this._container=vw(o);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ve(l,"scroll",this._onScroll,this),this._containerId=c(l)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&oe.any3d,xe(o,"leaflet-container"+(oe.touch?" leaflet-touch":"")+(oe.retina?" leaflet-retina":"")+(oe.ielt9?" leaflet-oldie":"")+(oe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=qa(o,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),pt(this._mapPane,new D(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(xe(o.markerPane,"leaflet-zoom-hide"),xe(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,l,h){pt(this._mapPane,new D(0,0));var f=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var m=this._zoom!==l;this._moveStart(m,h)._move(o,l)._moveEnd(m),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(o,l){return o&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(o,l,h,f){l===void 0&&(l=this._zoom);var m=this._zoom!==l;return this._zoom=l,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),f?h&&h.pinch&&this.fire("zoom",h):((m||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return $(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){pt(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[c(this._container)]=this;var l=o?Be:ve;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),oe.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){$(this._resizeRequest),this._resizeRequest=F(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,l){for(var h=[],f,m=l==="mouseout"||l==="mouseover",x=o.target||o.srcElement,I=!1;x;){if(f=this._targets[c(x)],f&&(l==="click"||l==="preclick")&&this._draggableMoved(f)){I=!0;break}if(f&&f.listens(l,!0)&&(m&&!zp(x,o)||(h.push(f),m))||x===this._container)break;x=x.parentNode}return!h.length&&!I&&!m&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var l=o.target||o.srcElement;if(!(!this._loaded||l._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(l))){var h=o.type;h==="mousedown"&&Mp(l),this._fireDOMEvent(o,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,l,h){if(o.type==="click"){var f=r({},o);f.type="preclick",this._fireDOMEvent(f,f.type,h)}var m=this._findEventTargets(o,l);if(h){for(var x=[],I=0;I<h.length;I++)h[I].listens(l,!0)&&x.push(h[I]);m=x.concat(m)}if(m.length){l==="contextmenu"&&Lt(o);var A=m[0],R={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var B=A.getLatLng&&(!A._radius||A._radius<=10);R.containerPoint=B?this.latLngToContainerPoint(A.getLatLng()):this.mouseEventToContainerPoint(o),R.layerPoint=this.containerPointToLayerPoint(R.containerPoint),R.latlng=B?A.getLatLng():this.layerPointToLatLng(R.layerPoint)}for(I=0;I<m.length;I++)if(m[I].fire(l,R,!0),R.originalEvent._stopped||m[I].options.bubblingMouseEvents===!1&&k(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,l=this._handlers.length;o<l;o++)this._handlers[o].disable()},whenReady:function(o,l){return this._loaded?o.call(l||this,{target:this}):this.on("load",o,l),this},_getMapPanePos:function(){return xs(this._mapPane)||new D(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,l){var h=o&&l!==void 0?this._getNewPixelOrigin(o,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,l){var h=this.getSize()._divideBy(2);return this.project(o,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,l,h){var f=this._getNewPixelOrigin(h,l);return this.project(o,l)._subtract(f)},_latLngBoundsToNewLayerBounds:function(o,l,h){var f=this._getNewPixelOrigin(h,l);return Se([this.project(o.getSouthWest(),l)._subtract(f),this.project(o.getNorthWest(),l)._subtract(f),this.project(o.getSouthEast(),l)._subtract(f),this.project(o.getNorthEast(),l)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,l,h){if(!h)return o;var f=this.project(o,l),m=this.getSize().divideBy(2),x=new se(f.subtract(m),f.add(m)),I=this._getBoundsOffset(x,h,l);return Math.abs(I.x)<=1&&Math.abs(I.y)<=1?o:this.unproject(f.add(I),l)},_limitOffset:function(o,l){if(!l)return o;var h=this.getPixelBounds(),f=new se(h.min.add(o),h.max.add(o));return o.add(this._getBoundsOffset(f,l))},_getBoundsOffset:function(o,l,h){var f=Se(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),m=f.min.subtract(o.min),x=f.max.subtract(o.max),I=this._rebound(m.x,-x.x),A=this._rebound(m.y,-x.y);return new D(I,A)},_rebound:function(o,l){return o+l>0?Math.round(o-l)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(l))},_limitZoom:function(o){var l=this.getMinZoom(),h=this.getMaxZoom(),f=oe.any3d?this.options.zoomSnap:1;return f&&(o=Math.round(o/f)*f),Math.max(l,Math.min(h,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ct(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,l){var h=this._getCenterOffset(o)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var o=this._proxy=Ae("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(l){var h=Cp,f=this._proxy.style[h];ws(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),f===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){tt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),l=this.getZoom();ws(this._proxy,this.project(o,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(l),m=this._getCenterOffset(o)._divideBy(1-1/f);return h.animate!==!0&&!this.getSize().contains(m)?!1:(F(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(o,l,!0)},this),!0)},_animateZoom:function(o,l,h,f){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=l,xe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:l,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ct(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function IL(o,l){return new Le(o,l)}var Qn=ie.extend({options:{position:"topright"},initialize:function(o){C(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var l=this._map;return l&&l.removeControl(this),this.options.position=o,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var l=this._container=this.onAdd(o),h=this.getPosition(),f=o._controlCorners[h];return xe(l,"leaflet-control"),h.indexOf("bottom")!==-1?f.insertBefore(l,f.firstChild):f.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(tt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Xa=function(o){return new Qn(o)};Le.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},l="leaflet-",h=this._controlContainer=Ae("div",l+"control-container",this._container);function f(m,x){var I=l+m+" "+l+x;o[m+x]=Ae("div",I,h)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)tt(this._controlCorners[o]);tt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ew=Qn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,l,h,f){return h<f?-1:f<h?1:0}},initialize:function(o,l,h){C(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var f in o)this._addLayer(o[f],f);for(f in l)this._addLayer(l[f],f,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return Qn.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,l){return this._addLayer(o,l),this._map?this._update():this},addOverlay:function(o,l){return this._addLayer(o,l,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var l=this._getLayer(c(o));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){xe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(xe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):ct(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ct(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",l=this._container=Ae("div",o),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Qa(l),$p(l);var f=this._section=Ae("section",o+"-list");h&&(this._map.on("click",this.collapse,this),ve(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var m=this._layersLink=Ae("a",o+"-toggle",l);m.href="#",m.title="Layers",m.setAttribute("role","button"),ve(m,{keydown:function(x){x.keyCode===13&&this._expandSafely()},click:function(x){Lt(x),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=Ae("div",o+"-base",f),this._separator=Ae("div",o+"-separator",f),this._overlaysList=Ae("div",o+"-overlays",f),l.appendChild(f)},_getLayer:function(o){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&c(this._layers[l].layer)===o)return this._layers[l]},_addLayer:function(o,l,h){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(a(function(f,m){return this.options.sortFunction(f.layer,m.layer,f.name,m.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;yc(this._baseLayersList),yc(this._overlaysList),this._layerControlInputs=[];var o,l,h,f,m=0;for(h=0;h<this._layers.length;h++)f=this._layers[h],this._addItem(f),l=l||f.overlay,o=o||!f.overlay,m+=f.overlay?0:1;return this.options.hideSingleBase&&(o=o&&m>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=l&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var l=this._getLayer(c(o.target)),h=l.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(o,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(l?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=h,f.firstChild},_addItem:function(o){var l=document.createElement("label"),h=this._map.hasLayer(o.layer),f;o.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=h):f=this._createRadioElement("leaflet-base-layers_"+c(this),h),this._layerControlInputs.push(f),f.layerId=c(o.layer),ve(f,"click",this._onInputClick,this);var m=document.createElement("span");m.innerHTML=" "+o.name;var x=document.createElement("span");l.appendChild(x),x.appendChild(f),x.appendChild(m);var I=o.overlay?this._overlaysList:this._baseLayersList;return I.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,l,h,f=[],m=[];this._handlingClick=!0;for(var x=o.length-1;x>=0;x--)l=o[x],h=this._getLayer(l.layerId).layer,l.checked?f.push(h):l.checked||m.push(h);for(x=0;x<m.length;x++)this._map.hasLayer(m[x])&&this._map.removeLayer(m[x]);for(x=0;x<f.length;x++)this._map.hasLayer(f[x])||this._map.addLayer(f[x]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,l,h,f=this._map.getZoom(),m=o.length-1;m>=0;m--)l=o[m],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&f<h.options.minZoom||h.options.maxZoom!==void 0&&f>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,ve(o,"click",Lt),this.expand();var l=this;setTimeout(function(){Be(o,"click",Lt),l._preventClick=!1})}}),PL=function(o,l,h){return new Ew(o,l,h)},Fp=Qn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var l="leaflet-control-zoom",h=Ae("div",l+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,l,h,f,m){var x=Ae("a",h,f);return x.innerHTML=o,x.href="#",x.title=l,x.setAttribute("role","button"),x.setAttribute("aria-label",l),Qa(x),ve(x,"click",Ts),ve(x,"click",m,this),ve(x,"click",this._refocusOnMap,this),x},_updateDisabled:function(){var o=this._map,l="leaflet-disabled";ct(this._zoomInButton,l),ct(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(xe(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(xe(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Le.mergeOptions({zoomControl:!0}),Le.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Fp,this.addControl(this.zoomControl))});var LL=function(o){return new Fp(o)},Cw=Qn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var l="leaflet-control-scale",h=Ae("div",l),f=this.options;return this._addScales(f,l+"-line",h),o.on(f.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),h},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,l,h){o.metric&&(this._mScale=Ae("div",l,h)),o.imperial&&(this._iScale=Ae("div",l,h))},_update:function(){var o=this._map,l=o.getSize().y/2,h=o.distance(o.containerPointToLatLng([0,l]),o.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var l=this._getRoundNum(o),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/o)},_updateImperial:function(o){var l=o*3.2808399,h,f,m;l>5280?(h=l/5280,f=this._getRoundNum(h),this._updateScale(this._iScale,f+" mi",f/h)):(m=this._getRoundNum(l),this._updateScale(this._iScale,m+" ft",m/l))},_updateScale:function(o,l,h){o.style.width=Math.round(this.options.maxWidth*h)+"px",o.innerHTML=l},_getRoundNum:function(o){var l=Math.pow(10,(Math.floor(o)+"").length-1),h=o/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),NL=function(o){return new Cw(o)},ML='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Up=Qn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(oe.inlineSvg?ML+" ":"")+"Leaflet</a>"},initialize:function(o){C(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=Ae("div","leaflet-control-attribution"),Qa(this._container);for(var l in o._layers)o._layers[l].getAttribution&&this.addAttribution(o._layers[l].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var l in this._attributions)this._attributions[l]&&o.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),o.length&&h.push(o.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});Le.mergeOptions({attributionControl:!0}),Le.addInitHook(function(){this.options.attributionControl&&new Up().addTo(this)});var OL=function(o){return new Up(o)};Qn.Layers=Ew,Qn.Zoom=Fp,Qn.Scale=Cw,Qn.Attribution=Up,Xa.layers=PL,Xa.zoom=LL,Xa.scale=NL,Xa.attribution=OL;var gi=ie.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});gi.addTo=function(o,l){return o.addHandler(l,this),this};var AL={Events:ee},kw=oe.touch?"touchstart mousedown":"mousedown",Er=_e.extend({options:{clickTolerance:3},initialize:function(o,l,h,f){C(this,f),this._element=o,this._dragStartTarget=l||o,this._preventOutline=h},enable:function(){this._enabled||(ve(this._dragStartTarget,kw,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Er._dragging===this&&this.finishDrag(!0),Be(this._dragStartTarget,kw,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!kp(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Er._dragging===this&&this.finishDrag();return}if(!(Er._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Er._dragging=this,this._preventOutline&&Mp(this._element),Pp(),Ya(),!this._moving)){this.fire("down");var l=o.touches?o.touches[0]:o,h=yw(this._element);this._startPoint=new D(l.clientX,l.clientY),this._startPos=xs(this._element),this._parentScale=Op(h);var f=o.type==="mousedown";ve(document,f?"mousemove":"touchmove",this._onMove,this),ve(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var l=o.touches&&o.touches.length===1?o.touches[0]:o,h=new D(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,Lt(o),this._moved||(this.fire("dragstart"),this._moved=!0,xe(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),xe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),pt(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){ct(document.body,"leaflet-dragging"),this._lastTarget&&(ct(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Be(document,"mousemove touchmove",this._onMove,this),Be(document,"mouseup touchend touchcancel",this._onUp,this),Lp(),Za();var l=this._moved&&this._moving;this._moving=!1,Er._dragging=!1,l&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function bw(o,l,h){var f,m=[1,4,2,8],x,I,A,R,B,X,de,Te;for(x=0,X=o.length;x<X;x++)o[x]._code=Es(o[x],l);for(A=0;A<4;A++){for(de=m[A],f=[],x=0,X=o.length,I=X-1;x<X;I=x++)R=o[x],B=o[I],R._code&de?B._code&de||(Te=Tc(B,R,de,l,h),Te._code=Es(Te,l),f.push(Te)):(B._code&de&&(Te=Tc(B,R,de,l,h),Te._code=Es(Te,l),f.push(Te)),f.push(R));o=f}return o}function Iw(o,l){var h,f,m,x,I,A,R,B,X;if(!o||o.length===0)throw new Error("latlngs not passed");Dn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var de=ge([0,0]),Te=ke(o),en=Te.getNorthWest().distanceTo(Te.getSouthWest())*Te.getNorthEast().distanceTo(Te.getNorthWest());en<1700&&(de=jp(o));var Et=o.length,$n=[];for(h=0;h<Et;h++){var cn=ge(o[h]);$n.push(l.project(ge([cn.lat-de.lat,cn.lng-de.lng])))}for(A=R=B=0,h=0,f=Et-1;h<Et;f=h++)m=$n[h],x=$n[f],I=m.y*x.x-x.y*m.x,R+=(m.x+x.x)*I,B+=(m.y+x.y)*I,A+=I*3;A===0?X=$n[0]:X=[R/A,B/A];var Co=l.unproject(V(X));return ge([Co.lat+de.lat,Co.lng+de.lng])}function jp(o){for(var l=0,h=0,f=0,m=0;m<o.length;m++){var x=ge(o[m]);l+=x.lat,h+=x.lng,f++}return ge([l/f,h/f])}var RL={__proto__:null,clipPolygon:bw,polygonCenter:Iw,centroid:jp};function Pw(o,l){if(!l||!o.length)return o.slice();var h=l*l;return o=zL(o,h),o=$L(o,h),o}function Lw(o,l,h){return Math.sqrt(Ja(o,l,h,!0))}function DL(o,l,h){return Ja(o,l,h)}function $L(o,l){var h=o.length,f=typeof Uint8Array!=void 0+""?Uint8Array:Array,m=new f(h);m[0]=m[h-1]=1,Bp(o,m,l,0,h-1);var x,I=[];for(x=0;x<h;x++)m[x]&&I.push(o[x]);return I}function Bp(o,l,h,f,m){var x=0,I,A,R;for(A=f+1;A<=m-1;A++)R=Ja(o[A],o[f],o[m],!0),R>x&&(I=A,x=R);x>h&&(l[I]=1,Bp(o,l,h,f,I),Bp(o,l,h,I,m))}function zL(o,l){for(var h=[o[0]],f=1,m=0,x=o.length;f<x;f++)FL(o[f],o[m])>l&&(h.push(o[f]),m=f);return m<x-1&&h.push(o[x-1]),h}var Nw;function Mw(o,l,h,f,m){var x=f?Nw:Es(o,h),I=Es(l,h),A,R,B;for(Nw=I;;){if(!(x|I))return[o,l];if(x&I)return!1;A=x||I,R=Tc(o,l,A,h,m),B=Es(R,h),A===x?(o=R,x=B):(l=R,I=B)}}function Tc(o,l,h,f,m){var x=l.x-o.x,I=l.y-o.y,A=f.min,R=f.max,B,X;return h&8?(B=o.x+x*(R.y-o.y)/I,X=R.y):h&4?(B=o.x+x*(A.y-o.y)/I,X=A.y):h&2?(B=R.x,X=o.y+I*(R.x-o.x)/x):h&1&&(B=A.x,X=o.y+I*(A.x-o.x)/x),new D(B,X,m)}function Es(o,l){var h=0;return o.x<l.min.x?h|=1:o.x>l.max.x&&(h|=2),o.y<l.min.y?h|=4:o.y>l.max.y&&(h|=8),h}function FL(o,l){var h=l.x-o.x,f=l.y-o.y;return h*h+f*f}function Ja(o,l,h,f){var m=l.x,x=l.y,I=h.x-m,A=h.y-x,R=I*I+A*A,B;return R>0&&(B=((o.x-m)*I+(o.y-x)*A)/R,B>1?(m=h.x,x=h.y):B>0&&(m+=I*B,x+=A*B)),I=o.x-m,A=o.y-x,f?I*I+A*A:new D(m,x)}function Dn(o){return!S(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function Ow(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Dn(o)}function Aw(o,l){var h,f,m,x,I,A,R,B;if(!o||o.length===0)throw new Error("latlngs not passed");Dn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var X=ge([0,0]),de=ke(o),Te=de.getNorthWest().distanceTo(de.getSouthWest())*de.getNorthEast().distanceTo(de.getNorthWest());Te<1700&&(X=jp(o));var en=o.length,Et=[];for(h=0;h<en;h++){var $n=ge(o[h]);Et.push(l.project(ge([$n.lat-X.lat,$n.lng-X.lng])))}for(h=0,f=0;h<en-1;h++)f+=Et[h].distanceTo(Et[h+1])/2;if(f===0)B=Et[0];else for(h=0,x=0;h<en-1;h++)if(I=Et[h],A=Et[h+1],m=I.distanceTo(A),x+=m,x>f){R=(x-f)/m,B=[A.x-R*(A.x-I.x),A.y-R*(A.y-I.y)];break}var cn=l.unproject(V(B));return ge([cn.lat+X.lat,cn.lng+X.lng])}var UL={__proto__:null,simplify:Pw,pointToSegmentDistance:Lw,closestPointOnSegment:DL,clipSegment:Mw,_getEdgeIntersection:Tc,_getBitCode:Es,_sqClosestPointOnSegment:Ja,isFlat:Dn,_flat:Ow,polylineCenter:Aw},Vp={project:function(o){return new D(o.lng,o.lat)},unproject:function(o){return new Pe(o.y,o.x)},bounds:new se([-180,-90],[180,90])},Hp={R:6378137,R_MINOR:6356752314245179e-9,bounds:new se([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var l=Math.PI/180,h=this.R,f=o.lat*l,m=this.R_MINOR/h,x=Math.sqrt(1-m*m),I=x*Math.sin(f),A=Math.tan(Math.PI/4-f/2)/Math.pow((1-I)/(1+I),x/2);return f=-h*Math.log(Math.max(A,1e-10)),new D(o.lng*l*h,f)},unproject:function(o){for(var l=180/Math.PI,h=this.R,f=this.R_MINOR/h,m=Math.sqrt(1-f*f),x=Math.exp(-o.y/h),I=Math.PI/2-2*Math.atan(x),A=0,R=.1,B;A<15&&Math.abs(R)>1e-7;A++)B=m*Math.sin(I),B=Math.pow((1-B)/(1+B),m/2),R=Math.PI/2-2*Math.atan(x*B)-I,I+=R;return new Pe(I*l,o.x*l/h)}},jL={__proto__:null,LonLat:Vp,Mercator:Hp,SphericalMercator:gp},BL=r({},Tr,{code:"EPSG:3395",projection:Hp,transformation:function(){var o=.5/(Math.PI*Hp.R);return Ha(o,.5,-o,.5)}()}),Rw=r({},Tr,{code:"EPSG:4326",projection:Vp,transformation:Ha(1/180,1,-1/180,.5)}),VL=r({},un,{projection:Vp,transformation:Ha(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,l){var h=l.lng-o.lng,f=l.lat-o.lat;return Math.sqrt(h*h+f*f)},infinite:!0});un.Earth=Tr,un.EPSG3395=BL,un.EPSG3857=yp,un.EPSG900913=ZP,un.EPSG4326=Rw,un.Simple=VL;var Xn=_e.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[c(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[c(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var l=o.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Le.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var l=c(o);return this._layers[l]?this:(this._layers[l]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var l=c(o);return this._layers[l]?(this._loaded&&o.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return c(o)in this._layers},eachLayer:function(o,l){for(var h in this._layers)o.call(l,this._layers[h]);return this},_addLayers:function(o){o=o?S(o)?o:[o]:[];for(var l=0,h=o.length;l<h;l++)this.addLayer(o[l])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[c(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var l=c(o);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,l=-1/0,h=this._getZoomSpan();for(var f in this._zoomBoundLayers){var m=this._zoomBoundLayers[f].options;o=m.minZoom===void 0?o:Math.min(o,m.minZoom),l=m.maxZoom===void 0?l:Math.max(l,m.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=o===1/0?void 0:o,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var wo=Xn.extend({initialize:function(o,l){C(this,l),this._layers={};var h,f;if(o)for(h=0,f=o.length;h<f;h++)this.addLayer(o[h])},addLayer:function(o){var l=this.getLayerId(o);return this._layers[l]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var l=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(o){var l=typeof o=="number"?o:this.getLayerId(o);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var l=Array.prototype.slice.call(arguments,1),h,f;for(h in this._layers)f=this._layers[h],f[o]&&f[o].apply(f,l);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,l){for(var h in this._layers)o.call(l,this._layers[h]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return c(o)}}),HL=function(o,l){return new wo(o,l)},Bi=wo.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),wo.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),wo.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new Xe;for(var l in this._layers){var h=this._layers[l];o.extend(h.getBounds?h.getBounds():h.getLatLng())}return o}}),WL=function(o,l){return new Bi(o,l)},xo=ie.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){C(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,l){var h=this._getIconUrl(o);if(!h){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(f,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),f},_setIconStyles:function(o,l){var h=this.options,f=h[l+"Size"];typeof f=="number"&&(f=[f,f]);var m=V(f),x=V(l==="shadow"&&h.shadowAnchor||h.iconAnchor||m&&m.divideBy(2,!0));o.className="leaflet-marker-"+l+" "+(h.className||""),x&&(o.style.marginLeft=-x.x+"px",o.style.marginTop=-x.y+"px"),m&&(o.style.width=m.x+"px",o.style.height=m.y+"px")},_createImg:function(o,l){return l=l||document.createElement("img"),l.src=o,l},_getIconUrl:function(o){return oe.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function GL(o){return new xo(o)}var el=xo.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof el.imagePath!="string"&&(el.imagePath=this._detectIconPath()),(this.options.imagePath||el.imagePath)+xo.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var l=function(h,f,m){var x=f.exec(h);return x&&x[m]};return o=l(o,/^url\((['"])?(.+)\1\)$/,2),o&&l(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=Ae("div","leaflet-default-icon-path",document.body),l=qa(o,"background-image")||qa(o,"backgroundImage");if(document.body.removeChild(o),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),Dw=gi.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Er(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),xe(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ct(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var l=this._marker,h=l._map,f=this._marker.options.autoPanSpeed,m=this._marker.options.autoPanPadding,x=xs(l._icon),I=h.getPixelBounds(),A=h.getPixelOrigin(),R=Se(I.min._subtract(A).add(m),I.max._subtract(A).subtract(m));if(!R.contains(x)){var B=V((Math.max(R.max.x,x.x)-R.max.x)/(I.max.x-R.max.x)-(Math.min(R.min.x,x.x)-R.min.x)/(I.min.x-R.min.x),(Math.max(R.max.y,x.y)-R.max.y)/(I.max.y-R.max.y)-(Math.min(R.min.y,x.y)-R.min.y)/(I.min.y-R.min.y)).multiplyBy(f);h.panBy(B,{animate:!1}),this._draggable._newPos._add(B),this._draggable._startPos._add(B),pt(l._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=F(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&($(this._panRequest),this._panRequest=F(this._adjustPan.bind(this,o)))},_onDrag:function(o){var l=this._marker,h=l._shadow,f=xs(l._icon),m=l._map.layerPointToLatLng(f);h&&pt(h,f),l._latlng=m,o.latlng=m,o.oldLatLng=this._oldLatLng,l.fire("move",o).fire("drag",o)},_onDragEnd:function(o){$(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Ec=Xn.extend({options:{icon:new el,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,l){C(this,l),this._latlng=ge(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var l=this._latlng;return this._latlng=ge(o),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=o.icon.createIcon(this._icon),f=!1;h!==this._icon&&(this._icon&&this._removeIcon(),f=!0,o.title&&(h.title=o.title),h.tagName==="IMG"&&(h.alt=o.alt||"")),xe(h,l),o.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ve(h,"focus",this._panOnFocus,this);var m=o.icon.createShadow(this._shadow),x=!1;m!==this._shadow&&(this._removeShadow(),x=!0),m&&(xe(m,l),m.alt=""),this._shadow=m,o.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),m&&x&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Be(this._icon,"focus",this._panOnFocus,this),tt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&tt(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&pt(this._icon,o),this._shadow&&pt(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(xe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Dw)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Dw(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&Rn(this._icon,o),this._shadow&&Rn(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var l=this.options.icon.options,h=l.iconSize?V(l.iconSize):V(0,0),f=l.iconAnchor?V(l.iconAnchor):V(0,0);o.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:h.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function qL(o,l){return new Ec(o,l)}var Cr=Xn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return C(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Cc=Cr.extend({options:{fill:!0,radius:10},initialize:function(o,l){C(this,l),this._latlng=ge(o),this._radius=this.options.radius},setLatLng:function(o){var l=this._latlng;return this._latlng=ge(o),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var l=o&&o.radius||this._radius;return Cr.prototype.setStyle.call(this,o),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,l=this._radiusY||o,h=this._clickTolerance(),f=[o+h,l+h];this._pxBounds=new se(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function YL(o,l){return new Cc(o,l)}var Wp=Cc.extend({initialize:function(o,l,h){if(typeof l=="number"&&(l=r({},h,{radius:l})),C(this,l),this._latlng=ge(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new Xe(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Cr.prototype.setStyle,_project:function(){var o=this._latlng.lng,l=this._latlng.lat,h=this._map,f=h.options.crs;if(f.distance===Tr.distance){var m=Math.PI/180,x=this._mRadius/Tr.R/m,I=h.project([l+x,o]),A=h.project([l-x,o]),R=I.add(A).divideBy(2),B=h.unproject(R).lat,X=Math.acos((Math.cos(x*m)-Math.sin(l*m)*Math.sin(B*m))/(Math.cos(l*m)*Math.cos(B*m)))/m;(isNaN(X)||X===0)&&(X=x/Math.cos(Math.PI/180*l)),this._point=R.subtract(h.getPixelOrigin()),this._radius=isNaN(X)?0:R.x-h.project([B,o-X]).x,this._radiusY=R.y-I.y}else{var de=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(de).x}this._updateBounds()}});function ZL(o,l,h){return new Wp(o,l,h)}var Vi=Cr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,l){C(this,l),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var l=1/0,h=null,f=Ja,m,x,I=0,A=this._parts.length;I<A;I++)for(var R=this._parts[I],B=1,X=R.length;B<X;B++){m=R[B-1],x=R[B];var de=f(o,m,x,!0);de<l&&(l=de,h=f(o,m,x))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Aw(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,l){return l=l||this._defaultShape(),o=ge(o),l.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new Xe,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Dn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var l=[],h=Dn(o),f=0,m=o.length;f<m;f++)h?(l[f]=ge(o[f]),this._bounds.extend(l[f])):l[f]=this._convertLatLngs(o[f]);return l},_project:function(){var o=new se;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),l=new D(o,o);this._rawPxBounds&&(this._pxBounds=new se([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(o,l,h){var f=o[0]instanceof Pe,m=o.length,x,I;if(f){for(I=[],x=0;x<m;x++)I[x]=this._map.latLngToLayerPoint(o[x]),h.extend(I[x]);l.push(I)}else for(x=0;x<m;x++)this._projectLatlngs(o[x],l,h)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,f,m,x,I,A,R;for(h=0,m=0,x=this._rings.length;h<x;h++)for(R=this._rings[h],f=0,I=R.length;f<I-1;f++)A=Mw(R[f],R[f+1],o,f,!0),A&&(l[m]=l[m]||[],l[m].push(A[0]),(A[1]!==R[f+1]||f===I-2)&&(l[m].push(A[1]),m++))}},_simplifyPoints:function(){for(var o=this._parts,l=this.options.smoothFactor,h=0,f=o.length;h<f;h++)o[h]=Pw(o[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,l){var h,f,m,x,I,A,R=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(h=0,x=this._parts.length;h<x;h++)for(A=this._parts[h],f=0,I=A.length,m=I-1;f<I;m=f++)if(!(!l&&f===0)&&Lw(o,A[m],A[f])<=R)return!0;return!1}});function KL(o,l){return new Vi(o,l)}Vi._flat=Ow;var So=Vi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Iw(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var l=Vi.prototype._convertLatLngs.call(this,o),h=l.length;return h>=2&&l[0]instanceof Pe&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(o){Vi.prototype._setLatLngs.call(this,o),Dn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Dn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,l=this.options.weight,h=new D(l,l);if(o=new se(o.min.subtract(h),o.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,m=this._rings.length,x;f<m;f++)x=bw(this._rings[f],o,!0),x.length&&this._parts.push(x)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var l=!1,h,f,m,x,I,A,R,B;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(x=0,R=this._parts.length;x<R;x++)for(h=this._parts[x],I=0,B=h.length,A=B-1;I<B;A=I++)f=h[I],m=h[A],f.y>o.y!=m.y>o.y&&o.x<(m.x-f.x)*(o.y-f.y)/(m.y-f.y)+f.x&&(l=!l);return l||Vi.prototype._containsPoint.call(this,o,!0)}});function QL(o,l){return new So(o,l)}var Hi=Bi.extend({initialize:function(o,l){C(this,l),this._layers={},o&&this.addData(o)},addData:function(o){var l=S(o)?o:o.features,h,f,m;if(l){for(h=0,f=l.length;h<f;h++)m=l[h],(m.geometries||m.geometry||m.features||m.coordinates)&&this.addData(m);return this}var x=this.options;if(x.filter&&!x.filter(o))return this;var I=kc(o,x);return I?(I.feature=Pc(o),I.defaultOptions=I.options,this.resetStyle(I),x.onEachFeature&&x.onEachFeature(o,I),this.addLayer(I)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=r({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(l){this._setLayerStyle(l,o)},this)},_setLayerStyle:function(o,l){o.setStyle&&(typeof l=="function"&&(l=l(o.feature)),o.setStyle(l))}});function kc(o,l){var h=o.type==="Feature"?o.geometry:o,f=h?h.coordinates:null,m=[],x=l&&l.pointToLayer,I=l&&l.coordsToLatLng||Gp,A,R,B,X;if(!f&&!h)return null;switch(h.type){case"Point":return A=I(f),$w(x,o,A,l);case"MultiPoint":for(B=0,X=f.length;B<X;B++)A=I(f[B]),m.push($w(x,o,A,l));return new Bi(m);case"LineString":case"MultiLineString":return R=bc(f,h.type==="LineString"?0:1,I),new Vi(R,l);case"Polygon":case"MultiPolygon":return R=bc(f,h.type==="Polygon"?1:2,I),new So(R,l);case"GeometryCollection":for(B=0,X=h.geometries.length;B<X;B++){var de=kc({geometry:h.geometries[B],type:"Feature",properties:o.properties},l);de&&m.push(de)}return new Bi(m);case"FeatureCollection":for(B=0,X=h.features.length;B<X;B++){var Te=kc(h.features[B],l);Te&&m.push(Te)}return new Bi(m);default:throw new Error("Invalid GeoJSON object.")}}function $w(o,l,h,f){return o?o(l,h):new Ec(h,f&&f.markersInheritOptions&&f)}function Gp(o){return new Pe(o[1],o[0],o[2])}function bc(o,l,h){for(var f=[],m=0,x=o.length,I;m<x;m++)I=l?bc(o[m],l-1,h):(h||Gp)(o[m]),f.push(I);return f}function qp(o,l){return o=ge(o),o.alt!==void 0?[y(o.lng,l),y(o.lat,l),y(o.alt,l)]:[y(o.lng,l),y(o.lat,l)]}function Ic(o,l,h,f){for(var m=[],x=0,I=o.length;x<I;x++)m.push(l?Ic(o[x],Dn(o[x])?0:l-1,h,f):qp(o[x],f));return!l&&h&&m.length>0&&m.push(m[0].slice()),m}function To(o,l){return o.feature?r({},o.feature,{geometry:l}):Pc(l)}function Pc(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var Yp={toGeoJSON:function(o){return To(this,{type:"Point",coordinates:qp(this.getLatLng(),o)})}};Ec.include(Yp),Wp.include(Yp),Cc.include(Yp),Vi.include({toGeoJSON:function(o){var l=!Dn(this._latlngs),h=Ic(this._latlngs,l?1:0,!1,o);return To(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),So.include({toGeoJSON:function(o){var l=!Dn(this._latlngs),h=l&&!Dn(this._latlngs[0]),f=Ic(this._latlngs,h?2:l?1:0,!0,o);return l||(f=[f]),To(this,{type:(h?"Multi":"")+"Polygon",coordinates:f})}}),wo.include({toMultiPoint:function(o){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(o).geometry.coordinates)}),To(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(o){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(o);var h=l==="GeometryCollection",f=[];return this.eachLayer(function(m){if(m.toGeoJSON){var x=m.toGeoJSON(o);if(h)f.push(x.geometry);else{var I=Pc(x);I.type==="FeatureCollection"?f.push.apply(f,I.features):f.push(I)}}}),h?To(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function zw(o,l){return new Hi(o,l)}var XL=zw,Lc=Xn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,l,h){this._url=o,this._bounds=ke(l),C(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(xe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){tt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&yo(this._image),this},bringToBack:function(){return this._map&&_o(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=ke(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",l=this._image=o?this._url:Ae("img");if(xe(l,"leaflet-image-layer"),this._zoomAnimated&&xe(l,"leaflet-zoom-animated"),this.options.className&&xe(l,this.options.className),l.onselectstart=g,l.onmousemove=g,l.onload=a(this.fire,this,"load"),l.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(o){var l=this._map.getZoomScale(o.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;ws(this._image,h,l)},_reset:function(){var o=this._image,l=new se(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();pt(o,l.min),o.style.width=h.x+"px",o.style.height=h.y+"px"},_updateOpacity:function(){Rn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),JL=function(o,l,h){return new Lc(o,l,h)},Fw=Lc.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",l=this._image=o?this._url:Ae("video");if(xe(l,"leaflet-image-layer"),this._zoomAnimated&&xe(l,"leaflet-zoom-animated"),this.options.className&&xe(l,this.options.className),l.onselectstart=g,l.onmousemove=g,l.onloadeddata=a(this.fire,this,"load"),o){for(var h=l.getElementsByTagName("source"),f=[],m=0;m<h.length;m++)f.push(h[m].src);this._url=h.length>0?f:[l.src];return}S(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var x=0;x<this._url.length;x++){var I=Ae("source");I.src=this._url[x],l.appendChild(I)}}});function eN(o,l,h){return new Fw(o,l,h)}var Uw=Lc.extend({_initImage:function(){var o=this._image=this._url;xe(o,"leaflet-image-layer"),this._zoomAnimated&&xe(o,"leaflet-zoom-animated"),this.options.className&&xe(o,this.options.className),o.onselectstart=g,o.onmousemove=g}});function tN(o,l,h){return new Uw(o,l,h)}var vi=Xn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,l){o&&(o instanceof Pe||S(o))?(this._latlng=ge(o),C(this,l)):(C(this,o),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&Rn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&Rn(this._container,1),this.bringToFront(),this.options.interactive&&(xe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(Rn(this._container,0),this._removeTimeout=setTimeout(a(tt,void 0,this._container),200)):tt(this._container),this.options.interactive&&(ct(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=ge(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&yo(this._container),this},bringToBack:function(){return this._map&&_o(this._container),this},_prepareOpen:function(o){var l=this._source;if(!l._map)return!1;if(l instanceof Bi){l=null;var h=this._source._layers;for(var f in h)if(h[f]._map){l=h[f];break}if(!l)return!1;this._source=l}if(!o)if(l.getCenter)o=l.getCenter();else if(l.getLatLng)o=l.getLatLng();else if(l.getBounds)o=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")o.innerHTML=l;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),l=V(this.options.offset),h=this._getAnchor();this._zoomAnimated?pt(this._container,o.add(h)):l=l.add(o).add(h);var f=this._containerBottom=-l.y,m=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=f+"px",this._container.style.left=m+"px"}},_getAnchor:function(){return[0,0]}});Le.include({_initOverlay:function(o,l,h,f){var m=l;return m instanceof o||(m=new o(f).setContent(l)),h&&m.setLatLng(h),m}}),Xn.include({_initOverlay:function(o,l,h,f){var m=h;return m instanceof o?(C(m,f),m._source=this):(m=l&&!f?l:new o(f,this),m.setContent(h)),m}});var Nc=vi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,vi.prototype.openOn.call(this,o)},onAdd:function(o){vi.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Cr||this._source.on("preclick",Ss))},onRemove:function(o){vi.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Cr||this._source.off("preclick",Ss))},getEvents:function(){var o=vi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",l=this._container=Ae("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=Ae("div",o+"-content-wrapper",l);if(this._contentNode=Ae("div",o+"-content",h),Qa(l),$p(this._contentNode),ve(l,"contextmenu",Ss),this._tipContainer=Ae("div",o+"-tip-container",l),this._tip=Ae("div",o+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=Ae("a",o+"-close-button",l);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',ve(f,"click",function(m){Lt(m),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,l=o.style;l.width="",l.whiteSpace="nowrap";var h=o.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var f=o.offsetHeight,m=this.options.maxHeight,x="leaflet-popup-scrolled";m&&f>m?(l.height=m+"px",xe(o,x)):ct(o,x),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),h=this._getAnchor();pt(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,l=parseInt(qa(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,f=this._containerWidth,m=new D(this._containerLeft,-h-this._containerBottom);m._add(xs(this._container));var x=o.layerPointToContainerPoint(m),I=V(this.options.autoPanPadding),A=V(this.options.autoPanPaddingTopLeft||I),R=V(this.options.autoPanPaddingBottomRight||I),B=o.getSize(),X=0,de=0;x.x+f+R.x>B.x&&(X=x.x+f-B.x+R.x),x.x-X-A.x<0&&(X=x.x-A.x),x.y+h+R.y>B.y&&(de=x.y+h-B.y+R.y),x.y-de-A.y<0&&(de=x.y-A.y),(X||de)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([X,de]))}},_getAnchor:function(){return V(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),nN=function(o,l){return new Nc(o,l)};Le.mergeOptions({closePopupOnClick:!0}),Le.include({openPopup:function(o,l,h){return this._initOverlay(Nc,o,l,h).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),Xn.include({bindPopup:function(o,l){return this._popup=this._initOverlay(Nc,this._popup,o,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Bi||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){Ts(o);var l=o.layer||o.target;if(this._popup._source===l&&!(l instanceof Cr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=l,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Mc=vi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){vi.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){vi.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=vi.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",l=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ae("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var l,h,f=this._map,m=this._container,x=f.latLngToContainerPoint(f.getCenter()),I=f.layerPointToContainerPoint(o),A=this.options.direction,R=m.offsetWidth,B=m.offsetHeight,X=V(this.options.offset),de=this._getAnchor();A==="top"?(l=R/2,h=B):A==="bottom"?(l=R/2,h=0):A==="center"?(l=R/2,h=B/2):A==="right"?(l=0,h=B/2):A==="left"?(l=R,h=B/2):I.x<x.x?(A="right",l=0,h=B/2):(A="left",l=R+(X.x+de.x)*2,h=B/2),o=o.subtract(V(l,h,!0)).add(X).add(de),ct(m,"leaflet-tooltip-right"),ct(m,"leaflet-tooltip-left"),ct(m,"leaflet-tooltip-top"),ct(m,"leaflet-tooltip-bottom"),xe(m,"leaflet-tooltip-"+A),pt(m,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&Rn(this._container,o)},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(l)},_getAnchor:function(){return V(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),iN=function(o,l){return new Mc(o,l)};Le.include({openTooltip:function(o,l,h){return this._initOverlay(Mc,o,l,h).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),Xn.include({bindTooltip:function(o,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Mc,this._tooltip,o,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var l=o?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Bi||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var l=typeof o.getElement=="function"&&o.getElement();l&&(ve(l,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),ve(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var l=typeof o.getElement=="function"&&o.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var l=o.latlng,h,f;this._tooltip.options.sticky&&o.originalEvent&&(h=this._map.mouseEventToContainerPoint(o.originalEvent),f=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(l)}});var jw=xo.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var l=o&&o.tagName==="DIV"?o:document.createElement("div"),h=this.options;if(h.html instanceof Element?(yc(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var f=V(h.bgPos);l.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function rN(o){return new jw(o)}xo.Default=el;var tl=Xn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:oe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){C(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),tt(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(yo(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(_o(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof D?o:new D(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var l=this.getPane().children,h=-o(-1/0,1/0),f=0,m=l.length,x;f<m;f++)x=l[f].style.zIndex,l[f]!==this._container&&x&&(h=o(h,+x));isFinite(h)&&(this.options.zIndex=h+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!oe.ielt9){Rn(this._container,this.options.opacity);var o=+new Date,l=!1,h=!1;for(var f in this._tiles){var m=this._tiles[f];if(!(!m.current||!m.loaded)){var x=Math.min(1,(o-m.loaded)/200);Rn(m.el,x),x<1?l=!0:(m.active?h=!0:this._onOpaqueTile(m),m.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&($(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=Ae("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,l=this.options.maxZoom;if(o!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===o?(this._levels[h].el.style.zIndex=l-Math.abs(o-h),this._onUpdateLevel(h)):(tt(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var f=this._levels[o],m=this._map;return f||(f=this._levels[o]={},f.el=Ae("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=l,f.origin=m.project(m.unproject(m.getPixelOrigin()),o).round(),f.zoom=o,this._setZoomTransform(f,m.getCenter(),m.getZoom()),g(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var o,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)l=this._tiles[o],l.retain=l.current;for(o in this._tiles)if(l=this._tiles[o],l.current&&!l.active){var f=l.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var l in this._tiles)this._tiles[l].coords.z===o&&this._removeTile(l)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)tt(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,l,h,f){var m=Math.floor(o/2),x=Math.floor(l/2),I=h-1,A=new D(+m,+x);A.z=+I;var R=this._tileCoordsToKey(A),B=this._tiles[R];return B&&B.active?(B.retain=!0,!0):(B&&B.loaded&&(B.retain=!0),I>f?this._retainParent(m,x,I,f):!1)},_retainChildren:function(o,l,h,f){for(var m=2*o;m<2*o+2;m++)for(var x=2*l;x<2*l+2;x++){var I=new D(m,x);I.z=h+1;var A=this._tileCoordsToKey(I),R=this._tiles[A];if(R&&R.active){R.retain=!0;continue}else R&&R.loaded&&(R.retain=!0);h+1<f&&this._retainChildren(m,x,h+1,f)}},_resetView:function(o){var l=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var l=this.options;return l.minNativeZoom!==void 0&&o<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<o?l.maxNativeZoom:o},_setView:function(o,l,h,f){var m=Math.round(l);this.options.maxZoom!==void 0&&m>this.options.maxZoom||this.options.minZoom!==void 0&&m<this.options.minZoom?m=void 0:m=this._clampZoom(m);var x=this.options.updateWhenZooming&&m!==this._tileZoom;(!f||x)&&(this._tileZoom=m,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),m!==void 0&&this._update(o),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(o,l)},_setZoomTransforms:function(o,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],o,l)},_setZoomTransform:function(o,l,h){var f=this._map.getZoomScale(h,o.zoom),m=o.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(l,h)).round();oe.any3d?ws(o.el,m,f):pt(o.el,m)},_resetGrid:function(){var o=this._map,l=o.options.crs,h=this._tileSize=this.getTileSize(),f=this._tileZoom,m=this._map.getPixelWorldBounds(this._tileZoom);m&&(this._globalTileRange=this._pxBoundsToTileRange(m)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,l.wrapLng[0]],f).x/h.x),Math.ceil(o.project([0,l.wrapLng[1]],f).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([l.wrapLat[0],0],f).y/h.x),Math.ceil(o.project([l.wrapLat[1],0],f).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),f=l.getZoomScale(h,this._tileZoom),m=l.project(o,this._tileZoom).floor(),x=l.getSize().divideBy(f*2);return new se(m.subtract(x),m.add(x))},_update:function(o){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(o===void 0&&(o=l.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(o),m=this._pxBoundsToTileRange(f),x=m.getCenter(),I=[],A=this.options.keepBuffer,R=new se(m.getBottomLeft().subtract([A,-A]),m.getTopRight().add([A,-A]));if(!(isFinite(m.min.x)&&isFinite(m.min.y)&&isFinite(m.max.x)&&isFinite(m.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var B in this._tiles){var X=this._tiles[B].coords;(X.z!==this._tileZoom||!R.contains(new D(X.x,X.y)))&&(this._tiles[B].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(o,h);return}for(var de=m.min.y;de<=m.max.y;de++)for(var Te=m.min.x;Te<=m.max.x;Te++){var en=new D(Te,de);if(en.z=this._tileZoom,!!this._isValidTile(en)){var Et=this._tiles[this._tileCoordsToKey(en)];Et?Et.current=!0:I.push(en)}}if(I.sort(function(cn,Co){return cn.distanceTo(x)-Co.distanceTo(x)}),I.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var $n=document.createDocumentFragment();for(Te=0;Te<I.length;Te++)this._addTile(I[Te],$n);this._level.el.appendChild($n)}}}},_isValidTile:function(o){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(o.x<h.min.x||o.x>h.max.x)||!l.wrapLat&&(o.y<h.min.y||o.y>h.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(o);return ke(this.options.bounds).overlaps(f)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var l=this._map,h=this.getTileSize(),f=o.scaleBy(h),m=f.add(h),x=l.unproject(f,o.z),I=l.unproject(m,o.z);return[x,I]},_tileCoordsToBounds:function(o){var l=this._tileCoordsToNwSe(o),h=new Xe(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var l=o.split(":"),h=new D(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(o){var l=this._tiles[o];l&&(tt(l.el),delete this._tiles[o],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){xe(o,"leaflet-tile");var l=this.getTileSize();o.style.width=l.x+"px",o.style.height=l.y+"px",o.onselectstart=g,o.onmousemove=g,oe.ielt9&&this.options.opacity<1&&Rn(o,this.options.opacity)},_addTile:function(o,l){var h=this._getTilePos(o),f=this._tileCoordsToKey(o),m=this.createTile(this._wrapCoords(o),a(this._tileReady,this,o));this._initTile(m),this.createTile.length<2&&F(a(this._tileReady,this,o,null,m)),pt(m,h),this._tiles[f]={el:m,coords:o,current:!0},l.appendChild(m),this.fire("tileloadstart",{tile:m,coords:o})},_tileReady:function(o,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:o});var f=this._tileCoordsToKey(o);h=this._tiles[f],h&&(h.loaded=+new Date,this._map._fadeAnimated?(Rn(h.el,0),$(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(xe(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),oe.ielt9||!this._map._fadeAnimated?F(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var l=new D(this._wrapX?p(o.x,this._wrapX):o.x,this._wrapY?p(o.y,this._wrapY):o.y);return l.z=o.z,l},_pxBoundsToTileRange:function(o){var l=this.getTileSize();return new se(o.min.unscaleBy(l).floor(),o.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function sN(o){return new tl(o)}var Eo=tl.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,l){this._url=o,l=C(this,l),l.detectRetina&&oe.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,l){return this._url===o&&l===void 0&&(l=!0),this._url=o,l||this.redraw(),this},createTile:function(o,l){var h=document.createElement("img");return ve(h,"load",a(this._tileOnLoad,this,l,h)),ve(h,"error",a(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(o),h},getTileUrl:function(o){var l={r:oe.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-o.y;this.options.tms&&(l.y=h),l["-y"]=h}return _(this._url,r(l,this.options))},_tileOnLoad:function(o,l){oe.ielt9?setTimeout(a(o,this,null,l),0):o(null,l)},_tileOnError:function(o,l,h){var f=this.options.errorTileUrl;f&&l.getAttribute("src")!==f&&(l.src=f),o(h,l)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,f=this.options.zoomOffset;return h&&(o=l-o),o+f},_getSubdomain:function(o){var l=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var o,l;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(l=this._tiles[o].el,l.onload=g,l.onerror=g,!l.complete)){l.src=P;var h=this._tiles[o].coords;tt(l),delete this._tiles[o],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(o){var l=this._tiles[o];if(l)return l.el.setAttribute("src",P),tl.prototype._removeTile.call(this,o)},_tileReady:function(o,l,h){if(!(!this._map||h&&h.getAttribute("src")===P))return tl.prototype._tileReady.call(this,o,l,h)}});function Bw(o,l){return new Eo(o,l)}var Vw=Eo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,l){this._url=o;var h=r({},this.defaultWmsParams);for(var f in l)f in this.options||(h[f]=l[f]);l=C(this,l);var m=l.detectRetina&&oe.retina?2:1,x=this.getTileSize();h.width=x.x*m,h.height=x.y*m,this.wmsParams=h},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Eo.prototype.onAdd.call(this,o)},getTileUrl:function(o){var l=this._tileCoordsToNwSe(o),h=this._crs,f=Se(h.project(l[0]),h.project(l[1])),m=f.min,x=f.max,I=(this._wmsVersion>=1.3&&this._crs===Rw?[m.y,m.x,x.y,x.x]:[m.x,m.y,x.x,x.y]).join(","),A=Eo.prototype.getTileUrl.call(this,o);return A+b(this.wmsParams,A,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+I},setParams:function(o,l){return r(this.wmsParams,o),l||this.redraw(),this}});function oN(o,l){return new Vw(o,l)}Eo.WMS=Vw,Bw.wms=oN;var Wi=Xn.extend({options:{padding:.1},initialize:function(o){C(this,o),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),xe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,l){var h=this._map.getZoomScale(l,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),m=this._map.project(this._center,l),x=f.multiplyBy(-h).add(m).subtract(this._map._getNewPixelOrigin(o,l));oe.any3d?ws(this._container,x,h):pt(this._container,x)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-o)).round();this._bounds=new se(h,h.add(l.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Hw=Wi.extend({options:{tolerance:0},getEvents:function(){var o=Wi.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Wi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");ve(o,"mousemove",this._onMouseMove,this),ve(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ve(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){$(this._redrawRequest),delete this._ctx,tt(this._container),Be(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var l in this._layers)o=this._layers[l],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Wi.prototype._update.call(this);var o=this._bounds,l=this._container,h=o.getSize(),f=oe.retina?2:1;pt(l,o.min),l.width=f*h.x,l.height=f*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",oe.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Wi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[c(o)]=o;var l=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var l=o._order,h=l.next,f=l.prev;h?h.prev=f:this._drawLast=f,f?f.next=h:this._drawFirst=h,delete o._order,delete this._layers[c(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var l=o.options.dashArray.split(/[, ]+/),h=[],f,m;for(m=0;m<l.length;m++){if(f=Number(l[m]),isNaN(f))return;h.push(f)}o.options._dashArray=h}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||F(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var l=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new se,this._redrawBounds.extend(o._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(o._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var l=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)o=f.layer,(!l||o._pxBounds&&o._pxBounds.intersects(l))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,l){if(this._drawing){var h,f,m,x,I=o._parts,A=I.length,R=this._ctx;if(A){for(R.beginPath(),h=0;h<A;h++){for(f=0,m=I[h].length;f<m;f++)x=I[h][f],R[f?"lineTo":"moveTo"](x.x,x.y);l&&R.closePath()}this._fillStroke(R,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var l=o._point,h=this._ctx,f=Math.max(Math.round(o._radius),1),m=(Math.max(Math.round(o._radiusY),1)||f)/f;m!==1&&(h.save(),h.scale(1,m)),h.beginPath(),h.arc(l.x,l.y/m,f,0,Math.PI*2,!1),m!==1&&h.restore(),this._fillStroke(h,o)}},_fillStroke:function(o,l){var h=l.options;h.fill&&(o.globalAlpha=h.fillOpacity,o.fillStyle=h.fillColor||h.color,o.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(o.setLineDash&&o.setLineDash(l.options&&l.options._dashArray||[]),o.globalAlpha=h.opacity,o.lineWidth=h.weight,o.strokeStyle=h.color,o.lineCap=h.lineCap,o.lineJoin=h.lineJoin,o.stroke())},_onClick:function(o){for(var l=this._map.mouseEventToLayerPoint(o),h,f,m=this._drawFirst;m;m=m.next)h=m.layer,h.options.interactive&&h._containsPoint(l)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(h))&&(f=h);this._fireEvent(f?[f]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,l)}},_handleMouseOut:function(o){var l=this._hoveredLayer;l&&(ct(this._container,"leaflet-interactive"),this._fireEvent([l],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,l){if(!this._mouseHoverThrottled){for(var h,f,m=this._drawFirst;m;m=m.next)h=m.layer,h.options.interactive&&h._containsPoint(l)&&(f=h);f!==this._hoveredLayer&&(this._handleMouseOut(o),f&&(xe(this._container,"leaflet-interactive"),this._fireEvent([f],o,"mouseover"),this._hoveredLayer=f)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,l,h){this._map._fireDOMEvent(l,h||l.type,o)},_bringToFront:function(o){var l=o._order;if(l){var h=l.next,f=l.prev;if(h)h.prev=f;else return;f?f.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(o)}},_bringToBack:function(o){var l=o._order;if(l){var h=l.next,f=l.prev;if(f)f.next=h;else return;h?h.prev=f:f&&(this._drawLast=f),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(o)}}});function Ww(o){return oe.canvas?new Hw(o):null}var nl=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),aN={_initContainer:function(){this._container=Ae("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Wi.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var l=o._container=nl("shape");xe(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",o._path=nl("path"),l.appendChild(o._path),this._updateStyle(o),this._layers[c(o)]=o},_addPath:function(o){var l=o._container;this._container.appendChild(l),o.options.interactive&&o.addInteractiveTarget(l)},_removePath:function(o){var l=o._container;tt(l),o.removeInteractiveTarget(l),delete this._layers[c(o)]},_updateStyle:function(o){var l=o._stroke,h=o._fill,f=o.options,m=o._container;m.stroked=!!f.stroke,m.filled=!!f.fill,f.stroke?(l||(l=o._stroke=nl("stroke")),m.appendChild(l),l.weight=f.weight+"px",l.color=f.color,l.opacity=f.opacity,f.dashArray?l.dashStyle=S(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=f.lineCap.replace("butt","flat"),l.joinstyle=f.lineJoin):l&&(m.removeChild(l),o._stroke=null),f.fill?(h||(h=o._fill=nl("fill")),m.appendChild(h),h.color=f.fillColor||f.color,h.opacity=f.fillOpacity):h&&(m.removeChild(h),o._fill=null)},_updateCircle:function(o){var l=o._point.round(),h=Math.round(o._radius),f=Math.round(o._radiusY||h);this._setPath(o,o._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+f+" 0,"+65535*360)},_setPath:function(o,l){o._path.v=l},_bringToFront:function(o){yo(o._container)},_bringToBack:function(o){_o(o._container)}},Oc=oe.vml?nl:Z0,il=Wi.extend({_initContainer:function(){this._container=Oc("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Oc("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){tt(this._container),Be(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Wi.prototype._update.call(this);var o=this._bounds,l=o.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),pt(h,o.min),h.setAttribute("viewBox",[o.min.x,o.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(o){var l=o._path=Oc("path");o.options.className&&xe(l,o.options.className),o.options.interactive&&xe(l,"leaflet-interactive"),this._updateStyle(o),this._layers[c(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){tt(o._path),o.removeInteractiveTarget(o._path),delete this._layers[c(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var l=o._path,h=o.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(o,l){this._setPath(o,K0(o._parts,l))},_updateCircle:function(o){var l=o._point,h=Math.max(Math.round(o._radius),1),f=Math.max(Math.round(o._radiusY),1)||h,m="a"+h+","+f+" 0 1,0 ",x=o._empty()?"M0 0":"M"+(l.x-h)+","+l.y+m+h*2+",0 "+m+-h*2+",0 ";this._setPath(o,x)},_setPath:function(o,l){o._path.setAttribute("d",l)},_bringToFront:function(o){yo(o._path)},_bringToBack:function(o){_o(o._path)}});oe.vml&&il.include(aN);function Gw(o){return oe.svg||oe.vml?new il(o):null}Le.include({getRenderer:function(o){var l=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var l=this._paneRenderers[o];return l===void 0&&(l=this._createRenderer({pane:o}),this._paneRenderers[o]=l),l},_createRenderer:function(o){return this.options.preferCanvas&&Ww(o)||Gw(o)}});var qw=So.extend({initialize:function(o,l){So.prototype.initialize.call(this,this._boundsToLatLngs(o),l)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=ke(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function lN(o,l){return new qw(o,l)}il.create=Oc,il.pointsToPath=K0,Hi.geometryToLayer=kc,Hi.coordsToLatLng=Gp,Hi.coordsToLatLngs=bc,Hi.latLngToCoords=qp,Hi.latLngsToCoords=Ic,Hi.getFeature=To,Hi.asFeature=Pc,Le.mergeOptions({boxZoom:!0});var Yw=gi.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){ve(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Be(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){tt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ya(),Pp(),this._startPoint=this._map.mouseEventToContainerPoint(o),ve(document,{contextmenu:Ts,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=Ae("div","leaflet-zoom-box",this._container),xe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var l=new se(this._point,this._startPoint),h=l.getSize();pt(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(tt(this._box),ct(this._container,"leaflet-crosshair")),Za(),Lp(),Be(document,{contextmenu:Ts,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var l=new Xe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Le.addInitHook("addHandler","boxZoom",Yw),Le.mergeOptions({doubleClickZoom:!0});var Zw=gi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var l=this._map,h=l.getZoom(),f=l.options.zoomDelta,m=o.originalEvent.shiftKey?h-f:h+f;l.options.doubleClickZoom==="center"?l.setZoom(m):l.setZoomAround(o.containerPoint,m)}});Le.addInitHook("addHandler","doubleClickZoom",Zw),Le.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Kw=gi.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Er(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}xe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ct(this._map._container,"leaflet-grab"),ct(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=ke(this._map.options.maxBounds);this._offsetLimit=Se(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,l){return o-(o-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;o.x<l.min.x&&(o.x=this._viscousLimit(o.x,l.min.x)),o.y<l.min.y&&(o.y=this._viscousLimit(o.y,l.min.y)),o.x>l.max.x&&(o.x=this._viscousLimit(o.x,l.max.x)),o.y>l.max.y&&(o.y=this._viscousLimit(o.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,l=Math.round(o/2),h=this._initialWorldOffset,f=this._draggable._newPos.x,m=(f-l+h)%o+l-h,x=(f+l+h)%o-l-h,I=Math.abs(m+h)<Math.abs(x+h)?m:x;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=I},_onDragEnd:function(o){var l=this._map,h=l.options,f=!h.inertia||o.noInertia||this._times.length<2;if(l.fire("dragend",o),f)l.fire("moveend");else{this._prunePositions(+new Date);var m=this._lastPos.subtract(this._positions[0]),x=(this._lastTime-this._times[0])/1e3,I=h.easeLinearity,A=m.multiplyBy(I/x),R=A.distanceTo([0,0]),B=Math.min(h.inertiaMaxSpeed,R),X=A.multiplyBy(B/R),de=B/(h.inertiaDeceleration*I),Te=X.multiplyBy(-de/2).round();!Te.x&&!Te.y?l.fire("moveend"):(Te=l._limitOffset(Te,l.options.maxBounds),F(function(){l.panBy(Te,{duration:de,easeLinearity:I,noMoveStart:!0,animate:!0})}))}}});Le.addInitHook("addHandler","dragging",Kw),Le.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Qw=gi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),ve(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Be(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,l=document.documentElement,h=o.scrollTop||l.scrollTop,f=o.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(f,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var l=this._panKeys={},h=this.keyCodes,f,m;for(f=0,m=h.left.length;f<m;f++)l[h.left[f]]=[-1*o,0];for(f=0,m=h.right.length;f<m;f++)l[h.right[f]]=[o,0];for(f=0,m=h.down.length;f<m;f++)l[h.down[f]]=[0,o];for(f=0,m=h.up.length;f<m;f++)l[h.up[f]]=[0,-1*o]},_setZoomDelta:function(o){var l=this._zoomKeys={},h=this.keyCodes,f,m;for(f=0,m=h.zoomIn.length;f<m;f++)l[h.zoomIn[f]]=o;for(f=0,m=h.zoomOut.length;f<m;f++)l[h.zoomOut[f]]=-o},_addHooks:function(){ve(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Be(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var l=o.keyCode,h=this._map,f;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(f=this._panKeys[l],o.shiftKey&&(f=V(f).multiplyBy(3)),h.options.maxBounds&&(f=h._limitOffset(V(f),h.options.maxBounds)),h.options.worldCopyJump){var m=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(f)));h.panTo(m)}else h.panBy(f)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;Ts(o)}}});Le.addInitHook("addHandler","keyboard",Qw),Le.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Xw=gi.extend({addHooks:function(){ve(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Be(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var l=Sw(o),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var f=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),f),Ts(o)},_performZoom:function(){var o=this._map,l=o.getZoom(),h=this._map.options.zoomSnap||0;o._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),m=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,x=h?Math.ceil(m/h)*h:m,I=o._limitZoom(l+(this._delta>0?x:-x))-l;this._delta=0,this._startTime=null,I&&(o.options.scrollWheelZoom==="center"?o.setZoom(l+I):o.setZoomAround(this._lastMousePos,l+I))}});Le.addInitHook("addHandler","scrollWheelZoom",Xw);var uN=600;Le.mergeOptions({tapHold:oe.touchNative&&oe.safari&&oe.mobile,tapTolerance:15});var Jw=gi.extend({addHooks:function(){ve(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Be(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var l=o.touches[0];this._startPos=this._newPos=new D(l.clientX,l.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(ve(document,"touchend",Lt),ve(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),uN),ve(document,"touchend touchcancel contextmenu",this._cancel,this),ve(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){Be(document,"touchend",Lt),Be(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),Be(document,"touchend touchcancel contextmenu",this._cancel,this),Be(document,"touchmove",this._onMove,this)},_onMove:function(o){var l=o.touches[0];this._newPos=new D(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,l){var h=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});Le.addInitHook("addHandler","tapHold",Jw),Le.mergeOptions({touchZoom:oe.touch,bounceAtZoomLimits:!0});var e1=gi.extend({addHooks:function(){xe(this._map._container,"leaflet-touch-zoom"),ve(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ct(this._map._container,"leaflet-touch-zoom"),Be(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var l=this._map;if(!(!o.touches||o.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(o.touches[0]),f=l.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(f)._divideBy(2))),this._startDist=h.distanceTo(f),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),ve(document,"touchmove",this._onTouchMove,this),ve(document,"touchend touchcancel",this._onTouchEnd,this),Lt(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(o.touches[0]),f=l.mouseEventToContainerPoint(o.touches[1]),m=h.distanceTo(f)/this._startDist;if(this._zoom=l.getScaleZoom(m,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&m<1||this._zoom>l.getMaxZoom()&&m>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,m===1)return}else{var x=h._add(f)._divideBy(2)._subtract(this._centerPoint);if(m===1&&x.x===0&&x.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(x),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),$(this._animRequest);var I=a(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=F(I,this,!0),Lt(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,$(this._animRequest),Be(document,"touchmove",this._onTouchMove,this),Be(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Le.addInitHook("addHandler","touchZoom",e1),Le.BoxZoom=Yw,Le.DoubleClickZoom=Zw,Le.Drag=Kw,Le.Keyboard=Qw,Le.ScrollWheelZoom=Xw,Le.TapHold=Jw,Le.TouchZoom=e1,n.Bounds=se,n.Browser=oe,n.CRS=un,n.Canvas=Hw,n.Circle=Wp,n.CircleMarker=Cc,n.Class=ie,n.Control=Qn,n.DivIcon=jw,n.DivOverlay=vi,n.DomEvent=bL,n.DomUtil=CL,n.Draggable=Er,n.Evented=_e,n.FeatureGroup=Bi,n.GeoJSON=Hi,n.GridLayer=tl,n.Handler=gi,n.Icon=xo,n.ImageOverlay=Lc,n.LatLng=Pe,n.LatLngBounds=Xe,n.Layer=Xn,n.LayerGroup=wo,n.LineUtil=UL,n.Map=Le,n.Marker=Ec,n.Mixin=AL,n.Path=Cr,n.Point=D,n.PolyUtil=RL,n.Polygon=So,n.Polyline=Vi,n.Popup=Nc,n.PosAnimation=Tw,n.Projection=jL,n.Rectangle=qw,n.Renderer=Wi,n.SVG=il,n.SVGOverlay=Uw,n.TileLayer=Eo,n.Tooltip=Mc,n.Transformation=vp,n.Util=q,n.VideoOverlay=Fw,n.bind=a,n.bounds=Se,n.canvas=Ww,n.circle=ZL,n.circleMarker=YL,n.control=Xa,n.divIcon=rN,n.extend=r,n.featureGroup=WL,n.geoJSON=zw,n.geoJson=XL,n.gridLayer=sN,n.icon=GL,n.imageOverlay=JL,n.latLng=ge,n.latLngBounds=ke,n.layerGroup=HL,n.map=IL,n.marker=qL,n.point=V,n.polygon=QL,n.polyline=KL,n.popup=nN,n.rectangle=lN,n.setOptions=C,n.stamp=c,n.svg=Gw,n.svgOverlay=tN,n.tileLayer=Bw,n.tooltip=iN,n.transformation=Ha,n.version=i,n.videoOverlay=eN;var cN=window.L;n.noConflict=function(){return window.L=cN,this},window.L=n})})(Qv,Qv.exports);var mp=Qv.exports;function G0(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function q0(t,e){return e==null?function(i,r){const s=M.useRef();return s.current||(s.current=t(i,r)),s}:function(i,r){const s=M.useRef();s.current||(s.current=t(i,r));const a=M.useRef(i),{instance:u}=s.current;return M.useEffect(function(){a.current!==i&&(e(u,i,a.current),a.current=i)},[u,i,r]),s}}function m7(t,e){M.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var s;(s=e.layerContainer)==null||s.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function YP(t){return function(n){const i=GP(),r=t(W0(n,i),i);return VP(i.map,n.attribution),qP(r.current,n.eventHandlers),m7(r.current,i),r}}function g7(t,e){const n=q0(t,e),i=YP(n);return h7(i)}function v7(t,e){const n=q0(t),i=p7(n,e);return d7(i)}function y7(t,e){const n=q0(t,e),i=YP(n);return f7(i)}function _7(t,e,n){const{opacity:i,zIndex:r}=e;i!=null&&i!==n.opacity&&t.setOpacity(i),r!=null&&r!==n.zIndex&&t.setZIndex(r)}function Xv(){return Xv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Xv.apply(this,arguments)}function w7({bounds:t,boundsOptions:e,center:n,children:i,className:r,id:s,placeholder:a,style:u,whenReady:c,zoom:d,...p},g){const[y]=M.useState({className:r,id:s,style:u}),[w,E]=M.useState(null);M.useImperativeHandle(g,()=>(w==null?void 0:w.map)??null,[w]);const C=M.useCallback(v=>{if(v!==null&&w===null){const _=new mp.Map(v,p);n!=null&&d!=null?_.setView(n,d):t!=null&&_.fitBounds(t,e),c!=null&&_.whenReady(c),E(u7(_))}},[]);M.useEffect(()=>()=>{w==null||w.map.remove()},[w]);const b=w?le.createElement(WP,{value:w},i):a??null;return le.createElement("div",Xv({},y,{ref:C}),b)}const x7=M.forwardRef(w7),S7=g7(function({position:e,...n},i){const r=new mp.Marker(e,n);return G0(r,c7(i,{overlayContainer:r}))},function(e,n,i){n.position!==i.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),T7=v7(function(e,n){const i=new mp.Popup(e,n.overlayContainer);return G0(i,n)},function(e,n,{position:i},r){M.useEffect(function(){const{instance:a}=e;function u(d){d.popup===a&&(a.update(),r(!0))}function c(d){d.popup===a&&r(!1)}return n.map.on({popupopen:u,popupclose:c}),n.overlayContainer==null?(i!=null&&a.setLatLng(i),a.openOn(n.map)):n.overlayContainer.bindPopup(a),function(){var p;n.map.off({popupopen:u,popupclose:c}),(p=n.overlayContainer)==null||p.unbindPopup(),n.map.removeLayer(a)}},[e,n,r,i])}),E7=y7(function({url:e,...n},i){const r=new mp.TileLayer(e,W0(n,i));return G0(r,i)},function(e,n,i){_7(e,n,i);const{url:r}=n;r!=null&&r!==i.url&&e.setUrl(r)}),C7=()=>{var p;const t=Fi(),e=LC(),[n,i]=M.useState(null),[r,s]=M.useState(!0),[a,u]=M.useState(!1);if(to.use([Ib,kb,bb]),M.useEffect(()=>{(async()=>{const y=vr(oi,"listings",e.listingId),w=await Gf(y);w.exists()&&(i(w.data()),s(!1))})()},[e.listingID]),r)return T.jsx(sc,{});const d=(Number(n.cost)-Number(n.discount)).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return T.jsxs("main",{children:[T.jsx(o0,{slidesPerView:1,navigation:!0,pagination:{type:"bullets"},effect:"fade",modules:[Pb],autoplay:{delay:3e3},children:n.imgUrls.map((g,y)=>T.jsx(a0,{children:T.jsx("div",{className:"relative w-full overflow-hidden h-[400px]",style:{background:`url(${n.imgUrls[y]}) center no-repeat`,backgroundSize:"cover"}})},y))}),T.jsx("div",{className:" fixed text-[#007aff] top-[10%] right-[3%] z-10 cursor-pointc bg-[#e2e2e2] w-10 h-10 flex justify-center items-center rounded-full hover:bg-[#007aff] hover:text-[#e2e2e2] transition duration-500 ease-in-out",title:"Copy Link to Property",onClick:()=>{navigator.clipboard.writeText(window.location.href),ae.success("Link to Property Copied 🎉")},children:T.jsx(o7,{className:"text-lg"})}),T.jsxs("div",{className:"bg-[#e2e2e2] m-4 flex flex-col md:flex-row max-w-6xl lg:mx-auto p-4 rounded-lg shadow-lg gap-5",children:[T.jsxs("div",{className:"w-full",children:[T.jsxs("p",{className:"text-2xl font-bold mb-3 text-[#002470]",children:[n.name," - Ksh"," ",n.offer?n.discount.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):n.cost.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")," ",n.type==="rent"?"/month":""]}),T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx(vP,{className:"h-4 w-4 text-[#10192D]"}),T.jsx("p",{className:"font-semibold text-base mb-[2px] text-[#202e3d]",children:n.address})]}),T.jsxs("div",{className:"flex justify-start items-center gap-5 w-[75%] my-3",children:[T.jsx("p",{className:"bg-[#421414] text-[#fff] w-full max-w-[200px] rounded-md p-1 text-center font-semibold shadow-md",children:n.type==="rent"?"Rent":"Sale"}),n.offer&&T.jsxs("p",{className:"w-full max-w-[200px] bg-[#007aff] text-[#10192D] rounded-md p-1 text-center font-semibold shadow-md",children:["Ksh ",d," ",T.jsx("span",{className:" font-bold",children:"discount"})]})]}),T.jsxs("p",{children:[" ",T.jsxs("span",{className:" font-semibold text-lg text-[#162433]",children:["Description:"," "]})," ",n.description]}),T.jsxs("div",{className:"flex items-center my-3 gap-10",children:[T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx(tp,{}),T.jsx("p",{className:"font-bold text-sm",children:n.bedrooms>1?`${n.bedrooms} Beds`:"1 Bed"})]}),T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx(ep,{}),T.jsx("p",{className:"font-bold text-sm",children:n.restrooms>1?`${n.restrooms} Rests`:"1 Rest"})]}),T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx(IU,{}),T.jsx("p",{className:"font-bold text-sm",children:n.parking?"Available Parking":"No Parking"})]}),T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx(N8,{}),T.jsx("p",{className:"font-bold text-sm",children:n.furnish?"Furnished":"Not Furnished"})]})]}),n.userRef!==((p=t.currentUser)==null?void 0:p.uid)&&!a&&T.jsx("div",{children:T.jsx("button",{onClick:()=>u(!0),className:"w-full bg-[#10192D] text-[#fff] font-medium uppercase shadow-md hover:shadow-lg px-7 py-3 rounded cursor-pointc text-base hover:bg-[#192d41] transition duration-150 ease-in-out focus:bg-[#10192D] focus:shadow-lg text-center",children:"Contact Landlord"})}),a&&T.jsx(a7,{userRef:n.userRef,listing:n})]}),T.jsx("div",{className:" w-full h-[200px] md:h-[400px] z-10 overflow-x-hidden mt-6 md:mt-0 md:ml-2 rounded",children:T.jsxs(x7,{center:[-.39728671480506683,36.96372787556248],zoom:13,scrollWheelZoom:!1,style:{height:"100%",width:"100%"},children:[T.jsx(E7,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),T.jsx(S7,{position:[-.39728671480506683,36.96372787556248],children:T.jsx(T7,{children:n.address})})]})})]})]})},k7="/assets/logonobg-33c0ff4e.png",b7=()=>{const[t,e]=M.useState("Sign In"),{pathname:n}=Oa(),i=a=>{if(a===n)return!0},r=$i(),s=Fi();return M.useEffect(()=>{aI(s,a=>{e(a?"Profile":"Sign In")})},[s]),T.jsx("div",{className:"bg-navcolor shadow-md sticky top-0 z-40",children:T.jsxs("header",{className:"flex justify-between items-center px-3 max-w-6xl mx-auto",children:[T.jsx("div",{children:T.jsx("img",{src:k7,className:"cursor-pointc h-10",alt:"HomeTopia Logo",onClick:()=>r("/")})}),T.jsx("div",{children:T.jsxs("ul",{className:"flex space-x-10",children:[T.jsx("li",{className:`cursor-pointc py-3 text-lg font-semibold text-[#18C7FA] hover:text-[#9dd8eb] ${i("/")&&"border-b-[3px] text-[#9dd8eb]"} `,onClick:()=>r("/"),children:"Home"}),T.jsx("li",{className:`cursor-pointc py-3 text-lg font-semibold text-[#18C7FA] hover:text-[#9dd8eb] ${i("/offers")&&"border-b-[3px] text-[#9dd8eb]"} `,onClick:()=>r("/offers"),children:"Offers"}),T.jsx("li",{className:`cursor-pointc py-3 text-lg font-semibold text-[#18C7FA] hover:text-[#9dd8eb] ${(i("/sign-in")||i("/profile"))&&"border-b-[3px] text-[#9dd8eb]"} `,onClick:()=>r("/profile"),children:t}),t!=="Profile"&&T.jsx("li",{className:`cursor-pointc py-3 text-lg font-semibold text-[#18C7FA] hover:text-[#9dd8eb] ${i("/sign-up")&&"border-b-[3px] text-[#9dd8eb]"} `,onClick:()=>r("/sign-up"),children:"Sign Up"}),T.jsx("li",{className:"py-4",children:T.jsx("a",{href:"https://github.com/gateremark/hometopia",className:"cursor-pointc text-xl font-semibold text-[#334155] items-center hover:text-[#9dd8eb] transition duration-500 ease-in-out focus:outline-none focus:ring-offset-2",target:"_blank",children:T.jsx(bU,{})})})]})})]})})};function I7(){return T.jsxs(T.Fragment,{children:[T.jsxs(BA,{children:[T.jsx(b7,{}),T.jsxs($A,{children:[T.jsx(wn,{path:"/",element:T.jsx(l5,{})}),T.jsx(wn,{path:"/profile",element:T.jsx(ag,{}),children:T.jsx(wn,{path:"/profile",element:T.jsx(O8,{})})}),T.jsx(wn,{path:"/offers",element:T.jsx(A8,{})}),T.jsx(wn,{path:"/forgot-password",element:T.jsx($8,{})}),T.jsx(wn,{path:"/sign-in",element:T.jsx(F8,{})}),T.jsx(wn,{path:"/sign-up",element:T.jsx(j8,{})}),T.jsx(wn,{path:"/add-listing",element:T.jsx(ag,{}),children:T.jsx(wn,{path:"/add-listing",element:T.jsx(i7,{})})}),T.jsx(wn,{path:"/edit-listing",element:T.jsx(ag,{}),children:T.jsx(wn,{path:"/edit-listing/:listingId",element:T.jsx(r7,{})})}),T.jsx(wn,{path:"/category/:categoryName/:listingId",element:T.jsx(C7,{})})]})]}),T.jsx(Bv,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark"})]})}lg.createRoot(document.getElementById("root")).render(T.jsx(le.StrictMode,{children:T.jsx(I7,{})}))});export default P7();
